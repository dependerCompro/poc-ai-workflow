{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { getCurrentScope, onScopeDispose, isRef, reactive, unref, toRefs as toRefs$1, customRef, ref, readonly, watch, getCurrentInstance, nextTick, computed, toRef, toValue as toValue$1, onMounted, markRaw, inject, effectScope, onBeforeMount, defineComponent, createPropsRestProxy, onUnmounted, openBlock, createElementBlock, normalizeClass, renderSlot, h, normalizeStyle, createCommentVNode, createElementVNode, mergeProps, createBlock, resolveDynamicComponent, Fragment, createTextVNode, toDisplayString, useAttrs, provide, onBeforeUnmount, createVNode, withCtx, resolveComponent, renderList, Teleport, isMemoSame, useSlots } from \"vue\";\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction toValue(r) {\n  return typeof r === \"function\" ? r() : unref(r);\n}\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef)) return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value)) objectRef.value[p].value = value;else objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\nconst isClient = typeof window !== \"undefined\" && typeof document !== \"undefined\";\nconst isDef$1 = val => typeof val !== \"undefined\";\nconst toString = Object.prototype.toString;\nconst isObject = val => toString.call(val) === \"[object Object]\";\nconst noop$2 = () => {};\nfunction createFilterWrapper(filter2, fn) {\n  function wrapper(...args) {\n    return new Promise((resolve, reject) => {\n      Promise.resolve(filter2(() => fn.apply(this, args), {\n        fn,\n        thisArg: this,\n        args\n      })).then(resolve).catch(reject);\n    });\n  }\n  return wrapper;\n}\nconst bypassFilter = invoke => {\n  return invoke();\n};\nfunction pausableFilter(extendFilter = bypassFilter) {\n  const isActive = ref(true);\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value) extendFilter(...args);\n  };\n  return {\n    isActive: readonly(isActive),\n    pause,\n    resume,\n    eventFilter\n  };\n}\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout) setTimeout(() => reject(reason), ms);else setTimeout(resolve, ms);\n  });\n}\nfunction watchWithFilter(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  return watch(source, createFilterWrapper(eventFilter, cb), watchOptions);\n}\nfunction watchPausable(source, cb, options = {}) {\n  const {\n    eventFilter: filter2,\n    ...watchOptions\n  } = options;\n  const {\n    eventFilter,\n    pause,\n    resume,\n    isActive\n  } = pausableFilter(filter2);\n  const stop = watchWithFilter(source, cb, {\n    ...watchOptions,\n    eventFilter\n  });\n  return {\n    stop,\n    pause,\n    resume,\n    isActive\n  };\n}\nfunction toRefs(objectRef, options = {}) {\n  if (!isRef(objectRef)) return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? Array.from({\n    length: objectRef.value.length\n  }) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        var _a;\n        const replaceRef = (_a = toValue(options.replaceRef)) != null ? _a : true;\n        if (replaceRef) {\n          if (Array.isArray(objectRef.value)) {\n            const copy = [...objectRef.value];\n            copy[key] = v;\n            objectRef.value = copy;\n          } else {\n            const newObject = {\n              ...objectRef.value,\n              [key]: v\n            };\n            Object.setPrototypeOf(newObject, Object.getPrototypeOf(objectRef.value));\n            objectRef.value = newObject;\n          }\n        } else {\n          objectRef.value[key] = v;\n        }\n      }\n    }));\n  }\n  return result;\n}\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, {\n    flush = \"sync\",\n    deep = false,\n    timeout: timeout2,\n    throwOnTimeout\n  } = {}) {\n    let stop = null;\n    const watcher = new Promise(resolve => {\n      stop = watch(r, v => {\n        if (condition(v) !== isNot) {\n          stop == null ? void 0 : stop();\n          resolve(v);\n        }\n      }, {\n        flush,\n        deep,\n        immediate: true\n      });\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => stop == null ? void 0 : stop()));\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value)) return toMatch(v => v === value, options);\n    const {\n      flush = \"sync\",\n      deep = false,\n      timeout: timeout2,\n      throwOnTimeout\n    } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise(resolve => {\n      stop = watch([r, value], ([v1, v2]) => {\n        if (isNot !== (v1 === v2)) {\n          stop == null ? void 0 : stop();\n          resolve(v1);\n        }\n      }, {\n        flush,\n        deep,\n        immediate: true\n      });\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => {\n        stop == null ? void 0 : stop();\n        return toValue(r);\n      }));\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch(v => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch(v => {\n      const array2 = Array.from(v);\n      return array2.includes(value) || array2.includes(toValue(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(toValue(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = toValue(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nconst defaultWindow = isClient ? window : void 0;\nfunction useEventListener(...args) {\n  let target;\n  let events;\n  let listeners;\n  let options;\n  if (typeof args[0] === \"string\" || Array.isArray(args[0])) {\n    [events, listeners, options] = args;\n    target = defaultWindow;\n  } else {\n    [target, events, listeners, options] = args;\n  }\n  if (!target) return noop$2;\n  if (!Array.isArray(events)) events = [events];\n  if (!Array.isArray(listeners)) listeners = [listeners];\n  const cleanups = [];\n  const cleanup = () => {\n    cleanups.forEach(fn => fn());\n    cleanups.length = 0;\n  };\n  const register = (el, event, listener, options2) => {\n    el.addEventListener(event, listener, options2);\n    return () => el.removeEventListener(event, listener, options2);\n  };\n  const stopWatch = watch(() => [unrefElement(target), toValue(options)], ([el, options2]) => {\n    cleanup();\n    if (!el) return;\n    const optionsClone = isObject(options2) ? {\n      ...options2\n    } : options2;\n    cleanups.push(...events.flatMap(event => {\n      return listeners.map(listener => register(el, event, listener, optionsClone));\n    }));\n  }, {\n    immediate: true,\n    flush: \"post\"\n  });\n  const stop = () => {\n    stopWatch();\n    cleanup();\n  };\n  tryOnScopeDispose(stop);\n  return stop;\n}\nfunction createKeyPredicate$1(keyFilter) {\n  if (typeof keyFilter === \"function\") return keyFilter;else if (typeof keyFilter === \"string\") return event => event.key === keyFilter;else if (Array.isArray(keyFilter)) return event => keyFilter.includes(event.key);\n  return () => true;\n}\nfunction onKeyStroke(...args) {\n  let key;\n  let handler;\n  let options = {};\n  if (args.length === 3) {\n    key = args[0];\n    handler = args[1];\n    options = args[2];\n  } else if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      key = true;\n      handler = args[0];\n      options = args[1];\n    } else {\n      key = args[0];\n      handler = args[1];\n    }\n  } else {\n    key = true;\n    handler = args[0];\n  }\n  const {\n    target = defaultWindow,\n    eventName = \"keydown\",\n    passive = false,\n    dedupe = false\n  } = options;\n  const predicate = createKeyPredicate$1(key);\n  const listener = e => {\n    if (e.repeat && toValue(dedupe)) return;\n    if (predicate(e)) handler(e);\n  };\n  return useEventListener(target, eventName, listener, passive);\n}\nfunction cloneFnJSON(source) {\n  return JSON.parse(JSON.stringify(source));\n}\nfunction useVModel(props, key, emit, options = {}) {\n  var _a, _b, _c;\n  const {\n    clone = false,\n    passive = false,\n    eventName,\n    deep = false,\n    defaultValue,\n    shouldEmit\n  } = options;\n  const vm = getCurrentInstance();\n  const _emit = emit || (vm == null ? void 0 : vm.emit) || ((_a = vm == null ? void 0 : vm.$emit) == null ? void 0 : _a.bind(vm)) || ((_c = (_b = vm == null ? void 0 : vm.proxy) == null ? void 0 : _b.$emit) == null ? void 0 : _c.bind(vm == null ? void 0 : vm.proxy));\n  let event = eventName;\n  if (!key) {\n    {\n      key = \"modelValue\";\n    }\n  }\n  event = event || `update:${key.toString()}`;\n  const cloneFn = val => !clone ? val : typeof clone === \"function\" ? clone(val) : cloneFnJSON(val);\n  const getValue = () => isDef$1(props[key]) ? cloneFn(props[key]) : defaultValue;\n  const triggerEmit = value => {\n    if (shouldEmit) {\n      if (shouldEmit(value)) _emit(event, value);\n    } else {\n      _emit(event, value);\n    }\n  };\n  if (passive) {\n    const initialValue = getValue();\n    const proxy = ref(initialValue);\n    let isUpdating = false;\n    watch(() => props[key], v => {\n      if (!isUpdating) {\n        isUpdating = true;\n        proxy.value = cloneFn(v);\n        nextTick(() => isUpdating = false);\n      }\n    });\n    watch(proxy, v => {\n      if (!isUpdating && (v !== props[key] || deep)) triggerEmit(v);\n    }, {\n      deep\n    });\n    return proxy;\n  } else {\n    return computed({\n      get() {\n        return getValue();\n      },\n      set(value) {\n        triggerEmit(value);\n      }\n    });\n  }\n}\nvar noop$1 = {\n  value: () => {}\n};\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\nfunction Dispatch(_) {\n  this._ = _;\n}\nfunction parseTypenames$1(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n      i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {\n      type: t,\n      name\n    };\n  });\n}\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function (typename, callback) {\n    var _ = this._,\n      T = parseTypenames$1(typename + \"\", _),\n      t,\n      i = -1,\n      n = T.length;\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get$1(_[t], typename.name))) return t;\n      return;\n    }\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set$1(_[t], typename.name, callback);else if (callback == null) for (t in _) _[t] = set$1(_[t], typename.name, null);\n    }\n    return this;\n  },\n  copy: function () {\n    var copy = {},\n      _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function (type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function (type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\nfunction get$1(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\nfunction set$1(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop$1, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({\n    name,\n    value: callback\n  });\n  return type;\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nconst namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n  var prefix = name += \"\",\n    i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {\n    space: namespaces[prefix],\n    local: name\n  } : name;\n}\nfunction creatorInherit(name) {\n  return function () {\n    var document2 = this.ownerDocument,\n      uri = this.namespaceURI;\n    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function () {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\nfunction none() {}\nfunction selector(selector2) {\n  return selector2 == null ? none : function () {\n    return this.querySelector(selector2);\n  };\n}\nfunction selection_select(select2) {\n  if (typeof select2 !== \"function\") select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\nfunction empty() {\n  return [];\n}\nfunction selectorAll(selector2) {\n  return selector2 == null ? empty : function () {\n    return this.querySelectorAll(selector2);\n  };\n}\nfunction arrayAll(select2) {\n  return function () {\n    return array(select2.apply(this, arguments));\n  };\n}\nfunction selection_selectAll(select2) {\n  if (typeof select2 === \"function\") select2 = arrayAll(select2);else select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select2.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, parents);\n}\nfunction matcher(selector2) {\n  return function () {\n    return this.matches(selector2);\n  };\n}\nfunction childMatcher(selector2) {\n  return function (node) {\n    return node.matches(selector2);\n  };\n}\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function () {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function () {\n    return filter.call(this.children, match);\n  };\n}\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\nfunction selection_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction sparse(update) {\n  return new Array(update.length);\n}\nfunction selection_enter() {\n  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum2) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum2;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function (child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function (child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function (selector2) {\n    return this._parent.querySelector(selector2);\n  },\n  querySelectorAll: function (selector2) {\n    return this._parent.querySelectorAll(selector2);\n  }\n};\nfunction constant$3(x) {\n  return function () {\n    return x;\n  };\n}\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n    node,\n    groupLength = group.length,\n    dataLength = data.length;\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n    node,\n    nodeByKeyValue = /* @__PURE__ */new Map(),\n    groupLength = group.length,\n    dataLength = data.length,\n    keyValues = new Array(groupLength),\n    keyValue;\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nfunction selection_data(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex,\n    parents = this._parents,\n    groups = this._groups;\n  if (typeof value !== \"function\") value = constant$3(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n      group = groups[j],\n      groupLength = group.length,\n      data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n      dataLength = data.length,\n      enterGroup = enter[j] = new Array(dataLength),\n      updateGroup = update[j] = new Array(dataLength),\n      exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection$1(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data : Array.from(data);\n}\nfunction selection_exit() {\n  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(),\n    update = this,\n    exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove();else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(context) {\n  var selection2 = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection$1(merges, this._parents);\n}\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}\nfunction selection_sort(compare) {\n  if (!compare) compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection$1(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\nfunction selection_nodes() {\n  return Array.from(this);\n}\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n  return null;\n}\nfunction selection_size() {\n  let size = 0;\n  for (const node of this) ++size;\n  return size;\n}\nfunction selection_empty() {\n  return !this.node();\n}\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}\nfunction attrRemove$1(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS$1(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant$1(name, value) {\n  return function () {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS$1(fullname, value) {\n  return function () {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction$1(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);else this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS$1(fullname, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS$1 : attrRemove$1 : typeof value === \"function\" ? fullname.local ? attrFunctionNS$1 : attrFunction$1 : fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, value));\n}\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;\n}\nfunction styleRemove$1(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant$1(name, value, priority) {\n  return function () {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction$1(name, value, priority) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);else this.style.setProperty(name, v, priority);\n  };\n}\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove$1 : typeof value === \"function\" ? styleFunction$1 : styleConstant$1)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n  return function () {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function () {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];else this[name] = v;\n  };\n}\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function (name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function (name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function (name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node),\n    i = -1,\n    n = names.length;\n  while (++i < n) list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node),\n    i = -1,\n    n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function () {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function () {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function () {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()),\n      i = -1,\n      n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant$1(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\nfunction textFunction$1(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction$1 : textConstant$1)(value)) : this.node().textContent;\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function () {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n  return this.each(raise);\n}\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n  return this.each(lower);\n}\nfunction selection_append(name) {\n  var create2 = typeof name === \"function\" ? name : creator(name);\n  return this.select(function () {\n    return this.appendChild(create2.apply(this, arguments));\n  });\n}\nfunction constantNull() {\n  return null;\n}\nfunction selection_insert(name, before) {\n  var create2 = typeof name === \"function\" ? name : creator(name),\n    select2 = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function () {\n    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);\n  });\n}\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\nfunction selection_remove() {\n  return this.each(remove);\n}\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false),\n    parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true),\n    parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\nfunction contextListener(listener) {\n  return function (event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n      i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {\n      type: t,\n      name\n    };\n  });\n}\nfunction onRemove(typename) {\n  return function () {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;else delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function () {\n    var on = this.__on,\n      o,\n      listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {\n      type: typename.type,\n      name: typename.name,\n      value,\n      listener,\n      options\n    };\n    if (!on) this.__on = [o];else on.push(o);\n  };\n}\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"),\n    i,\n    n = typenames.length,\n    t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\nfunction dispatchEvent(node, type, params) {\n  var window2 = defaultView(node),\n    event = window2.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window2.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;else event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\nvar root = [null];\nfunction Selection$1(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection() {\n  return new Selection$1([[document.documentElement]], root);\n}\nfunction selection_selection() {\n  return this;\n}\nSelection$1.prototype = selection.prototype = {\n  constructor: Selection$1,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nfunction select(selector2) {\n  return typeof selector2 === \"string\" ? new Selection$1([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$1([[selector2]], root);\n}\nfunction sourceEvent(event) {\n  let sourceEvent2;\n  while (sourceEvent2 = event.sourceEvent) event = sourceEvent2;\n  return event;\n}\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === void 0) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\nconst nonpassive = {\n  passive: false\n};\nconst nonpassivecapture = {\n  capture: true,\n  passive: false\n};\nfunction nopropagation$1(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent$1(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n  var root2 = view.document.documentElement,\n    selection2 = select(view).on(\"dragstart.drag\", noevent$1, nonpassivecapture);\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", noevent$1, nonpassivecapture);\n  } else {\n    root2.__noselect = root2.style.MozUserSelect;\n    root2.style.MozUserSelect = \"none\";\n  }\n}\nfunction yesdrag(view, noclick) {\n  var root2 = view.document.documentElement,\n    selection2 = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection2.on(\"click.drag\", noevent$1, nonpassivecapture);\n    setTimeout(function () {\n      selection2.on(\"click.drag\", null);\n    }, 0);\n  }\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", null);\n  } else {\n    root2.style.MozUserSelect = root2.__noselect;\n    delete root2.__noselect;\n  }\n}\nconst constant$2 = x => () => x;\nfunction DragEvent(type, {\n  sourceEvent: sourceEvent2,\n  subject,\n  target,\n  identifier,\n  active,\n  x,\n  y,\n  dx,\n  dy,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: {\n      value: type,\n      enumerable: true,\n      configurable: true\n    },\n    sourceEvent: {\n      value: sourceEvent2,\n      enumerable: true,\n      configurable: true\n    },\n    subject: {\n      value: subject,\n      enumerable: true,\n      configurable: true\n    },\n    target: {\n      value: target,\n      enumerable: true,\n      configurable: true\n    },\n    identifier: {\n      value: identifier,\n      enumerable: true,\n      configurable: true\n    },\n    active: {\n      value: active,\n      enumerable: true,\n      configurable: true\n    },\n    x: {\n      value: x,\n      enumerable: true,\n      configurable: true\n    },\n    y: {\n      value: y,\n      enumerable: true,\n      configurable: true\n    },\n    dx: {\n      value: dx,\n      enumerable: true,\n      configurable: true\n    },\n    dy: {\n      value: dy,\n      enumerable: true,\n      configurable: true\n    },\n    _: {\n      value: dispatch2\n    }\n  });\n}\nDragEvent.prototype.on = function () {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\nfunction defaultFilter$1(event) {\n  return !event.ctrlKey && !event.button;\n}\nfunction defaultContainer() {\n  return this.parentNode;\n}\nfunction defaultSubject(event, d) {\n  return d == null ? {\n    x: event.x,\n    y: event.y\n  } : d;\n}\nfunction defaultTouchable$1() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction drag() {\n  var filter2 = defaultFilter$1,\n    container = defaultContainer,\n    subject = defaultSubject,\n    touchable = defaultTouchable$1,\n    gestures = {},\n    listeners = dispatch(\"start\", \"drag\", \"end\"),\n    active = 0,\n    mousedownx,\n    mousedowny,\n    mousemoving,\n    touchending,\n    clickDistance2 = 0;\n  function drag2(selection2) {\n    selection2.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved, nonpassive).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  function mousedowned(event, d) {\n    if (touchending || !filter2.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, nonpassivecapture).on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    dragDisable(event.view);\n    nopropagation$1(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n  function mousemoved(event) {\n    noevent$1(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx,\n        dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent$1(event);\n    gestures.mouse(\"end\", event);\n  }\n  function touchstarted(event, d) {\n    if (!filter2.call(this, event, d)) return;\n    var touches = event.changedTouches,\n      c = container.call(this, event, d),\n      n = touches.length,\n      i,\n      gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation$1(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n      n = touches.length,\n      i,\n      gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent$1(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n  function touchended(event) {\n    var touches = event.changedTouches,\n      n = touches.length,\n      i,\n      gesture;\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function () {\n      touchending = null;\n    }, 500);\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation$1(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n  function beforestart(that, container2, event, d, identifier, touch) {\n    var dispatch2 = listeners.copy(),\n      p = pointer(touch || event, container2),\n      dx,\n      dy,\n      s;\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n      sourceEvent: event,\n      target: drag2,\n      identifier,\n      active,\n      x: p[0],\n      y: p[1],\n      dx: 0,\n      dy: 0,\n      dispatch: dispatch2\n    }), d)) == null) return;\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n    return function gesture(type, event2, touch2) {\n      var p0 = p,\n        n;\n      switch (type) {\n        case \"start\":\n          gestures[identifier] = gesture, n = active++;\n          break;\n        case \"end\":\n          delete gestures[identifier], --active;\n        case \"drag\":\n          p = pointer(touch2 || event2, container2), n = active;\n          break;\n      }\n      dispatch2.call(type, that, new DragEvent(type, {\n        sourceEvent: event2,\n        subject: s,\n        target: drag2,\n        identifier,\n        active: n,\n        x: p[0] + dx,\n        y: p[1] + dy,\n        dx: p[0] - p0[0],\n        dy: p[1] - p0[1],\n        dispatch: dispatch2\n      }), d);\n    };\n  }\n  drag2.filter = function (_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : filter2;\n  };\n  drag2.container = function (_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$2(_), drag2) : container;\n  };\n  drag2.subject = function (_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$2(_), drag2) : subject;\n  };\n  drag2.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : touchable;\n  };\n  drag2.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag2 : value;\n  };\n  drag2.clickDistance = function (_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag2) : Math.sqrt(clickDistance2);\n  };\n  return drag2;\n}\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\nfunction Color() {}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n  reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n  reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n  reHex = /^#([0-9a-f]{3,8})$/,\n  reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n  reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n  reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n  reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n  reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n  reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 15792383,\n  antiquewhite: 16444375,\n  aqua: 65535,\n  aquamarine: 8388564,\n  azure: 15794175,\n  beige: 16119260,\n  bisque: 16770244,\n  black: 0,\n  blanchedalmond: 16772045,\n  blue: 255,\n  blueviolet: 9055202,\n  brown: 10824234,\n  burlywood: 14596231,\n  cadetblue: 6266528,\n  chartreuse: 8388352,\n  chocolate: 13789470,\n  coral: 16744272,\n  cornflowerblue: 6591981,\n  cornsilk: 16775388,\n  crimson: 14423100,\n  cyan: 65535,\n  darkblue: 139,\n  darkcyan: 35723,\n  darkgoldenrod: 12092939,\n  darkgray: 11119017,\n  darkgreen: 25600,\n  darkgrey: 11119017,\n  darkkhaki: 12433259,\n  darkmagenta: 9109643,\n  darkolivegreen: 5597999,\n  darkorange: 16747520,\n  darkorchid: 10040012,\n  darkred: 9109504,\n  darksalmon: 15308410,\n  darkseagreen: 9419919,\n  darkslateblue: 4734347,\n  darkslategray: 3100495,\n  darkslategrey: 3100495,\n  darkturquoise: 52945,\n  darkviolet: 9699539,\n  deeppink: 16716947,\n  deepskyblue: 49151,\n  dimgray: 6908265,\n  dimgrey: 6908265,\n  dodgerblue: 2003199,\n  firebrick: 11674146,\n  floralwhite: 16775920,\n  forestgreen: 2263842,\n  fuchsia: 16711935,\n  gainsboro: 14474460,\n  ghostwhite: 16316671,\n  gold: 16766720,\n  goldenrod: 14329120,\n  gray: 8421504,\n  green: 32768,\n  greenyellow: 11403055,\n  grey: 8421504,\n  honeydew: 15794160,\n  hotpink: 16738740,\n  indianred: 13458524,\n  indigo: 4915330,\n  ivory: 16777200,\n  khaki: 15787660,\n  lavender: 15132410,\n  lavenderblush: 16773365,\n  lawngreen: 8190976,\n  lemonchiffon: 16775885,\n  lightblue: 11393254,\n  lightcoral: 15761536,\n  lightcyan: 14745599,\n  lightgoldenrodyellow: 16448210,\n  lightgray: 13882323,\n  lightgreen: 9498256,\n  lightgrey: 13882323,\n  lightpink: 16758465,\n  lightsalmon: 16752762,\n  lightseagreen: 2142890,\n  lightskyblue: 8900346,\n  lightslategray: 7833753,\n  lightslategrey: 7833753,\n  lightsteelblue: 11584734,\n  lightyellow: 16777184,\n  lime: 65280,\n  limegreen: 3329330,\n  linen: 16445670,\n  magenta: 16711935,\n  maroon: 8388608,\n  mediumaquamarine: 6737322,\n  mediumblue: 205,\n  mediumorchid: 12211667,\n  mediumpurple: 9662683,\n  mediumseagreen: 3978097,\n  mediumslateblue: 8087790,\n  mediumspringgreen: 64154,\n  mediumturquoise: 4772300,\n  mediumvioletred: 13047173,\n  midnightblue: 1644912,\n  mintcream: 16121850,\n  mistyrose: 16770273,\n  moccasin: 16770229,\n  navajowhite: 16768685,\n  navy: 128,\n  oldlace: 16643558,\n  olive: 8421376,\n  olivedrab: 7048739,\n  orange: 16753920,\n  orangered: 16729344,\n  orchid: 14315734,\n  palegoldenrod: 15657130,\n  palegreen: 10025880,\n  paleturquoise: 11529966,\n  palevioletred: 14381203,\n  papayawhip: 16773077,\n  peachpuff: 16767673,\n  peru: 13468991,\n  pink: 16761035,\n  plum: 14524637,\n  powderblue: 11591910,\n  purple: 8388736,\n  rebeccapurple: 6697881,\n  red: 16711680,\n  rosybrown: 12357519,\n  royalblue: 4286945,\n  saddlebrown: 9127187,\n  salmon: 16416882,\n  sandybrown: 16032864,\n  seagreen: 3050327,\n  seashell: 16774638,\n  sienna: 10506797,\n  silver: 12632256,\n  skyblue: 8900331,\n  slateblue: 6970061,\n  slategray: 7372944,\n  slategrey: 7372944,\n  snow: 16775930,\n  springgreen: 65407,\n  steelblue: 4620980,\n  tan: 13808780,\n  teal: 32896,\n  thistle: 14204888,\n  tomato: 16737095,\n  turquoise: 4251856,\n  violet: 15631086,\n  wheat: 16113331,\n  white: 16777215,\n  whitesmoke: 16119285,\n  yellow: 16776960,\n  yellowgreen: 10145074\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h2, s, l, a) {\n  if (a <= 0) h2 = s = l = NaN;else if (l <= 0 || l >= 1) h2 = s = NaN;else if (s <= 0) h2 = NaN;\n  return new Hsl(h2, s, l, a);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n    g = o.g / 255,\n    b = o.b / 255,\n    min = Math.min(r, g, b),\n    max = Math.max(r, g, b),\n    h2 = NaN,\n    s = max - min,\n    l = (max + min) / 2;\n  if (s) {\n    if (r === max) h2 = (g - b) / s + (g < b) * 6;else if (g === max) h2 = (b - r) / s + 2;else h2 = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h2 *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h2;\n  }\n  return new Hsl(h2, s, l, o.opacity);\n}\nfunction hsl(h2, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h2) : new Hsl(h2, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h2, s, l, opacity) {\n  this.h = +h2;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h2 = this.h % 360 + (this.h < 0) * 360,\n      s = isNaN(h2) || isNaN(this.s) ? 0 : this.s,\n      l = this.l,\n      m2 = l + (l < 0.5 ? l : 1 - l) * s,\n      m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h2 >= 240 ? h2 - 240 : h2 + 120, m1, m2), hsl2rgb(h2, m1, m2), hsl2rgb(h2 < 120 ? h2 + 240 : h2 - 120, m1, m2), this.opacity);\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\nfunction hsl2rgb(h2, m1, m2) {\n  return (h2 < 60 ? m1 + (m2 - m1) * h2 / 60 : h2 < 180 ? m2 : h2 < 240 ? m1 + (m2 - m1) * (240 - h2) / 60 : m1) * 255;\n}\nconst constant$1 = x => () => x;\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant$1(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$1(isNaN(a) ? b : a);\n}\nconst interpolateRgb = function rgbGamma(y) {\n  var color2 = gamma(y);\n  function rgb$1(start2, end) {\n    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r),\n      g = color2(start2.g, end.g),\n      b = color2(start2.b, end.b),\n      opacity = nogamma(start2.opacity, end.opacity);\n    return function (t) {\n      start2.r = r(t);\n      start2.g = g(t);\n      start2.b = b(t);\n      start2.opacity = opacity(t);\n      return start2 + \"\";\n    };\n  }\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function (t) {\n    return a * (1 - t) + b * t;\n  };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n  reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n    am,\n    bm,\n    bs,\n    i = -1,\n    s = [],\n    q = [];\n  a = a + \"\", b = b + \"\";\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs;else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      if (s[i]) s[i] += bm;else s[++i] = bm;\n    } else {\n      s[++i] = null;\n      q.push({\n        i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n    bi = reB.lastIndex;\n  }\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs;else s[++i] = bs;\n  }\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i2 = 0, o; i2 < b; ++i2) s[(o = q[i2]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}\nvar degrees = 180 / Math.PI;\nvar identity$1 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX,\n    scaleY\n  };\n}\nvar svgNode;\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity$1 : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nfunction parseSvg(value) {\n  if (value == null) return identity$1;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity$1;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({\n        i: i - 4,\n        x: interpolateNumber(xa, xb)\n      }, {\n        i: i - 2,\n        x: interpolateNumber(ya, yb)\n      });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360;else if (b - a > 180) a += 360;\n      q.push({\n        i: s.push(pop(s) + \"rotate(\", null, degParen) - 2,\n        x: interpolateNumber(a, b)\n      });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({\n        i: s.push(pop(s) + \"skewX(\", null, degParen) - 2,\n        x: interpolateNumber(a, b)\n      });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: interpolateNumber(xa, xb)\n      }, {\n        i: i - 2,\n        x: interpolateNumber(ya, yb)\n      });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function (a, b) {\n    var s = [],\n      q = [];\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null;\n    return function (t) {\n      var i = -1,\n        n = q.length,\n        o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar epsilon2 = 1e-12;\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\nconst interpolateZoom = function zoomRho(rho, rho2, rho4) {\n  function zoom2(p0, p1) {\n    var ux0 = p0[0],\n      uy0 = p0[1],\n      w0 = p0[2],\n      ux1 = p1[0],\n      uy1 = p1[1],\n      w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function (t) {\n        return [ux0 + t * dx, uy0 + t * dy, w0 * Math.exp(rho * t * S)];\n      };\n    } else {\n      var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function (t) {\n        var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / cosh(rho * s + r0)];\n      };\n    }\n    i.duration = S * 1e3 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom2.rho = function (_) {\n    var _1 = Math.max(1e-3, +_),\n      _2 = _1 * _1,\n      _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom2;\n}(Math.SQRT2, 2, 4);\nvar frame = 0,\n  timeout$1 = 0,\n  interval = 0,\n  pokeDelay = 1e3,\n  taskHead,\n  taskTail,\n  clockLast = 0,\n  clockNow = 0,\n  clockSkew = 0,\n  clock = typeof performance === \"object\" && performance.now ? performance : Date,\n  setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) {\n    setTimeout(f, 17);\n  };\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n  clockNow = 0;\n}\nfunction Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function (callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function () {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nfunction timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nfunction timerFlush() {\n  now();\n  ++frame;\n  var t = taskHead,\n    e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(void 0, e);\n    t = t._next;\n  }\n  --frame;\n}\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout$1 = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\nfunction poke() {\n  var now2 = clock.now(),\n    delay = now2 - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now2;\n}\nfunction nap() {\n  var t0,\n    t1 = taskHead,\n    t2,\n    time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\nfunction sleep(time) {\n  if (frame) return;\n  if (timeout$1) timeout$1 = clearTimeout(timeout$1);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity) timeout$1 = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\nfunction timeout(callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id2, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};else if (id2 in schedules) return;\n  create(node, id2, {\n    name,\n    index,\n    // For context during callback.\n    group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nfunction init(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule2;\n}\nfunction set(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule2;\n}\nfunction get(node, id2) {\n  var schedule2 = node.__transition;\n  if (!schedule2 || !(schedule2 = schedule2[id2])) throw new Error(\"transition not found\");\n  return schedule2;\n}\nfunction create(node, id2, self) {\n  var schedules = node.__transition,\n    tween;\n  schedules[id2] = self;\n  self.timer = timer(schedule2, 0, self.time);\n  function schedule2(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start2, self.delay, self.time);\n    if (self.delay <= elapsed) start2(elapsed - self.delay);\n  }\n  function start2(elapsed) {\n    var i, j, n, o;\n    if (self.state !== SCHEDULED) return stop();\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n      if (o.state === STARTED) return timeout(start2);\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } else if (+i < id2) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n    timeout(function () {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return;\n    self.state = STARTED;\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n      i = -1,\n      n = tween.length;\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id2];\n    for (var i in schedules) return;\n    delete node.__transition;\n  }\n}\nfunction interrupt(node, name) {\n  var schedules = node.__transition,\n    schedule2,\n    active,\n    empty2 = true,\n    i;\n  if (!schedules) return;\n  name = name == null ? null : name + \"\";\n  for (i in schedules) {\n    if ((schedule2 = schedules[i]).name !== name) {\n      empty2 = false;\n      continue;\n    }\n    active = schedule2.state > STARTING && schedule2.state < ENDING;\n    schedule2.state = ENDED;\n    schedule2.timer.stop();\n    schedule2.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule2.index, schedule2.group);\n    delete schedules[i];\n  }\n  if (empty2) delete node.__transition;\n}\nfunction selection_interrupt(name) {\n  return this.each(function () {\n    interrupt(this, name);\n  });\n}\nfunction tweenRemove(id2, name) {\n  var tween0, tween1;\n  return function () {\n    var schedule2 = set(this, id2),\n      tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction tweenFunction(id2, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    var schedule2 = set(this, id2),\n      tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {\n          name,\n          value\n        }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction transition_tween(name, value) {\n  var id2 = this._id;\n  name += \"\";\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id2).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));\n}\nfunction tweenValue(transition2, name, value) {\n  var id2 = transition2._id;\n  transition2.each(function () {\n    var schedule2 = set(this, id2);\n    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function (node) {\n    return get(node, id2).value[name];\n  };\n}\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, interpolate2, value1) {\n  var string00,\n    string1 = value1 + \"\",\n    interpolate0;\n  return function () {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrConstantNS(fullname, interpolate2, value1) {\n  var string00,\n    string1 = value1 + \"\",\n    interpolate0;\n  return function () {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n      value1 = value(this),\n      string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction attrFunctionNS(fullname, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n      value1 = value(this),\n      string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction transition_attr(name, value) {\n  var fullname = namespace(name),\n    i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n  return function (t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\nfunction attrInterpolateNS(fullname, i) {\n  return function (t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id2, value) {\n  return function () {\n    init(this, id2).delay = +value.apply(this, arguments);\n  };\n}\nfunction delayConstant(id2, value) {\n  return value = +value, function () {\n    init(this, id2).delay = value;\n  };\n}\nfunction transition_delay(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id2, value)) : get(this.node(), id2).delay;\n}\nfunction durationFunction(id2, value) {\n  return function () {\n    set(this, id2).duration = +value.apply(this, arguments);\n  };\n}\nfunction durationConstant(id2, value) {\n  return value = +value, function () {\n    set(this, id2).duration = value;\n  };\n}\nfunction transition_duration(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id2, value)) : get(this.node(), id2).duration;\n}\nfunction easeConstant(id2, value) {\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    set(this, id2).ease = value;\n  };\n}\nfunction transition_ease(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each(easeConstant(id2, value)) : get(this.node(), id2).ease;\n}\nfunction easeVarying(id2, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error();\n    set(this, id2).ease = v;\n  };\n}\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\") throw new Error();\n  return this.each(easeVarying(this._id, value));\n}\nfunction transition_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition2) {\n  if (transition2._id !== this._id) throw new Error();\n  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\nfunction onFunction(id2, name, listener) {\n  var on0,\n    on1,\n    sit = start(name) ? init : set;\n  return function () {\n    var schedule2 = sit(this, id2),\n      on = schedule2.on;\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_on(name, listener) {\n  var id2 = this._id;\n  return arguments.length < 2 ? get(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));\n}\nfunction removeFunction(id2) {\n  return function () {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id2) return;\n    if (parent) parent.removeChild(this);\n  };\n}\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select2) {\n  var name = this._name,\n    id2 = this._id;\n  if (typeof select2 !== \"function\") select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id2, i, subgroup, get(node, id2));\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, name, id2);\n}\nfunction transition_selectAll(select2) {\n  var name = this._name,\n    id2 = this._id;\n  if (typeof select2 !== \"function\") select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children2 = select2.call(node, node.__data__, i, group), child, inherit2 = get(node, id2), k = 0, l = children2.length; k < l; ++k) {\n          if (child = children2[k]) {\n            schedule(child, name, id2, k, children2, inherit2);\n          }\n        }\n        subgroups.push(children2);\n        parents.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, parents, name, id2);\n}\nvar Selection = selection.prototype.constructor;\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate2) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = styleValue(this, name),\n      string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);\n  };\n}\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, interpolate2, value1) {\n  var string00,\n    string1 = value1 + \"\",\n    interpolate0;\n  return function () {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction styleFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = styleValue(this, name),\n      value1 = value(this),\n      string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction styleMaybeRemove(id2, name) {\n  var on0,\n    on1,\n    listener0,\n    key = \"style.\" + name,\n    event = \"end.\" + key,\n    remove2;\n  return function () {\n    var schedule2 = set(this, id2),\n      on = schedule2.on,\n      listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove(name)) : void 0;\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n  return function (t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function () {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}\nfunction textInterpolate(i) {\n  return function (t) {\n    this.textContent = i.call(this, t);\n  };\n}\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, textTween(value));\n}\nfunction transition_transition() {\n  var name = this._name,\n    id0 = this._id,\n    id1 = newId();\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit2 = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit2.time + inherit2.delay + inherit2.duration,\n          delay: 0,\n          duration: inherit2.duration,\n          ease: inherit2.ease\n        });\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n  var on0,\n    on1,\n    that = this,\n    id2 = that._id,\n    size = that.size();\n  return new Promise(function (resolve, reject) {\n    var cancel = {\n        value: reject\n      },\n      end = {\n        value: function () {\n          if (--size === 0) resolve();\n        }\n      };\n    that.each(function () {\n      var schedule2 = set(this, id2),\n        on = schedule2.on;\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n      schedule2.on = on1;\n    });\n    if (size === 0) resolve();\n  });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id2) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id2;\n}\nfunction newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\nfunction inherit(node, id2) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id2])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id2} not found`);\n    }\n  }\n  return timing;\n}\nfunction selection_transition(name) {\n  var id2, timing;\n  if (name instanceof Transition) {\n    id2 = name._id, name = name._name;\n  } else {\n    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id2, i, group, timing || inherit(node, id2));\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id2);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\nconst constant = x => () => x;\nfunction ZoomEvent(type, {\n  sourceEvent: sourceEvent2,\n  target,\n  transform,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: {\n      value: type,\n      enumerable: true,\n      configurable: true\n    },\n    sourceEvent: {\n      value: sourceEvent2,\n      enumerable: true,\n      configurable: true\n    },\n    target: {\n      value: target,\n      enumerable: true,\n      configurable: true\n    },\n    transform: {\n      value: transform,\n      enumerable: true,\n      configurable: true\n    },\n    _: {\n      value: dispatch2\n    }\n  });\n}\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function (k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function (x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function (point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function (x) {\n    return x * this.k + this.x;\n  },\n  applyY: function (y) {\n    return y * this.k + this.y;\n  },\n  invert: function (location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function (x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function (y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function (x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function (y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function () {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nvar identity = new Transform(1, 0, 0);\nTransform.prototype;\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === \"wheel\") && !event.button;\n}\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n    dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n    dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n    dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1), dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1));\n}\nfunction zoom() {\n  var filter2 = defaultFilter,\n    extent = defaultExtent,\n    constrain = defaultConstrain,\n    wheelDelta = defaultWheelDelta,\n    touchable = defaultTouchable,\n    scaleExtent = [0, Infinity],\n    translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n    duration = 250,\n    interpolate2 = interpolateZoom,\n    listeners = dispatch(\"start\", \"zoom\", \"end\"),\n    touchstarting,\n    touchfirst,\n    touchending,\n    touchDelay = 500,\n    wheelDelay = 150,\n    clickDistance2 = 0,\n    tapDistance = 10;\n  function zoom2(selection2) {\n    selection2.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled, {\n      passive: false\n    }).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  zoom2.transform = function (collection, transform, point, event) {\n    var selection2 = collection.selection ? collection.selection() : collection;\n    selection2.property(\"__zoom\", defaultTransform);\n    if (collection !== selection2) {\n      schedule2(collection, transform, point, event);\n    } else {\n      selection2.interrupt().each(function () {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n  zoom2.scaleBy = function (selection2, k, p, event) {\n    zoom2.scaleTo(selection2, function () {\n      var k0 = this.__zoom.k,\n        k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n  zoom2.scaleTo = function (selection2, k, p, event) {\n    zoom2.transform(selection2, function () {\n      var e = extent.apply(this, arguments),\n        t0 = this.__zoom,\n        p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n        p1 = t0.invert(p0),\n        k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n  zoom2.translateBy = function (selection2, x, y, event) {\n    zoom2.transform(selection2, function () {\n      return constrain(this.__zoom.translate(typeof x === \"function\" ? x.apply(this, arguments) : x, typeof y === \"function\" ? y.apply(this, arguments) : y), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n  zoom2.translateTo = function (selection2, x, y, p, event) {\n    zoom2.transform(selection2, function () {\n      var e = extent.apply(this, arguments),\n        t = this.__zoom,\n        p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(typeof x === \"function\" ? -x.apply(this, arguments) : -x, typeof y === \"function\" ? -y.apply(this, arguments) : -y), e, translateExtent);\n    }, p, event);\n  };\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k,\n      y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n  function centroid(extent2) {\n    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];\n  }\n  function schedule2(transition2, transform, point, event) {\n    transition2.on(\"start.zoom\", function () {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function () {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function () {\n      var that = this,\n        args = arguments,\n        g = gesture(that, args).event(event),\n        e = extent.apply(that, args),\n        p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n        w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n        a = that.__zoom,\n        b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n        i = interpolate2(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function (t) {\n        if (t === 1) t = b;else {\n          var l = i(t),\n            k = w / l[2];\n          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n        }\n        g.zoom(null, t);\n      };\n    });\n  }\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n  Gesture.prototype = {\n    event: function (event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function () {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function (key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function () {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function (type) {\n      var d = select(this.that).datum();\n      listeners.call(type, this.that, new ZoomEvent(type, {\n        sourceEvent: this.sourceEvent,\n        target: zoom2,\n        type,\n        transform: this.that.__zoom,\n        dispatch: listeners\n      }), d);\n    }\n  };\n  function wheeled(event, ...args) {\n    if (!filter2.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n      t = this.__zoom,\n      k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n      p = pointer(event);\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    } else if (t.k === k) return;else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n  function mousedowned(event, ...args) {\n    if (touchending || !filter2.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n      g = gesture(this, args, true).event(event),\n      v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n      p = pointer(event, currentTarget),\n      x0 = event.clientX,\n      y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n    function mousemoved(event2) {\n      noevent(event2);\n      if (!g.moved) {\n        var dx = event2.clientX - x0,\n          dy = event2.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event2).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n    function mouseupped(event2) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event2.view, g.moved);\n      noevent(event2);\n      g.event(event2).end();\n    }\n  }\n  function dblclicked(event, ...args) {\n    if (!filter2.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n      p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n      p1 = t0.invert(p0),\n      k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n      t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule2, t1, p0, event);else select(this).call(zoom2.transform, t1, p0, event);\n  }\n  function touchstarted(event, ...args) {\n    if (!filter2.apply(this, arguments)) return;\n    var touches = event.touches,\n      n = touches.length,\n      g = gesture(this, args, event.changedTouches.length === n).event(event),\n      started,\n      i,\n      t,\n      p;\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function () {\n        touchstarting = null;\n      }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n      touches = event.changedTouches,\n      n = touches.length,\n      i,\n      t,\n      p,\n      l;\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0],\n        l0 = g.touch0[1],\n        p1 = g.touch1[0],\n        l1 = g.touch1[1],\n        dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n        dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0) p = g.touch0[0], l = g.touch0[1];else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n      touches = event.changedTouches,\n      n = touches.length,\n      i,\n      t;\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function () {\n      touchending = null;\n    }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);else {\n      g.end();\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n  zoom2.wheelDelta = function (_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom2) : wheelDelta;\n  };\n  zoom2.filter = function (_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : filter2;\n  };\n  zoom2.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : touchable;\n  };\n  zoom2.extent = function (_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom2) : extent;\n  };\n  zoom2.scaleExtent = function (_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom2) : [scaleExtent[0], scaleExtent[1]];\n  };\n  zoom2.translateExtent = function (_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n  zoom2.constrain = function (_) {\n    return arguments.length ? (constrain = _, zoom2) : constrain;\n  };\n  zoom2.duration = function (_) {\n    return arguments.length ? (duration = +_, zoom2) : duration;\n  };\n  zoom2.interpolate = function (_) {\n    return arguments.length ? (interpolate2 = _, zoom2) : interpolate2;\n  };\n  zoom2.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom2 : value;\n  };\n  zoom2.clickDistance = function (_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom2) : Math.sqrt(clickDistance2);\n  };\n  zoom2.tapDistance = function (_) {\n    return arguments.length ? (tapDistance = +_, zoom2) : tapDistance;\n  };\n  return zoom2;\n}\nvar Position = /* @__PURE__ */(Position2 => {\n  Position2[\"Left\"] = \"left\";\n  Position2[\"Top\"] = \"top\";\n  Position2[\"Right\"] = \"right\";\n  Position2[\"Bottom\"] = \"bottom\";\n  return Position2;\n})(Position || {});\nvar SelectionMode = /* @__PURE__ */(SelectionMode2 => {\n  SelectionMode2[\"Partial\"] = \"partial\";\n  SelectionMode2[\"Full\"] = \"full\";\n  return SelectionMode2;\n})(SelectionMode || {});\nvar ConnectionLineType = /* @__PURE__ */(ConnectionLineType2 => {\n  ConnectionLineType2[\"Bezier\"] = \"default\";\n  ConnectionLineType2[\"SimpleBezier\"] = \"simple-bezier\";\n  ConnectionLineType2[\"Straight\"] = \"straight\";\n  ConnectionLineType2[\"Step\"] = \"step\";\n  ConnectionLineType2[\"SmoothStep\"] = \"smoothstep\";\n  return ConnectionLineType2;\n})(ConnectionLineType || {});\nvar ConnectionMode = /* @__PURE__ */(ConnectionMode2 => {\n  ConnectionMode2[\"Strict\"] = \"strict\";\n  ConnectionMode2[\"Loose\"] = \"loose\";\n  return ConnectionMode2;\n})(ConnectionMode || {});\nvar MarkerType = /* @__PURE__ */(MarkerType2 => {\n  MarkerType2[\"Arrow\"] = \"arrow\";\n  MarkerType2[\"ArrowClosed\"] = \"arrowclosed\";\n  return MarkerType2;\n})(MarkerType || {});\nvar PanOnScrollMode = /* @__PURE__ */(PanOnScrollMode2 => {\n  PanOnScrollMode2[\"Free\"] = \"free\";\n  PanOnScrollMode2[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode2[\"Horizontal\"] = \"horizontal\";\n  return PanOnScrollMode2;\n})(PanOnScrollMode || {});\nvar PanelPosition = /* @__PURE__ */(PanelPosition2 => {\n  PanelPosition2[\"TopLeft\"] = \"top-left\";\n  PanelPosition2[\"TopCenter\"] = \"top-center\";\n  PanelPosition2[\"TopRight\"] = \"top-right\";\n  PanelPosition2[\"BottomLeft\"] = \"bottom-left\";\n  PanelPosition2[\"BottomCenter\"] = \"bottom-center\";\n  PanelPosition2[\"BottomRight\"] = \"bottom-right\";\n  return PanelPosition2;\n})(PanelPosition || {});\nfunction isInputDOMNode(event) {\n  var _a, _b;\n  const target = ((_b = (_a = event.composedPath) == null ? void 0 : _a.call(event)) == null ? void 0 : _b[0]) || event.target;\n  const hasAttribute = typeof (target == null ? void 0 : target.hasAttribute) === \"function\" ? target.hasAttribute(\"contenteditable\") : false;\n  const closest = typeof (target == null ? void 0 : target.closest) === \"function\" ? target.closest(\".nokey\") : null;\n  return [\"INPUT\", \"SELECT\", \"TEXTAREA\"].includes(target == null ? void 0 : target.nodeName) || hasAttribute || !!closest;\n}\nfunction wasModifierPressed(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey;\n}\nfunction isKeyMatch(pressedKey, keyToMatch, pressedKeys, isKeyUp) {\n  const keyCombination = keyToMatch.split(\"+\").map(k => k.trim().toLowerCase());\n  if (keyCombination.length === 1) {\n    return pressedKey.toLowerCase() === keyToMatch.toLowerCase();\n  }\n  if (isKeyUp) {\n    pressedKeys.delete(pressedKey.toLowerCase());\n  } else {\n    pressedKeys.add(pressedKey.toLowerCase());\n  }\n  return keyCombination.every((key, index) => pressedKeys.has(key) && Array.from(pressedKeys.values())[index] === keyCombination[index]);\n}\nfunction createKeyPredicate(keyFilter, pressedKeys) {\n  return event => {\n    if (!event.code && !event.key) {\n      return false;\n    }\n    const keyOrCode = useKeyOrCode(event.code, keyFilter);\n    if (Array.isArray(keyFilter)) {\n      return keyFilter.some(key => isKeyMatch(event[keyOrCode], key, pressedKeys, event.type === \"keyup\"));\n    }\n    return isKeyMatch(event[keyOrCode], keyFilter, pressedKeys, event.type === \"keyup\");\n  };\n}\nfunction useKeyOrCode(code, keysToWatch) {\n  if (typeof keysToWatch === \"string\") {\n    return code === keysToWatch ? \"code\" : \"key\";\n  }\n  return keysToWatch.includes(code) ? \"code\" : \"key\";\n}\nfunction useKeyPress(keyFilter, options) {\n  const actInsideInputWithModifier = toRef(() => toValue$1(options == null ? void 0 : options.actInsideInputWithModifier) ?? false);\n  const target = toRef(() => toValue$1(options == null ? void 0 : options.target) ?? window);\n  const isPressed = ref(toValue$1(keyFilter) === true);\n  let modifierPressed = false;\n  const pressedKeys = /* @__PURE__ */new Set();\n  let currentFilter = createKeyFilterFn(toValue$1(keyFilter));\n  watch(() => toValue$1(keyFilter), (nextKeyFilter, previousKeyFilter) => {\n    if (typeof previousKeyFilter === \"boolean\" && typeof nextKeyFilter !== \"boolean\") {\n      reset();\n    }\n    currentFilter = createKeyFilterFn(nextKeyFilter);\n  }, {\n    immediate: true\n  });\n  onMounted(() => {\n    useEventListener(window, [\"blur\", \"contextmenu\"], reset);\n  });\n  onKeyStroke((...args) => currentFilter(...args), e => {\n    modifierPressed = wasModifierPressed(e);\n    const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier.value) && isInputDOMNode(e);\n    if (preventAction) {\n      return;\n    }\n    e.preventDefault();\n    isPressed.value = true;\n  }, {\n    eventName: \"keydown\",\n    target\n  });\n  onKeyStroke((...args) => currentFilter(...args), e => {\n    if (isPressed.value) {\n      const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier.value) && isInputDOMNode(e);\n      if (preventAction) {\n        return;\n      }\n      reset();\n    }\n  }, {\n    eventName: \"keyup\",\n    target\n  });\n  function reset() {\n    modifierPressed = false;\n    pressedKeys.clear();\n    isPressed.value = false;\n  }\n  function createKeyFilterFn(keyFilter2) {\n    if (keyFilter2 === null) {\n      reset();\n      return () => false;\n    }\n    if (typeof keyFilter2 === \"boolean\") {\n      reset();\n      isPressed.value = keyFilter2;\n      return () => false;\n    }\n    if (Array.isArray(keyFilter2) || typeof keyFilter2 === \"string\") {\n      return createKeyPredicate(keyFilter2, pressedKeys);\n    }\n    return keyFilter2;\n  }\n  return isPressed;\n}\nconst ARIA_NODE_DESC_KEY = \"vue-flow__node-desc\";\nconst ARIA_EDGE_DESC_KEY = \"vue-flow__edge-desc\";\nconst ARIA_LIVE_MESSAGE = \"vue-flow__aria-live\";\nconst elementSelectionKeys = [\"Enter\", \" \", \"Escape\"];\nconst arrowKeyDiffs = {\n  ArrowUp: {\n    x: 0,\n    y: -1\n  },\n  ArrowDown: {\n    x: 0,\n    y: 1\n  },\n  ArrowLeft: {\n    x: -1,\n    y: 0\n  },\n  ArrowRight: {\n    x: 1,\n    y: 0\n  }\n};\nfunction nodeToRect(node) {\n  return {\n    ...(node.computedPosition || {\n      x: 0,\n      y: 0\n    }),\n    width: node.dimensions.width || 0,\n    height: node.dimensions.height || 0\n  };\n}\nfunction getOverlappingArea(rectA, rectB) {\n  const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n  const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n  return Math.ceil(xOverlap * yOverlap);\n}\nfunction getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n}\nfunction clamp(val, min = 0, max = 1) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction clampPosition(position, extent) {\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n}\nfunction getHostForElement(element) {\n  const doc = element.getRootNode();\n  if (\"elementFromPoint\" in doc) {\n    return doc;\n  }\n  return window.document;\n}\nfunction isEdge(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"source\" in element && \"target\" in element;\n}\nfunction isGraphEdge(element) {\n  return isEdge(element) && \"sourceNode\" in element && \"targetNode\" in element;\n}\nfunction isNode(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"position\" in element && !isEdge(element);\n}\nfunction isGraphNode(element) {\n  return isNode(element) && \"computedPosition\" in element;\n}\nfunction isNumeric(n) {\n  return !Number.isNaN(n) && Number.isFinite(n);\n}\nfunction isRect(obj) {\n  return isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n}\nfunction parseNode(node, existingNode, parentNode) {\n  const initialState = {\n    id: node.id.toString(),\n    type: node.type ?? \"default\",\n    dimensions: markRaw({\n      width: 0,\n      height: 0\n    }),\n    computedPosition: markRaw({\n      z: 0,\n      ...node.position\n    }),\n    // todo: shouldn't be defined initially, as we want to use handleBounds to check if a node was actually initialized or not\n    handleBounds: {\n      source: [],\n      target: []\n    },\n    draggable: void 0,\n    selectable: void 0,\n    connectable: void 0,\n    focusable: void 0,\n    selected: false,\n    dragging: false,\n    resizing: false,\n    initialized: false,\n    isParent: false,\n    position: {\n      x: 0,\n      y: 0\n    },\n    data: isDef(node.data) ? node.data : {},\n    events: markRaw(isDef(node.events) ? node.events : {})\n  };\n  return Object.assign(existingNode ?? initialState, node, {\n    id: node.id.toString(),\n    parentNode\n  });\n}\nfunction parseEdge(edge, existingEdge, defaultEdgeOptions) {\n  var _a, _b;\n  const initialState = {\n    id: edge.id.toString(),\n    type: edge.type ?? (existingEdge == null ? void 0 : existingEdge.type) ?? \"default\",\n    source: edge.source.toString(),\n    target: edge.target.toString(),\n    sourceHandle: (_a = edge.sourceHandle) == null ? void 0 : _a.toString(),\n    targetHandle: (_b = edge.targetHandle) == null ? void 0 : _b.toString(),\n    updatable: edge.updatable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.updatable),\n    selectable: edge.selectable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.selectable),\n    focusable: edge.focusable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.focusable),\n    data: isDef(edge.data) ? edge.data : {},\n    events: markRaw(isDef(edge.events) ? edge.events : {}),\n    label: edge.label ?? \"\",\n    interactionWidth: edge.interactionWidth ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.interactionWidth),\n    ...(defaultEdgeOptions ?? {})\n  };\n  return Object.assign(existingEdge ?? initialState, edge, {\n    id: edge.id.toString()\n  });\n}\nfunction getConnectedElements(nodeOrId, nodes, edges, dir) {\n  const id2 = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const connectedIds = /* @__PURE__ */new Set();\n  const origin = dir === \"source\" ? \"target\" : \"source\";\n  for (const edge of edges) {\n    if (edge[origin] === id2) {\n      connectedIds.add(edge[dir]);\n    }\n  }\n  return nodes.filter(n => connectedIds.has(n.id));\n}\nfunction getOutgoers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"target\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const outgoers = elements.filter(el => isEdge(el) && el.source === nodeId);\n  return outgoers.map(edge => elements.find(el => isNode(el) && el.id === edge.target));\n}\nfunction getIncomers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"source\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const incomers = elements.filter(el => isEdge(el) && el.target === nodeId);\n  return incomers.map(edge => elements.find(el => isNode(el) && el.id === edge.source));\n}\nfunction getEdgeId({\n  source,\n  sourceHandle,\n  target,\n  targetHandle\n}) {\n  return `vueflow__edge-${source}${sourceHandle ?? \"\"}-${target}${targetHandle ?? \"\"}`;\n}\nfunction connectionExists(edge, elements) {\n  return elements.some(el => isEdge(el) && el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle));\n}\nfunction addEdge(edgeParams, elements, defaults) {\n  if (!edgeParams.source || !edgeParams.target) {\n    warn(\"Can't create edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = {\n      ...edgeParams\n    };\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaults);\n  if (connectionExists(edge, elements)) {\n    return elements;\n  }\n  elements.push(edge);\n  return elements;\n}\nfunction updateEdge(oldEdge, newConnection, elements) {\n  if (!newConnection.source || !newConnection.target) {\n    warn(\"Can't create new edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  const foundEdge = elements.find(e => isEdge(e) && e.id === oldEdge.id);\n  if (!foundEdge) {\n    warn(`The old edge with id=${oldEdge.id} does not exist.`);\n    return elements;\n  }\n  const edge = {\n    ...oldEdge,\n    id: getEdgeId(newConnection),\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  elements.splice(elements.indexOf(foundEdge), 1, edge);\n  return elements.filter(e => e.id !== oldEdge.id);\n}\nfunction rendererPointToPoint({\n  x,\n  y\n}, {\n  x: tx,\n  y: ty,\n  zoom: tScale\n}) {\n  return {\n    x: x * tScale + tx,\n    y: y * tScale + ty\n  };\n}\nfunction pointToRendererPoint({\n  x,\n  y\n}, {\n  x: tx,\n  y: ty,\n  zoom: tScale\n}, snapToGrid = false, [snapX, snapY] = [1, 1]) {\n  const position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n  if (snapToGrid) {\n    return {\n      x: snapX * Math.round(position.x / snapX),\n      y: snapY * Math.round(position.y / snapY)\n    };\n  }\n  return position;\n}\nfunction getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n}\nfunction rectToBox({\n  x,\n  y,\n  width,\n  height\n}) {\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height\n  };\n}\nfunction boxToRect({\n  x,\n  y,\n  x2,\n  y2\n}) {\n  return {\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y\n  };\n}\nfunction getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n}\nfunction getRectOfNodes(nodes) {\n  let box = {\n    x: Number.POSITIVE_INFINITY,\n    y: Number.POSITIVE_INFINITY,\n    x2: Number.NEGATIVE_INFINITY,\n    y2: Number.NEGATIVE_INFINITY\n  };\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    box = getBoundsOfBoxes(box, rectToBox({\n      ...node.computedPosition,\n      ...node.dimensions\n    }));\n  }\n  return boxToRect(box);\n}\nfunction getNodesInside(nodes, rect, viewport = {\n  x: 0,\n  y: 0,\n  zoom: 1\n}, partially = false, excludeNonSelectableNodes = false) {\n  const paneRect = {\n    ...pointToRendererPoint(rect, viewport),\n    width: rect.width / viewport.zoom,\n    height: rect.height / viewport.zoom\n  };\n  const visibleNodes = [];\n  for (const node of nodes) {\n    const {\n      dimensions,\n      selectable = true,\n      hidden = false\n    } = node;\n    const width = dimensions.width ?? node.width ?? null;\n    const height = dimensions.height ?? node.height ?? null;\n    if (excludeNonSelectableNodes && !selectable || hidden) {\n      continue;\n    }\n    const overlappingArea = getOverlappingArea(paneRect, nodeToRect(node));\n    const notInitialized = width === null || height === null;\n    const partiallyVisible = partially && overlappingArea > 0;\n    const area = (width ?? 0) * (height ?? 0);\n    const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n    if (isVisible || node.dragging) {\n      visibleNodes.push(node);\n    }\n  }\n  return visibleNodes;\n}\nfunction getConnectedEdges(nodesOrId, edges) {\n  const nodeIds = /* @__PURE__ */new Set();\n  if (typeof nodesOrId === \"string\") {\n    nodeIds.add(nodesOrId);\n  } else if (nodesOrId.length >= 1) {\n    for (const n of nodesOrId) {\n      nodeIds.add(n.id);\n    }\n  }\n  return edges.filter(edge => nodeIds.has(edge.source) || nodeIds.has(edge.target));\n}\nfunction getTransformForBounds(bounds, width, height, minZoom, maxZoom, padding = 0.1, offset = {\n  x: 0,\n  y: 0\n}) {\n  const xZoom = width / (bounds.width * (1 + padding));\n  const yZoom = height / (bounds.height * (1 + padding));\n  const zoom2 = Math.min(xZoom, yZoom);\n  const clampedZoom = clamp(zoom2, minZoom, maxZoom);\n  const boundsCenterX = bounds.x + bounds.width / 2;\n  const boundsCenterY = bounds.y + bounds.height / 2;\n  const x = width / 2 - boundsCenterX * clampedZoom + (offset.x ?? 0);\n  const y = height / 2 - boundsCenterY * clampedZoom + (offset.y ?? 0);\n  return {\n    x,\n    y,\n    zoom: clampedZoom\n  };\n}\nfunction getXYZPos(parentPos, computedPosition) {\n  return {\n    x: computedPosition.x + parentPos.x,\n    y: computedPosition.y + parentPos.y,\n    z: (parentPos.z > computedPosition.z ? parentPos.z : computedPosition.z) + 1\n  };\n}\nfunction isParentSelected(node, findNode) {\n  if (!node.parentNode) {\n    return false;\n  }\n  const parent = findNode(node.parentNode);\n  if (!parent) {\n    return false;\n  }\n  if (parent.selected) {\n    return true;\n  }\n  return isParentSelected(parent, findNode);\n}\nfunction getMarkerId(marker, vueFlowId) {\n  if (typeof marker === \"undefined\") {\n    return \"\";\n  }\n  if (typeof marker === \"string\") {\n    return marker;\n  }\n  const idPrefix = vueFlowId ? `${vueFlowId}__` : \"\";\n  return `${idPrefix}${Object.keys(marker).sort().map(key => `${key}=${marker[key]}`).join(\"&\")}`;\n}\nfunction calcAutoPanVelocity(value, min, max) {\n  if (value < min) {\n    return clamp(Math.abs(value - min), 1, min) / min;\n  }\n  if (value > max) {\n    return -clamp(Math.abs(value - max), 1, min) / min;\n  }\n  return 0;\n}\nfunction calcAutoPan(pos, bounds, speed = 15, distance2 = 40) {\n  const xMovement = calcAutoPanVelocity(pos.x, distance2, bounds.width - distance2) * speed;\n  const yMovement = calcAutoPanVelocity(pos.y, distance2, bounds.height - distance2) * speed;\n  return [xMovement, yMovement];\n}\nfunction handleParentExpand(updateItem, parent) {\n  if (parent) {\n    const extendWidth = updateItem.position.x + updateItem.dimensions.width - parent.dimensions.width;\n    const extendHeight = updateItem.position.y + updateItem.dimensions.height - parent.dimensions.height;\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      let parentStyles = {};\n      if (typeof parent.style === \"function\") {\n        parentStyles = {\n          ...parent.style(parent)\n        };\n      } else if (parent.style) {\n        parentStyles = {\n          ...parent.style\n        };\n      }\n      parentStyles.width = parentStyles.width ?? `${parent.dimensions.width}px`;\n      parentStyles.height = parentStyles.height ?? `${parent.dimensions.height}px`;\n      if (extendWidth > 0) {\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + extendWidth}px`;\n        } else {\n          parentStyles.width += extendWidth;\n        }\n      }\n      if (extendHeight > 0) {\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + extendHeight}px`;\n        } else {\n          parentStyles.height += extendHeight;\n        }\n      }\n      if (updateItem.position.x < 0) {\n        const xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + xDiff}px`;\n        } else {\n          parentStyles.width += xDiff;\n        }\n        updateItem.position.x = 0;\n      }\n      if (updateItem.position.y < 0) {\n        const yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + yDiff}px`;\n        } else {\n          parentStyles.height += yDiff;\n        }\n        updateItem.position.y = 0;\n      }\n      parent.dimensions.width = Number(parentStyles.width.toString().replace(\"px\", \"\"));\n      parent.dimensions.height = Number(parentStyles.height.toString().replace(\"px\", \"\"));\n      if (typeof parent.style === \"function\") {\n        parent.style = p => {\n          const styleFunc = parent.style;\n          return {\n            ...styleFunc(p),\n            ...parentStyles\n          };\n        };\n      } else {\n        parent.style = {\n          ...parent.style,\n          ...parentStyles\n        };\n      }\n    }\n  }\n}\nfunction applyChanges(changes, elements) {\n  var _a, _b;\n  const addRemoveChanges = changes.filter(c => c.type === \"add\" || c.type === \"remove\");\n  for (const change of addRemoveChanges) {\n    if (change.type === \"add\") {\n      const index = elements.findIndex(el => el.id === change.item.id);\n      if (index === -1) {\n        elements.push(change.item);\n      }\n    } else if (change.type === \"remove\") {\n      const index = elements.findIndex(el => el.id === change.id);\n      if (index !== -1) {\n        elements.splice(index, 1);\n      }\n    }\n  }\n  const elementIds = elements.map(el => el.id);\n  for (const element of elements) {\n    for (const currentChange of changes) {\n      if (currentChange.id !== element.id) {\n        continue;\n      }\n      switch (currentChange.type) {\n        case \"select\":\n          element.selected = currentChange.selected;\n          break;\n        case \"position\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.position !== \"undefined\") {\n              element.position = currentChange.position;\n            }\n            if (typeof currentChange.dragging !== \"undefined\") {\n              element.dragging = currentChange.dragging;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                handleParentExpand(element, parent);\n              }\n            }\n          }\n          break;\n        case \"dimensions\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.dimensions !== \"undefined\") {\n              element.dimensions = currentChange.dimensions;\n            }\n            if (typeof currentChange.updateStyle !== \"undefined\") {\n              element.style = {\n                ...(element.style || {}),\n                width: `${(_a = currentChange.dimensions) == null ? void 0 : _a.width}px`,\n                height: `${(_b = currentChange.dimensions) == null ? void 0 : _b.height}px`\n              };\n            }\n            if (typeof currentChange.resizing !== \"undefined\") {\n              element.resizing = currentChange.resizing;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                const parentInit = !!parent.dimensions.width && !!parent.dimensions.height;\n                if (!parentInit) {\n                  nextTick(() => {\n                    handleParentExpand(element, parent);\n                  });\n                } else {\n                  handleParentExpand(element, parent);\n                }\n              }\n            }\n          }\n          break;\n      }\n    }\n  }\n  return elements;\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction createSelectionChange(id2, selected) {\n  return {\n    id: id2,\n    type: \"select\",\n    selected\n  };\n}\nfunction createAdditionChange(item) {\n  return {\n    item,\n    type: \"add\"\n  };\n}\nfunction createNodeRemoveChange(id2) {\n  return {\n    id: id2,\n    type: \"remove\"\n  };\n}\nfunction createEdgeRemoveChange(id2, source, target, sourceHandle, targetHandle) {\n  return {\n    id: id2,\n    source,\n    target,\n    sourceHandle: sourceHandle || null,\n    targetHandle: targetHandle || null,\n    type: \"remove\"\n  };\n}\nfunction getSelectionChanges(items, selectedIds = /* @__PURE__ */new Set(), mutateItem = false) {\n  const changes = [];\n  for (const [id2, item] of items) {\n    const willBeSelected = selectedIds.has(id2);\n    if (!(item.selected === void 0 && !willBeSelected) && item.selected !== willBeSelected) {\n      if (mutateItem) {\n        item.selected = willBeSelected;\n      }\n      changes.push(createSelectionChange(item.id, willBeSelected));\n    }\n  }\n  return changes;\n}\nfunction createExtendedEventHook(defaultHandler) {\n  const fns = /* @__PURE__ */new Set();\n  let hasDefaultHandler = false;\n  const hasListeners = () => fns.size > 0;\n  if (defaultHandler) {\n    hasDefaultHandler = true;\n    fns.add(defaultHandler);\n  }\n  const off = fn => {\n    fns.delete(fn);\n  };\n  const on = fn => {\n    if (defaultHandler && hasDefaultHandler) {\n      fns.delete(defaultHandler);\n    }\n    fns.add(fn);\n    const offFn = () => {\n      off(fn);\n      if (defaultHandler && hasDefaultHandler) {\n        fns.add(defaultHandler);\n      }\n    };\n    tryOnScopeDispose(offFn);\n    return {\n      off: offFn\n    };\n  };\n  const trigger = param => {\n    return Promise.all(Array.from(fns).map(fn => fn(param)));\n  };\n  return {\n    on,\n    off,\n    trigger,\n    hasListeners,\n    fns\n  };\n}\nfunction hasSelector(target, selector2, node) {\n  let current = target;\n  do {\n    if (current && current.matches(selector2)) {\n      return true;\n    } else if (current === node) {\n      return false;\n    }\n    current = current.parentElement;\n  } while (current);\n  return false;\n}\nfunction getDragItems(nodes, nodesDraggable, mousePos, findNode, nodeId) {\n  var _a, _b;\n  const dragItems = [];\n  for (const node of nodes) {\n    if ((node.selected || node.id === nodeId) && (!node.parentNode || !isParentSelected(node, findNode)) && (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\")) {\n      dragItems.push(markRaw({\n        id: node.id,\n        position: node.position || {\n          x: 0,\n          y: 0\n        },\n        distance: {\n          x: mousePos.x - ((_a = node.computedPosition) == null ? void 0 : _a.x) || 0,\n          y: mousePos.y - ((_b = node.computedPosition) == null ? void 0 : _b.y) || 0\n        },\n        from: node.computedPosition,\n        extent: node.extent,\n        parentNode: node.parentNode,\n        dimensions: node.dimensions,\n        expandParent: node.expandParent\n      }));\n    }\n  }\n  return dragItems;\n}\nfunction getEventHandlerParams({\n  id: id2,\n  dragItems,\n  findNode\n}) {\n  const extendedDragItems = [];\n  for (const dragItem of dragItems) {\n    const node = findNode(dragItem.id);\n    if (node) {\n      extendedDragItems.push(node);\n    }\n  }\n  return [id2 ? extendedDragItems.find(n => n.id === id2) : extendedDragItems[0], extendedDragItems];\n}\nfunction getExtentPadding(padding) {\n  if (Array.isArray(padding)) {\n    switch (padding.length) {\n      case 1:\n        return [padding[0], padding[0], padding[0], padding[0]];\n      case 2:\n        return [padding[0], padding[1], padding[0], padding[1]];\n      case 3:\n        return [padding[0], padding[1], padding[2], padding[1]];\n      case 4:\n        return padding;\n      default:\n        return [0, 0, 0, 0];\n    }\n  }\n  return [padding, padding, padding, padding];\n}\nfunction getParentExtent(currentExtent, node, parent) {\n  const [top, right, bottom, left] = typeof currentExtent !== \"string\" ? getExtentPadding(currentExtent.padding) : [0, 0, 0, 0];\n  if (parent && typeof parent.computedPosition.x !== \"undefined\" && typeof parent.computedPosition.y !== \"undefined\" && typeof parent.dimensions.width !== \"undefined\" && typeof parent.dimensions.height !== \"undefined\") {\n    return [[parent.computedPosition.x + left, parent.computedPosition.y + top], [parent.computedPosition.x + parent.dimensions.width - right, parent.computedPosition.y + parent.dimensions.height - bottom]];\n  }\n  return false;\n}\nfunction getExtent(item, triggerError, extent, parent) {\n  let currentExtent = item.extent || extent;\n  if ((currentExtent === \"parent\" || !Array.isArray(currentExtent) && (currentExtent == null ? void 0 : currentExtent.range) === \"parent\") && !item.expandParent) {\n    if (item.parentNode && parent && item.dimensions.width && item.dimensions.height) {\n      const parentExtent = getParentExtent(currentExtent, item, parent);\n      if (parentExtent) {\n        currentExtent = parentExtent;\n      }\n    } else {\n      triggerError(new VueFlowError(ErrorCode.NODE_EXTENT_INVALID, item.id));\n      currentExtent = extent;\n    }\n  } else if (Array.isArray(currentExtent)) {\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [[currentExtent[0][0] + parentX, currentExtent[0][1] + parentY], [currentExtent[1][0] + parentX, currentExtent[1][1] + parentY]];\n  } else if (currentExtent !== \"parent\" && (currentExtent == null ? void 0 : currentExtent.range) && Array.isArray(currentExtent.range)) {\n    const [top, right, bottom, left] = getExtentPadding(currentExtent.padding);\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [[currentExtent.range[0][0] + parentX + left, currentExtent.range[0][1] + parentY + top], [currentExtent.range[1][0] + parentX - right, currentExtent.range[1][1] + parentY - bottom]];\n  }\n  return currentExtent === \"parent\" ? [[Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY], [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]] : currentExtent;\n}\nfunction clampNodeExtent({\n  width,\n  height\n}, extent) {\n  return [extent[0], [extent[1][0] - (width || 0), extent[1][1] - (height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, triggerError, nodeExtent, parentNode) {\n  const extent = clampNodeExtent(node.dimensions, getExtent(node, triggerError, nodeExtent, parentNode));\n  const clampedPos = clampPosition(nextPosition, extent);\n  return {\n    position: {\n      x: clampedPos.x - ((parentNode == null ? void 0 : parentNode.computedPosition.x) || 0),\n      y: clampedPos.y - ((parentNode == null ? void 0 : parentNode.computedPosition.y) || 0)\n    },\n    computedPosition: clampedPos\n  };\n}\nfunction getHandlePosition(node, handle, fallbackPosition = Position.Left) {\n  const x = ((handle == null ? void 0 : handle.x) ?? 0) + node.computedPosition.x;\n  const y = ((handle == null ? void 0 : handle.y) ?? 0) + node.computedPosition.y;\n  const {\n    width,\n    height\n  } = handle ?? getNodeDimensions(node);\n  const position = (handle == null ? void 0 : handle.position) ?? fallbackPosition;\n  switch (position) {\n    case Position.Top:\n      return {\n        x: x + width / 2,\n        y\n      };\n    case Position.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n    case Position.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n    case Position.Left:\n      return {\n        x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds = [], handleId) {\n  if (!bounds.length) {\n    return null;\n  }\n  return (!handleId ? bounds[0] : bounds.find(d => d.id === handleId)) || null;\n}\nfunction isEdgeVisible({\n  sourcePos,\n  targetPos,\n  sourceWidth,\n  sourceHeight,\n  targetWidth,\n  targetHeight,\n  width,\n  height,\n  viewport\n}) {\n  const edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n  const viewBox = rectToBox({\n    x: (0 - viewport.x) / viewport.zoom,\n    y: (0 - viewport.y) / viewport.zoom,\n    width: width / viewport.zoom,\n    height: height / viewport.zoom\n  });\n  const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  const overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getEdgeZIndex(edge, findNode, elevateEdgesOnSelect = false) {\n  const hasZIndex = typeof edge.zIndex === \"number\";\n  let z = hasZIndex ? edge.zIndex : 0;\n  const source = findNode(edge.source);\n  const target = findNode(edge.target);\n  if (!source || !target) {\n    return 0;\n  }\n  if (elevateEdgesOnSelect) {\n    z = hasZIndex ? edge.zIndex : Math.max(source.computedPosition.z || 0, target.computedPosition.z || 0);\n  }\n  return z;\n}\nvar ErrorCode = /* @__PURE__ */(ErrorCode2 => {\n  ErrorCode2[\"MISSING_STYLES\"] = \"MISSING_STYLES\";\n  ErrorCode2[\"MISSING_VIEWPORT_DIMENSIONS\"] = \"MISSING_VIEWPORT_DIMENSIONS\";\n  ErrorCode2[\"NODE_INVALID\"] = \"NODE_INVALID\";\n  ErrorCode2[\"NODE_NOT_FOUND\"] = \"NODE_NOT_FOUND\";\n  ErrorCode2[\"NODE_MISSING_PARENT\"] = \"NODE_MISSING_PARENT\";\n  ErrorCode2[\"NODE_TYPE_MISSING\"] = \"NODE_TYPE_MISSING\";\n  ErrorCode2[\"NODE_EXTENT_INVALID\"] = \"NODE_EXTENT_INVALID\";\n  ErrorCode2[\"EDGE_INVALID\"] = \"EDGE_INVALID\";\n  ErrorCode2[\"EDGE_NOT_FOUND\"] = \"EDGE_NOT_FOUND\";\n  ErrorCode2[\"EDGE_SOURCE_MISSING\"] = \"EDGE_SOURCE_MISSING\";\n  ErrorCode2[\"EDGE_TARGET_MISSING\"] = \"EDGE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_TYPE_MISSING\"] = \"EDGE_TYPE_MISSING\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_SAME\"] = \"EDGE_SOURCE_TARGET_SAME\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_MISSING\"] = \"EDGE_SOURCE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_ORPHANED\"] = \"EDGE_ORPHANED\";\n  ErrorCode2[\"USEVUEFLOW_OPTIONS\"] = \"USEVUEFLOW_OPTIONS\";\n  return ErrorCode2;\n})(ErrorCode || {});\nconst messages = {\n  [\"MISSING_STYLES\"\n  /* MISSING_STYLES */]: () => `It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly`,\n  [\"MISSING_VIEWPORT_DIMENSIONS\"\n  /* MISSING_VIEWPORT_DIMENSIONS */]: () => \"The Vue Flow parent container needs a width and a height to render the graph\",\n  [\"NODE_INVALID\"\n  /* NODE_INVALID */]: id2 => `Node is invalid\nNode: ${id2}`,\n  [\"NODE_NOT_FOUND\"\n  /* NODE_NOT_FOUND */]: id2 => `Node not found\nNode: ${id2}`,\n  [\"NODE_MISSING_PARENT\"\n  /* NODE_MISSING_PARENT */]: (id2, parentId) => `Node is missing a parent\nNode: ${id2}\nParent: ${parentId}`,\n  [\"NODE_TYPE_MISSING\"\n  /* NODE_TYPE_MISSING */]: type => `Node type is missing\nType: ${type}`,\n  [\"NODE_EXTENT_INVALID\"\n  /* NODE_EXTENT_INVALID */]: id2 => `Only child nodes can use a parent extent\nNode: ${id2}`,\n  [\"EDGE_INVALID\"\n  /* EDGE_INVALID */]: id2 => `An edge needs a source and a target\nEdge: ${id2}`,\n  [\"EDGE_SOURCE_MISSING\"\n  /* EDGE_SOURCE_MISSING */]: (id2, source) => `Edge source is missing\nEdge: ${id2} \nSource: ${source}`,\n  [\"EDGE_TARGET_MISSING\"\n  /* EDGE_TARGET_MISSING */]: (id2, target) => `Edge target is missing\nEdge: ${id2} \nTarget: ${target}`,\n  [\"EDGE_TYPE_MISSING\"\n  /* EDGE_TYPE_MISSING */]: type => `Edge type is missing\nType: ${type}`,\n  [\"EDGE_SOURCE_TARGET_SAME\"\n  /* EDGE_SOURCE_TARGET_SAME */]: (id2, source, target) => `Edge source and target are the same\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\"EDGE_SOURCE_TARGET_MISSING\"\n  /* EDGE_SOURCE_TARGET_MISSING */]: (id2, source, target) => `Edge source or target is missing\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\"EDGE_ORPHANED\"\n  /* EDGE_ORPHANED */]: id2 => `Edge was orphaned (suddenly missing source or target) and has been removed\nEdge: ${id2}`,\n  [\"EDGE_NOT_FOUND\"\n  /* EDGE_NOT_FOUND */]: id2 => `Edge not found\nEdge: ${id2}`,\n  // deprecation errors\n  [\"USEVUEFLOW_OPTIONS\"\n  /* USEVUEFLOW_OPTIONS */]: () => `The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead`\n};\nclass VueFlowError extends Error {\n  constructor(code, ...args) {\n    var _a;\n    super((_a = messages[code]) == null ? void 0 : _a.call(messages, ...args));\n    this.name = \"VueFlowError\";\n    this.code = code;\n    this.args = args;\n  }\n}\nfunction isErrorOfType(error, code) {\n  return error.code === code;\n}\nfunction isMouseEvent(event) {\n  return \"clientX\" in event;\n}\nfunction getEventPosition(event, bounds) {\n  var _a, _b;\n  const isMouseTriggered = isMouseEvent(event);\n  const evtX = isMouseTriggered ? event.clientX : (_a = event.touches) == null ? void 0 : _a[0].clientX;\n  const evtY = isMouseTriggered ? event.clientY : (_b = event.touches) == null ? void 0 : _b[0].clientY;\n  return {\n    x: evtX - ((bounds == null ? void 0 : bounds.left) ?? 0),\n    y: evtY - ((bounds == null ? void 0 : bounds.top) ?? 0)\n  };\n}\nconst isMacOs = () => {\n  var _a;\n  return typeof navigator !== \"undefined\" && ((_a = navigator == null ? void 0 : navigator.userAgent) == null ? void 0 : _a.indexOf(\"Mac\")) >= 0;\n};\nfunction getNodeDimensions(node) {\n  var _a, _b;\n  return {\n    width: ((_a = node.dimensions) == null ? void 0 : _a.width) ?? node.width ?? 0,\n    height: ((_b = node.dimensions) == null ? void 0 : _b.height) ?? node.height ?? 0\n  };\n}\nfunction defaultValidHandleResult() {\n  return {\n    handleDomNode: null,\n    isValid: false,\n    connection: {\n      source: \"\",\n      target: \"\",\n      sourceHandle: null,\n      targetHandle: null\n    },\n    endHandle: null\n  };\n}\nfunction resetRecentHandle(handleDomNode) {\n  handleDomNode == null ? void 0 : handleDomNode.classList.remove(\"valid\", \"connecting\", \"vue-flow__handle-valid\", \"vue-flow__handle-connecting\");\n}\nfunction getHandles(node, handleBounds, type, currentHandle) {\n  const connectionHandles = [];\n  for (const handle of handleBounds[type] || []) {\n    if (`${node.id}-${handle.id}-${type}` !== currentHandle) {\n      const {\n        x,\n        y\n      } = getHandlePosition(node, handle);\n      connectionHandles.push({\n        id: handle.id || null,\n        type,\n        nodeId: node.id,\n        x,\n        y\n      });\n    }\n  }\n  return connectionHandles;\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n  const {\n    x,\n    y\n  } = getEventPosition(event);\n  const domNodes = doc.elementsFromPoint(x, y);\n  const handleBelow = domNodes.find(el => el.classList.contains(\"vue-flow__handle\"));\n  if (handleBelow) {\n    const handleNodeId = handleBelow.getAttribute(\"data-nodeid\");\n    if (handleNodeId) {\n      const handleType = getHandleType(void 0, handleBelow);\n      const handleId = handleBelow.getAttribute(\"data-handleid\");\n      const validHandleResult = validator({\n        nodeId: handleNodeId,\n        id: handleId,\n        type: handleType\n      });\n      if (validHandleResult) {\n        const handle = handles.find(h2 => h2.nodeId === handleNodeId && h2.type === handleType && h2.id === handleId);\n        return {\n          handle: {\n            id: handleId,\n            type: handleType,\n            nodeId: handleNodeId,\n            x: (handle == null ? void 0 : handle.x) || pos.x,\n            y: (handle == null ? void 0 : handle.y) || pos.y\n          },\n          validHandleResult\n        };\n      }\n    }\n  }\n  let closestHandles = [];\n  let minDistance = Number.POSITIVE_INFINITY;\n  for (const handle of handles) {\n    const distance2 = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);\n    if (distance2 <= connectionRadius) {\n      const validHandleResult = validator(handle);\n      if (distance2 <= minDistance) {\n        if (distance2 < minDistance) {\n          closestHandles = [{\n            handle,\n            validHandleResult\n          }];\n        } else if (distance2 === minDistance) {\n          closestHandles.push({\n            handle,\n            validHandleResult\n          });\n        }\n        minDistance = distance2;\n      }\n    }\n  }\n  if (!closestHandles.length) {\n    return {\n      handle: null,\n      validHandleResult: defaultValidHandleResult()\n    };\n  }\n  if (closestHandles.length === 1) {\n    return closestHandles[0];\n  }\n  const hasValidHandle = closestHandles.some(({\n    validHandleResult\n  }) => validHandleResult.isValid);\n  const hasTargetHandle = closestHandles.some(({\n    handle\n  }) => handle.type === \"target\");\n  return closestHandles.find(({\n    handle,\n    validHandleResult\n  }) => hasTargetHandle ? handle.type === \"target\" : hasValidHandle ? validHandleResult.isValid : true) || closestHandles[0];\n}\nfunction isValidHandle(event, handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc, edges, nodes, findNode) {\n  const isTarget = fromType === \"target\";\n  const handleDomNode = doc.querySelector(`.vue-flow__handle[data-id=\"${handle == null ? void 0 : handle.nodeId}-${handle == null ? void 0 : handle.id}-${handle == null ? void 0 : handle.type}\"]`);\n  const {\n    x,\n    y\n  } = getEventPosition(event);\n  const elementBelow = doc.elementFromPoint(x, y);\n  const handleToCheck = (elementBelow == null ? void 0 : elementBelow.classList.contains(\"vue-flow__handle\")) ? elementBelow : handleDomNode;\n  const result = defaultValidHandleResult();\n  if (handleToCheck) {\n    result.handleDomNode = handleToCheck;\n    const handleType = getHandleType(void 0, handleToCheck);\n    const handleNodeId = handleToCheck.getAttribute(\"data-nodeid\");\n    const handleId = handleToCheck.getAttribute(\"data-handleid\");\n    const connectable = handleToCheck.classList.contains(\"connectable\");\n    const connectableEnd = handleToCheck.classList.contains(\"connectableend\");\n    const connection = {\n      source: isTarget ? handleNodeId : fromNodeId,\n      sourceHandle: isTarget ? handleId : fromHandleId,\n      target: isTarget ? fromNodeId : handleNodeId,\n      targetHandle: isTarget ? fromHandleId : handleId\n    };\n    result.connection = connection;\n    const isConnectable = connectable && connectableEnd;\n    const isValid = isConnectable && (connectionMode === ConnectionMode.Strict ? isTarget && handleType === \"source\" || !isTarget && handleType === \"target\" : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n    if (isValid) {\n      result.isValid = isValidConnection(connection, {\n        edges,\n        nodes,\n        sourceNode: findNode(connection.source),\n        targetNode: findNode(connection.target)\n      });\n      result.endHandle = {\n        nodeId: handleNodeId,\n        handleId,\n        type: handleType,\n        position: result.isValid ? handleToCheck.getAttribute(\"data-handlepos\") : null\n      };\n    }\n  }\n  return result;\n}\nfunction getHandleLookup({\n  nodes,\n  nodeId,\n  handleId,\n  handleType\n}) {\n  const handleLookup = [];\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    const {\n      handleBounds\n    } = node;\n    let sourceHandles = [];\n    let targetHandles = [];\n    if (handleBounds) {\n      sourceHandles = getHandles(node, handleBounds, \"source\", `${nodeId}-${handleId}-${handleType}`);\n      targetHandles = getHandles(node, handleBounds, \"target\", `${nodeId}-${handleId}-${handleType}`);\n    }\n    handleLookup.push(...sourceHandles, ...targetHandles);\n  }\n  return handleLookup;\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n  if (edgeUpdaterType) {\n    return edgeUpdaterType;\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"target\")) {\n    return \"target\";\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"source\")) {\n    return \"source\";\n  }\n  return null;\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n  let connectionStatus = null;\n  if (isHandleValid) {\n    connectionStatus = \"valid\";\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    connectionStatus = \"invalid\";\n  }\n  return connectionStatus;\n}\nconst productionEnvs = [\"production\", \"prod\"];\nfunction warn(message, ...args) {\n  if (isDev()) {\n    console.warn(`[Vue Flow]: ${message}`, ...args);\n  }\n}\nfunction isDev() {\n  return !productionEnvs.includes(process.env.NODE_ENV || \"\");\n}\nfunction getHandleBounds(selector2, nodeElement, nodeBounds, zoom2) {\n  const handles = nodeElement.querySelectorAll(`.vue-flow__handle${selector2}`);\n  const handlesArray = Array.from(handles);\n  return handlesArray.map(handle => {\n    const handleBounds = handle.getBoundingClientRect();\n    return {\n      id: handle.getAttribute(\"data-handleid\"),\n      position: handle.getAttribute(\"data-handlepos\"),\n      x: (handleBounds.left - nodeBounds.left) / zoom2,\n      y: (handleBounds.top - nodeBounds.top) / zoom2,\n      ...getDimensions(handle)\n    };\n  });\n}\nfunction handleNodeClick(node, multiSelectionActive, addSelectedNodes, removeSelectedNodes, nodesSelectionActive, unselect = false, nodeEl) {\n  nodesSelectionActive.value = false;\n  if (!node.selected) {\n    addSelectedNodes([node]);\n  } else if (unselect || node.selected && multiSelectionActive) {\n    removeSelectedNodes([node]);\n    nextTick(() => {\n      nodeEl.blur();\n    });\n  }\n}\nfunction isDef(val) {\n  const unrefVal = unref(val);\n  return typeof unrefVal !== \"undefined\";\n}\nfunction addEdgeToStore(edgeParams, edges, triggerError, defaultEdgeOptions) {\n  if (!edgeParams || !edgeParams.source || !edgeParams.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, (edgeParams == null ? void 0 : edgeParams.id) ?? `[ID UNKNOWN]`));\n    return false;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = edgeParams;\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaultEdgeOptions);\n  if (connectionExists(edge, edges)) {\n    return false;\n  }\n  return edge;\n}\nfunction updateEdgeAction(edge, newConnection, edges, findEdge, shouldReplaceId, triggerError) {\n  if (!newConnection.source || !newConnection.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n    return false;\n  }\n  const foundEdge = findEdge(edge.id);\n  if (!foundEdge) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edge.id));\n    return false;\n  }\n  const {\n    id: id2,\n    ...rest\n  } = edge;\n  const newEdge = {\n    ...rest,\n    id: shouldReplaceId ? getEdgeId(newConnection) : id2,\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  edges.splice(edges.indexOf(foundEdge), 1, newEdge);\n  return newEdge;\n}\nfunction createGraphNodes(nodes, findNode, triggerError) {\n  const parentNodes = {};\n  const nextNodes = [];\n  for (let i = 0; i < nodes.length; ++i) {\n    const node = nodes[i];\n    if (!isNode(node)) {\n      triggerError(new VueFlowError(ErrorCode.NODE_INVALID, node == null ? void 0 : node.id) || `[ID UNKNOWN|INDEX ${i}]`);\n      continue;\n    }\n    const parsed = parseNode(node, findNode(node.id), node.parentNode);\n    if (node.parentNode) {\n      parentNodes[node.parentNode] = true;\n    }\n    nextNodes[i] = parsed;\n  }\n  for (const node of nextNodes) {\n    const parentNode = findNode(node.parentNode) || nextNodes.find(n => n.id === node.parentNode);\n    if (node.parentNode && !parentNode) {\n      triggerError(new VueFlowError(ErrorCode.NODE_MISSING_PARENT, node.id, node.parentNode));\n    }\n    if (node.parentNode || parentNodes[node.id]) {\n      if (parentNodes[node.id]) {\n        node.isParent = true;\n      }\n      if (parentNode) {\n        parentNode.isParent = true;\n      }\n    }\n  }\n  return nextNodes;\n}\nfunction updateConnectionLookup(connectionLookup, edges) {\n  connectionLookup.clear();\n  for (const edge of edges) {\n    const {\n      id: edgeId,\n      source,\n      target,\n      sourceHandle = null,\n      targetHandle = null\n    } = edge;\n    const sourceKey = `${source}-source-${sourceHandle}`;\n    const targetKey = `${target}-target-${targetHandle}`;\n    const prevSource = connectionLookup.get(sourceKey) || /* @__PURE__ */new Map();\n    const prevTarget = connectionLookup.get(targetKey) || /* @__PURE__ */new Map();\n    const connection = markRaw({\n      edgeId,\n      source,\n      target,\n      sourceHandle,\n      targetHandle\n    });\n    connectionLookup.set(sourceKey, prevSource.set(`${target}-${targetHandle}`, connection));\n    connectionLookup.set(targetKey, prevTarget.set(`${source}-${sourceHandle}`, connection));\n  }\n}\nfunction handleConnectionChange(a, b, cb) {\n  if (!cb) {\n    return;\n  }\n  const diff = [];\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      diff.push(a.get(key));\n    }\n  }\n  if (diff.length) {\n    cb(diff);\n  }\n}\nfunction areConnectionMapsEqual(a, b) {\n  if (!a && !b) {\n    return true;\n  }\n  if (!a || !b || a.size !== b.size) {\n    return false;\n  }\n  if (!a.size && !b.size) {\n    return true;\n  }\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction createGraphEdges(nextEdges, isValidConnection, findNode, findEdge, onError, defaultEdgeOptions, nodes, edges) {\n  const validEdges = [];\n  for (const edgeOrConnection of nextEdges) {\n    const edge = isEdge(edgeOrConnection) ? edgeOrConnection : addEdgeToStore(edgeOrConnection, edges, onError, defaultEdgeOptions);\n    if (!edge) {\n      continue;\n    }\n    const sourceNode = findNode(edge.source);\n    const targetNode = findNode(edge.target);\n    if (!sourceNode || !targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.id, edge.source, edge.target));\n      continue;\n    }\n    if (!sourceNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.id, edge.source));\n      continue;\n    }\n    if (!targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.id, edge.target));\n      continue;\n    }\n    if (isValidConnection) {\n      const isValid = isValidConnection(edge, {\n        edges,\n        nodes,\n        sourceNode,\n        targetNode\n      });\n      if (!isValid) {\n        onError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n        continue;\n      }\n    }\n    const existingEdge = findEdge(edge.id);\n    validEdges.push({\n      ...parseEdge(edge, existingEdge, defaultEdgeOptions),\n      sourceNode,\n      targetNode\n    });\n  }\n  return validEdges;\n}\nconst VueFlow = Symbol(\"vueFlow\");\nconst NodeId = Symbol(\"nodeId\");\nconst NodeRef = Symbol(\"nodeRef\");\nconst EdgeId = Symbol(\"edgeId\");\nconst EdgeRef = Symbol(\"edgeRef\");\nconst Slots = Symbol(\"slots\");\nfunction useDrag(params) {\n  const {\n    vueFlowRef,\n    snapToGrid,\n    snapGrid,\n    noDragClassName,\n    nodes,\n    nodeExtent,\n    nodeDragThreshold,\n    viewport,\n    autoPanOnNodeDrag,\n    autoPanSpeed,\n    nodesDraggable,\n    panBy,\n    findNode,\n    multiSelectionActive,\n    nodesSelectionActive,\n    selectNodesOnDrag,\n    removeSelectedElements,\n    addSelectedNodes,\n    updateNodePositions,\n    emits\n  } = useVueFlow();\n  const {\n    onStart,\n    onDrag,\n    onStop,\n    onClick,\n    el,\n    disabled,\n    id: id2,\n    selectable,\n    dragHandle\n  } = params;\n  const dragging = ref(false);\n  let dragItems = [];\n  let dragHandler;\n  let containerBounds = null;\n  let lastPos = {\n    x: void 0,\n    y: void 0\n  };\n  let mousePosition = {\n    x: 0,\n    y: 0\n  };\n  let dragEvent = null;\n  let dragStarted = false;\n  let autoPanId = 0;\n  let autoPanStarted = false;\n  const getPointerPosition = useGetPointerPosition();\n  const updateNodes = ({\n    x,\n    y\n  }) => {\n    lastPos = {\n      x,\n      y\n    };\n    let hasChange = false;\n    dragItems = dragItems.map(n => {\n      const nextPosition = {\n        x: x - n.distance.x,\n        y: y - n.distance.y\n      };\n      if (snapToGrid.value) {\n        nextPosition.x = snapGrid.value[0] * Math.round(nextPosition.x / snapGrid.value[0]);\n        nextPosition.y = snapGrid.value[1] * Math.round(nextPosition.y / snapGrid.value[1]);\n      }\n      const {\n        computedPosition\n      } = calcNextPosition(n, nextPosition, emits.error, nodeExtent.value, n.parentNode ? findNode(n.parentNode) : void 0);\n      hasChange = hasChange || n.position.x !== computedPosition.x || n.position.y !== computedPosition.y;\n      n.position = computedPosition;\n      return n;\n    });\n    if (!hasChange) {\n      return;\n    }\n    updateNodePositions(dragItems, true, true);\n    dragging.value = true;\n    if (dragEvent) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onDrag({\n        event: dragEvent,\n        node: currentNode,\n        nodes: nodes2\n      });\n    }\n  };\n  const autoPan = () => {\n    if (!containerBounds) {\n      return;\n    }\n    const [xMovement, yMovement] = calcAutoPan(mousePosition, containerBounds, autoPanSpeed.value);\n    if (xMovement !== 0 || yMovement !== 0) {\n      const nextPos = {\n        x: (lastPos.x ?? 0) - xMovement / viewport.value.zoom,\n        y: (lastPos.y ?? 0) - yMovement / viewport.value.zoom\n      };\n      if (panBy({\n        x: xMovement,\n        y: yMovement\n      })) {\n        updateNodes(nextPos);\n      }\n    }\n    autoPanId = requestAnimationFrame(autoPan);\n  };\n  const startDrag = (event, nodeEl) => {\n    dragStarted = true;\n    const node = findNode(id2);\n    if (!selectNodesOnDrag.value && !multiSelectionActive.value && node) {\n      if (!node.selected) {\n        removeSelectedElements();\n      }\n    }\n    if (node && toValue$1(selectable) && selectNodesOnDrag.value) {\n      handleNodeClick(node, multiSelectionActive.value, addSelectedNodes, removeSelectedElements, nodesSelectionActive, false, nodeEl);\n    }\n    const pointerPos = getPointerPosition(event);\n    lastPos = pointerPos;\n    dragItems = getDragItems(nodes.value, nodesDraggable.value, pointerPos, findNode, id2);\n    if (dragItems.length) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStart({\n        event: event.sourceEvent,\n        node: currentNode,\n        nodes: nodes2\n      });\n    }\n  };\n  const eventStart = (event, nodeEl) => {\n    var _a;\n    if (event.sourceEvent.type === \"touchmove\" && event.sourceEvent.touches.length > 1) {\n      return;\n    }\n    if (nodeDragThreshold.value === 0) {\n      startDrag(event, nodeEl);\n    }\n    lastPos = getPointerPosition(event);\n    containerBounds = ((_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect()) || null;\n    mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n  };\n  const eventDrag = (event, nodeEl) => {\n    const pointerPos = getPointerPosition(event);\n    if (!autoPanStarted && dragStarted && autoPanOnNodeDrag.value) {\n      autoPanStarted = true;\n      autoPan();\n    }\n    if (!dragStarted) {\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 > nodeDragThreshold.value) {\n        startDrag(event, nodeEl);\n      }\n    }\n    if ((lastPos.x !== pointerPos.xSnapped || lastPos.y !== pointerPos.ySnapped) && dragItems.length && dragStarted) {\n      dragEvent = event.sourceEvent;\n      mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n      updateNodes(pointerPos);\n    }\n  };\n  const eventEnd = event => {\n    if (!dragStarted) {\n      const pointerPos = getPointerPosition(event);\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 !== 0 && distance2 <= nodeDragThreshold.value) {\n        onClick == null ? void 0 : onClick(event.sourceEvent);\n      }\n      return;\n    }\n    dragging.value = false;\n    autoPanStarted = false;\n    dragStarted = false;\n    cancelAnimationFrame(autoPanId);\n    if (dragItems.length) {\n      updateNodePositions(dragItems, false, false);\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStop({\n        event: event.sourceEvent,\n        node: currentNode,\n        nodes: nodes2\n      });\n    }\n  };\n  watch([() => toValue$1(disabled), el], ([isDisabled, nodeEl], _, onCleanup) => {\n    if (nodeEl) {\n      const selection2 = select(nodeEl);\n      if (!isDisabled) {\n        dragHandler = drag().on(\"start\", event => eventStart(event, nodeEl)).on(\"drag\", event => eventDrag(event, nodeEl)).on(\"end\", event => eventEnd(event)).filter(event => {\n          const target = event.target;\n          const unrefDragHandle = toValue$1(dragHandle);\n          return !event.button && (!noDragClassName.value || !hasSelector(target, `.${noDragClassName.value}`, nodeEl) && (!unrefDragHandle || hasSelector(target, unrefDragHandle, nodeEl)));\n        });\n        selection2.call(dragHandler);\n      }\n      onCleanup(() => {\n        selection2.on(\".drag\", null);\n        if (dragHandler) {\n          dragHandler.on(\"start\", null);\n          dragHandler.on(\"drag\", null);\n          dragHandler.on(\"end\", null);\n        }\n      });\n    }\n  });\n  return dragging;\n}\nfunction useEdge(id2) {\n  const edgeId = id2 ?? inject(EdgeId, \"\");\n  const edgeEl = inject(EdgeRef, ref(null));\n  const {\n    findEdge,\n    emits\n  } = useVueFlow();\n  const edge = findEdge(edgeId);\n  if (!edge) {\n    emits.error(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edgeId));\n  }\n  return {\n    id: edgeId,\n    edge,\n    edgeEl\n  };\n}\nfunction createEdgeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    updateStart: createExtendedEventHook(),\n    update: createExtendedEventHook(),\n    updateEnd: createExtendedEventHook()\n  };\n}\nfunction useEdgeHooks(edge, emits) {\n  const edgeHooks = createEdgeHooks();\n  edgeHooks.doubleClick.on(event => {\n    var _a, _b;\n    emits.edgeDoubleClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.click.on(event => {\n    var _a, _b;\n    emits.edgeClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseEnter.on(event => {\n    var _a, _b;\n    emits.edgeMouseEnter(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseMove.on(event => {\n    var _a, _b;\n    emits.edgeMouseMove(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseLeave.on(event => {\n    var _a, _b;\n    emits.edgeMouseLeave(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.contextMenu.on(event => {\n    var _a, _b;\n    emits.edgeContextMenu(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateStart.on(event => {\n    var _a, _b;\n    emits.edgeUpdateStart(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateStart) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.update.on(event => {\n    var _a, _b;\n    emits.edgeUpdate(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateEnd.on(event => {\n    var _a, _b;\n    emits.edgeUpdateEnd(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateEnd) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(edgeHooks).reduce((hooks, [key, value]) => {\n    hooks.emit[key] = value.trigger;\n    hooks.on[key] = value.on;\n    return hooks;\n  }, {\n    emit: {},\n    on: {}\n  });\n}\nfunction useGetPointerPosition() {\n  const {\n    viewport,\n    snapGrid,\n    snapToGrid\n  } = useVueFlow();\n  return ({\n    sourceEvent: sourceEvent2\n  }) => {\n    const x = sourceEvent2.touches ? sourceEvent2.touches[0].clientX : sourceEvent2.clientX;\n    const y = sourceEvent2.touches ? sourceEvent2.touches[0].clientY : sourceEvent2.clientY;\n    const pointerPos = {\n      x: (x - viewport.value.x) / viewport.value.zoom,\n      y: (y - viewport.value.y) / viewport.value.zoom\n    };\n    return {\n      xSnapped: snapToGrid.value ? snapGrid.value[0] * Math.round(pointerPos.x / snapGrid.value[0]) : pointerPos.x,\n      ySnapped: snapToGrid.value ? snapGrid.value[1] * Math.round(pointerPos.y / snapGrid.value[1]) : pointerPos.y,\n      ...pointerPos\n    };\n  };\n}\nfunction alwaysValid() {\n  return true;\n}\nfunction useHandle({\n  handleId,\n  nodeId,\n  type,\n  isValidConnection,\n  edgeUpdaterType,\n  onEdgeUpdate,\n  onEdgeUpdateEnd\n}) {\n  const {\n    vueFlowRef,\n    connectionMode,\n    connectionRadius,\n    connectOnClick,\n    connectionClickStartHandle,\n    nodesConnectable,\n    autoPanOnConnect,\n    autoPanSpeed,\n    findNode,\n    panBy,\n    startConnection,\n    updateConnection,\n    endConnection,\n    emits,\n    viewport,\n    edges,\n    nodes,\n    isValidConnection: isValidConnectionProp\n  } = useVueFlow();\n  let connection = null;\n  let isValid = false;\n  let handleDomNode = null;\n  let previousConnection = null;\n  function handlePointerDown(event) {\n    var _a;\n    const isTarget = toValue$1(type) === \"target\";\n    const isMouseTriggered = isMouseEvent(event);\n    const doc = getHostForElement(event.target);\n    if (isMouseTriggered && event.button === 0 || !isMouseTriggered) {\n      let onPointerMove = function (event2) {\n          connectionPosition = getEventPosition(event2, containerBounds);\n          const {\n            handle,\n            validHandleResult\n          } = getClosestHandle(event2, doc, pointToRendererPoint(connectionPosition, viewport.value, false, [1, 1]), connectionRadius.value, handleLookup, handle2 => isValidHandle(event2, handle2, connectionMode.value, toValue$1(nodeId), toValue$1(handleId), isTarget ? \"target\" : \"source\", isValidConnectionHandler, doc, edges.value, nodes.value, findNode));\n          closestHandle = handle;\n          if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n          }\n          connection = validHandleResult.connection;\n          isValid = validHandleResult.isValid;\n          handleDomNode = validHandleResult.handleDomNode;\n          if (isValid && closestHandle && (previousConnection == null ? void 0 : previousConnection.endHandle) && validHandleResult.endHandle && previousConnection.endHandle.type === validHandleResult.endHandle.type && previousConnection.endHandle.nodeId === validHandleResult.endHandle.nodeId && previousConnection.endHandle.handleId === validHandleResult.endHandle.handleId) {\n            return;\n          }\n          updateConnection(closestHandle && isValid ? rendererPointToPoint({\n            x: closestHandle.x,\n            y: closestHandle.y\n          }, viewport.value) : connectionPosition, validHandleResult.endHandle, getConnectionStatus(!!closestHandle, isValid));\n          previousConnection = validHandleResult;\n          if (!closestHandle && !isValid && !handleDomNode) {\n            return resetRecentHandle(prevActiveHandle);\n          }\n          if (connection && connection.source !== connection.target && handleDomNode) {\n            resetRecentHandle(prevActiveHandle);\n            prevActiveHandle = handleDomNode;\n            handleDomNode.classList.add(\"connecting\", \"vue-flow__handle-connecting\");\n            handleDomNode.classList.toggle(\"valid\", isValid);\n            handleDomNode.classList.toggle(\"vue-flow__handle-valid\", isValid);\n          }\n        },\n        onPointerUp = function (event2) {\n          if ((closestHandle || handleDomNode) && connection && isValid) {\n            if (!onEdgeUpdate) {\n              emits.connect(connection);\n            } else {\n              onEdgeUpdate(event2, connection);\n            }\n          }\n          emits.connectEnd(event2);\n          if (edgeUpdaterType) {\n            onEdgeUpdateEnd == null ? void 0 : onEdgeUpdateEnd(event2);\n          }\n          resetRecentHandle(prevActiveHandle);\n          cancelAnimationFrame(autoPanId);\n          endConnection(event2);\n          autoPanStarted = false;\n          isValid = false;\n          connection = null;\n          handleDomNode = null;\n          doc.removeEventListener(\"mousemove\", onPointerMove);\n          doc.removeEventListener(\"mouseup\", onPointerUp);\n          doc.removeEventListener(\"touchmove\", onPointerMove);\n          doc.removeEventListener(\"touchend\", onPointerUp);\n        };\n      const node = findNode(toValue$1(nodeId));\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      let closestHandle;\n      let autoPanId = 0;\n      const {\n        x,\n        y\n      } = getEventPosition(event);\n      const clickedHandle = doc == null ? void 0 : doc.elementFromPoint(x, y);\n      const handleType = getHandleType(toValue$1(edgeUpdaterType), clickedHandle);\n      const containerBounds = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!containerBounds || !handleType) {\n        return;\n      }\n      let prevActiveHandle;\n      let connectionPosition = getEventPosition(event, containerBounds);\n      let autoPanStarted = false;\n      const handleLookup = getHandleLookup({\n        nodes: nodes.value,\n        nodeId: toValue$1(nodeId),\n        handleId: toValue$1(handleId),\n        handleType\n      });\n      const autoPan = () => {\n        if (!autoPanOnConnect.value) {\n          return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds, autoPanSpeed.value);\n        panBy({\n          x: xMovement,\n          y: yMovement\n        });\n        autoPanId = requestAnimationFrame(autoPan);\n      };\n      startConnection({\n        nodeId: toValue$1(nodeId),\n        handleId: toValue$1(handleId),\n        type: handleType,\n        position: (clickedHandle == null ? void 0 : clickedHandle.getAttribute(\"data-handlepos\")) || Position.Top\n      }, {\n        x: x - containerBounds.left,\n        y: y - containerBounds.top\n      });\n      emits.connectStart({\n        event,\n        nodeId: toValue$1(nodeId),\n        handleId: toValue$1(handleId),\n        handleType\n      });\n      doc.addEventListener(\"mousemove\", onPointerMove);\n      doc.addEventListener(\"mouseup\", onPointerUp);\n      doc.addEventListener(\"touchmove\", onPointerMove);\n      doc.addEventListener(\"touchend\", onPointerUp);\n    }\n  }\n  function handleClick(event) {\n    if (!connectOnClick.value) {\n      return;\n    }\n    const isTarget = toValue$1(type) === \"target\";\n    if (!connectionClickStartHandle.value) {\n      emits.clickConnectStart({\n        event,\n        nodeId: toValue$1(nodeId),\n        handleId: toValue$1(handleId)\n      });\n      startConnection({\n        nodeId: toValue$1(nodeId),\n        type: toValue$1(type),\n        handleId: toValue$1(handleId)\n      }, void 0, true);\n    } else {\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      const node = findNode(toValue$1(nodeId));\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      if (node && (typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable) === false) {\n        return;\n      }\n      const doc = getHostForElement(event.target);\n      const {\n        connection: connection2,\n        isValid: isValid2\n      } = isValidHandle(event, {\n        nodeId: toValue$1(nodeId),\n        id: toValue$1(handleId),\n        type: toValue$1(type)\n      }, connectionMode.value, connectionClickStartHandle.value.nodeId, connectionClickStartHandle.value.handleId || null, connectionClickStartHandle.value.type, isValidConnectionHandler, doc, edges.value, nodes.value, findNode);\n      const isOwnHandle = connection2.source === connection2.target;\n      if (isValid2 && !isOwnHandle) {\n        emits.connect(connection2);\n      }\n      emits.clickConnectEnd(event);\n      endConnection(event, true);\n    }\n  }\n  return {\n    handlePointerDown,\n    handleClick\n  };\n}\nfunction useNodeId() {\n  return inject(NodeId, \"\");\n}\nfunction useNode(id2) {\n  const nodeId = id2 ?? useNodeId() ?? \"\";\n  const nodeEl = inject(NodeRef, ref(null));\n  const {\n    findNode,\n    edges,\n    emits\n  } = useVueFlow();\n  const node = findNode(nodeId);\n  if (!node) {\n    emits.error(new VueFlowError(ErrorCode.NODE_NOT_FOUND, nodeId));\n  }\n  return {\n    id: nodeId,\n    nodeEl,\n    node,\n    parentNode: computed(() => findNode(node.parentNode)),\n    connectedEdges: computed(() => getConnectedEdges([node], edges.value))\n  };\n}\nfunction createNodeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    dragStart: createExtendedEventHook(),\n    drag: createExtendedEventHook(),\n    dragStop: createExtendedEventHook()\n  };\n}\nfunction useNodeHooks(node, emits) {\n  const nodeHooks = createNodeHooks();\n  nodeHooks.doubleClick.on(event => {\n    var _a, _b;\n    emits.nodeDoubleClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.click.on(event => {\n    var _a, _b;\n    emits.nodeClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseEnter.on(event => {\n    var _a, _b;\n    emits.nodeMouseEnter(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseMove.on(event => {\n    var _a, _b;\n    emits.nodeMouseMove(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseLeave.on(event => {\n    var _a, _b;\n    emits.nodeMouseLeave(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.contextMenu.on(event => {\n    var _a, _b;\n    emits.nodeContextMenu(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStart.on(event => {\n    var _a, _b;\n    emits.nodeDragStart(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStart) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.drag.on(event => {\n    var _a, _b;\n    emits.nodeDrag(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.drag) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStop.on(event => {\n    var _a, _b;\n    emits.nodeDragStop(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStop) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(nodeHooks).reduce((hooks, [key, value]) => {\n    hooks.emit[key] = value.trigger;\n    hooks.on[key] = value.on;\n    return hooks;\n  }, {\n    emit: {},\n    on: {}\n  });\n}\nfunction useUpdateNodePositions() {\n  const {\n    getSelectedNodes,\n    nodeExtent,\n    updateNodePositions,\n    findNode,\n    snapGrid,\n    snapToGrid,\n    nodesDraggable,\n    emits\n  } = useVueFlow();\n  return (positionDiff, isShiftPressed = false) => {\n    const xVelo = snapToGrid.value ? snapGrid.value[0] : 5;\n    const yVelo = snapToGrid.value ? snapGrid.value[1] : 5;\n    const factor = isShiftPressed ? 4 : 1;\n    const positionDiffX = positionDiff.x * xVelo * factor;\n    const positionDiffY = positionDiff.y * yVelo * factor;\n    const nodeUpdates = [];\n    for (const node of getSelectedNodes.value) {\n      if (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\") {\n        const nextPosition = {\n          x: node.computedPosition.x + positionDiffX,\n          y: node.computedPosition.y + positionDiffY\n        };\n        const {\n          computedPosition\n        } = calcNextPosition(node, nextPosition, emits.error, nodeExtent.value, node.parentNode ? findNode(node.parentNode) : void 0);\n        nodeUpdates.push({\n          id: node.id,\n          position: computedPosition,\n          from: node.position,\n          distance: {\n            x: positionDiff.x,\n            y: positionDiff.y\n          },\n          dimensions: node.dimensions\n        });\n      }\n    }\n    updateNodePositions(nodeUpdates, true, false);\n  };\n}\nconst DEFAULT_PADDING = 0.1;\nfunction noop() {\n  warn(\"Viewport not initialized yet.\");\n  return Promise.resolve(false);\n}\nconst initialViewportHelper = {\n  zoomIn: noop,\n  zoomOut: noop,\n  zoomTo: noop,\n  fitView: noop,\n  setCenter: noop,\n  fitBounds: noop,\n  project: position => position,\n  screenToFlowCoordinate: position => position,\n  flowToScreenCoordinate: position => position,\n  setViewport: noop,\n  setTransform: noop,\n  getViewport: () => ({\n    x: 0,\n    y: 0,\n    zoom: 1\n  }),\n  getTransform: () => ({\n    x: 0,\n    y: 0,\n    zoom: 1\n  }),\n  viewportInitialized: false\n};\nfunction useViewportHelper(state) {\n  function zoom2(scale, duration) {\n    return new Promise(resolve => {\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.scaleBy(transition(state.d3Selection, duration, () => {\n          resolve(true);\n        }), scale);\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  function transformViewport(x, y, zoom22, duration) {\n    return new Promise(resolve => {\n      const {\n        x: clampedX,\n        y: clampedY\n      } = clampPosition({\n        x: -x,\n        y: -y\n      }, state.translateExtent);\n      const nextTransform = identity.translate(-clampedX, -clampedY).scale(zoom22);\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.transform(transition(state.d3Selection, duration, () => {\n          resolve(true);\n        }), nextTransform);\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  return computed(() => {\n    const isInitialized = state.d3Zoom && state.d3Selection && state.dimensions.width && state.dimensions.height;\n    if (!isInitialized) {\n      return initialViewportHelper;\n    }\n    return {\n      viewportInitialized: true,\n      // todo: allow passing scale as option\n      zoomIn: options => {\n        return zoom2(1.2, options == null ? void 0 : options.duration);\n      },\n      zoomOut: options => {\n        return zoom2(1 / 1.2, options == null ? void 0 : options.duration);\n      },\n      zoomTo: (zoomLevel, options) => {\n        return new Promise(resolve => {\n          if (state.d3Selection && state.d3Zoom) {\n            state.d3Zoom.scaleTo(transition(state.d3Selection, options == null ? void 0 : options.duration, () => {\n              resolve(true);\n            }), zoomLevel);\n          } else {\n            resolve(false);\n          }\n        });\n      },\n      setViewport: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      setTransform: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      getViewport: () => ({\n        x: state.viewport.x,\n        y: state.viewport.y,\n        zoom: state.viewport.zoom\n      }),\n      getTransform: () => {\n        return {\n          x: state.viewport.x,\n          y: state.viewport.y,\n          zoom: state.viewport.zoom\n        };\n      },\n      fitView: (options = {\n        padding: DEFAULT_PADDING,\n        includeHiddenNodes: false,\n        duration: 0\n      }) => {\n        var _a, _b;\n        const nodesToFit = [];\n        for (const node of state.nodes) {\n          const isVisible = node.dimensions.width && node.dimensions.height && ((options == null ? void 0 : options.includeHiddenNodes) || !node.hidden);\n          if (isVisible) {\n            if (!((_a = options.nodes) == null ? void 0 : _a.length) || ((_b = options.nodes) == null ? void 0 : _b.length) && options.nodes.includes(node.id)) {\n              nodesToFit.push(node);\n            }\n          }\n        }\n        if (!nodesToFit.length) {\n          return Promise.resolve(false);\n        }\n        const bounds = getRectOfNodes(nodesToFit);\n        const {\n          x,\n          y,\n          zoom: zoom22\n        } = getTransformForBounds(bounds, state.dimensions.width, state.dimensions.height, options.minZoom ?? state.minZoom, options.maxZoom ?? state.maxZoom, options.padding ?? DEFAULT_PADDING, options.offset);\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      setCenter: (x, y, options) => {\n        const nextZoom = typeof (options == null ? void 0 : options.zoom) !== \"undefined\" ? options.zoom : state.maxZoom;\n        const centerX = state.dimensions.width / 2 - x * nextZoom;\n        const centerY = state.dimensions.height / 2 - y * nextZoom;\n        return transformViewport(centerX, centerY, nextZoom, options == null ? void 0 : options.duration);\n      },\n      fitBounds: (bounds, options = {\n        padding: DEFAULT_PADDING\n      }) => {\n        const {\n          x,\n          y,\n          zoom: zoom22\n        } = getTransformForBounds(bounds, state.dimensions.width, state.dimensions.height, state.minZoom, state.maxZoom, options.padding);\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      project: position => pointToRendererPoint(position, state.viewport, state.snapToGrid, state.snapGrid),\n      screenToFlowCoordinate: position => {\n        if (state.vueFlowRef) {\n          const {\n            x: domX,\n            y: domY\n          } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x - domX,\n            y: position.y - domY\n          };\n          return pointToRendererPoint(correctedPosition, state.viewport, state.snapToGrid, state.snapGrid);\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      },\n      flowToScreenCoordinate: position => {\n        if (state.vueFlowRef) {\n          const {\n            x: domX,\n            y: domY\n          } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x + domX,\n            y: position.y + domY\n          };\n          return rendererPointToPoint(correctedPosition, state.viewport);\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      }\n    };\n  });\n}\nfunction transition(selection2, ms = 0, onEnd) {\n  return selection2.transition().duration(ms).on(\"end\", onEnd);\n}\nfunction useWatchProps(models, props, store) {\n  const scope = effectScope(true);\n  scope.run(() => {\n    const watchModelValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!(store.nodes.value.length || store.edges.value.length);\n        pauseModel = watchPausable([models.modelValue, () => {\n          var _a, _b;\n          return (_b = (_a = models.modelValue) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([elements]) => {\n          if (elements && Array.isArray(elements)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setElements(elements);\n            if (!pauseStore && !immediateStore && elements.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable([store.nodes, store.edges, () => store.edges.value.length, () => store.nodes.value.length], ([nodes, edges]) => {\n          var _a;\n          if (((_a = models.modelValue) == null ? void 0 : _a.value) && Array.isArray(models.modelValue.value)) {\n            pauseModel == null ? void 0 : pauseModel.pause();\n            models.modelValue.value = [...nodes, ...edges];\n            nextTick(() => {\n              pauseModel == null ? void 0 : pauseModel.resume();\n            });\n          }\n        }, {\n          immediate: immediateStore\n        });\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchNodesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.nodes.value.length;\n        pauseModel = watchPausable([models.nodes, () => {\n          var _a, _b;\n          return (_b = (_a = models.nodes) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([nodes]) => {\n          if (nodes && Array.isArray(nodes)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setNodes(nodes);\n            if (!pauseStore && !immediateStore && nodes.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable([store.nodes, () => store.nodes.value.length], ([nodes]) => {\n          var _a;\n          if (((_a = models.nodes) == null ? void 0 : _a.value) && Array.isArray(models.nodes.value)) {\n            pauseModel == null ? void 0 : pauseModel.pause();\n            models.nodes.value = [...nodes];\n            nextTick(() => {\n              pauseModel == null ? void 0 : pauseModel.resume();\n            });\n          }\n        }, {\n          immediate: immediateStore\n        });\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchEdgesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.edges.value.length;\n        pauseModel = watchPausable([models.edges, () => {\n          var _a, _b;\n          return (_b = (_a = models.edges) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([edges]) => {\n          if (edges && Array.isArray(edges)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setEdges(edges);\n            if (!pauseStore && !immediateStore && edges.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable([store.edges, () => store.edges.value.length], ([edges]) => {\n          var _a;\n          if (((_a = models.edges) == null ? void 0 : _a.value) && Array.isArray(models.edges.value)) {\n            pauseModel == null ? void 0 : pauseModel.pause();\n            models.edges.value = [...edges];\n            nextTick(() => {\n              pauseModel == null ? void 0 : pauseModel.resume();\n            });\n          }\n        }, {\n          immediate: immediateStore\n        });\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchMaxZoom = () => {\n      scope.run(() => {\n        watch(() => props.maxZoom, () => {\n          if (props.maxZoom && isDef(props.maxZoom)) {\n            store.setMaxZoom(props.maxZoom);\n          }\n        }, {\n          immediate: true\n        });\n      });\n    };\n    const watchMinZoom = () => {\n      scope.run(() => {\n        watch(() => props.minZoom, () => {\n          if (props.minZoom && isDef(props.minZoom)) {\n            store.setMinZoom(props.minZoom);\n          }\n        }, {\n          immediate: true\n        });\n      });\n    };\n    const watchTranslateExtent = () => {\n      scope.run(() => {\n        watch(() => props.translateExtent, () => {\n          if (props.translateExtent && isDef(props.translateExtent)) {\n            store.setTranslateExtent(props.translateExtent);\n          }\n        }, {\n          immediate: true\n        });\n      });\n    };\n    const watchNodeExtent = () => {\n      scope.run(() => {\n        watch(() => props.nodeExtent, () => {\n          if (props.nodeExtent && isDef(props.nodeExtent)) {\n            store.setNodeExtent(props.nodeExtent);\n          }\n        }, {\n          immediate: true\n        });\n      });\n    };\n    const watchApplyDefault = () => {\n      scope.run(() => {\n        watch(() => props.applyDefault, () => {\n          if (isDef(props.applyDefault)) {\n            store.applyDefault.value = props.applyDefault;\n          }\n        }, {\n          immediate: true\n        });\n      });\n    };\n    const watchAutoConnect = () => {\n      scope.run(() => {\n        const autoConnector = async params => {\n          let connection = params;\n          if (typeof props.autoConnect === \"function\") {\n            connection = await props.autoConnect(params);\n          }\n          if (connection !== false) {\n            store.addEdges([connection]);\n          }\n        };\n        watch(() => props.autoConnect, () => {\n          if (isDef(props.autoConnect)) {\n            store.autoConnect.value = props.autoConnect;\n          }\n        }, {\n          immediate: true\n        });\n        watch(store.autoConnect, (autoConnectEnabled, _, onCleanup) => {\n          if (autoConnectEnabled) {\n            store.onConnect(autoConnector);\n          } else {\n            store.hooks.value.connect.off(autoConnector);\n          }\n          onCleanup(() => {\n            store.hooks.value.connect.off(autoConnector);\n          });\n        }, {\n          immediate: true\n        });\n      });\n    };\n    const watchRest = () => {\n      const skip = [\"id\", \"modelValue\", \"translateExtent\", \"nodeExtent\", \"edges\", \"nodes\", \"maxZoom\", \"minZoom\", \"applyDefault\", \"autoConnect\"];\n      for (const key of Object.keys(props)) {\n        const propKey = key;\n        if (!skip.includes(propKey)) {\n          const propValue = toRef(() => props[propKey]);\n          const storeRef = store[propKey];\n          if (isRef(storeRef)) {\n            scope.run(() => {\n              watch(propValue, nextValue => {\n                if (isDef(nextValue)) {\n                  storeRef.value = nextValue;\n                }\n              }, {\n                immediate: true\n              });\n            });\n          }\n        }\n      }\n    };\n    const runAll = () => {\n      watchModelValue();\n      watchNodesValue();\n      watchEdgesValue();\n      watchMinZoom();\n      watchMaxZoom();\n      watchTranslateExtent();\n      watchNodeExtent();\n      watchApplyDefault();\n      watchAutoConnect();\n      watchRest();\n    };\n    runAll();\n  });\n  return () => scope.stop();\n}\nfunction useZoomPanHelper(vueFlowId) {\n  const state = useVueFlow({\n    id: vueFlowId\n  });\n  const viewportHelper = useViewportHelper(toReactive(state));\n  return {\n    fitView: params => viewportHelper.value.fitView(params),\n    zoomIn: transitionOpts => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: transitionOpts => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: params => viewportHelper.value.project(params)\n  };\n}\nfunction createHooks() {\n  return {\n    edgesChange: createExtendedEventHook(),\n    nodesChange: createExtendedEventHook(),\n    nodeDoubleClick: createExtendedEventHook(),\n    nodeClick: createExtendedEventHook(),\n    nodeMouseEnter: createExtendedEventHook(),\n    nodeMouseMove: createExtendedEventHook(),\n    nodeMouseLeave: createExtendedEventHook(),\n    nodeContextMenu: createExtendedEventHook(),\n    nodeDragStart: createExtendedEventHook(),\n    nodeDrag: createExtendedEventHook(),\n    nodeDragStop: createExtendedEventHook(),\n    nodesInitialized: createExtendedEventHook(),\n    miniMapNodeClick: createExtendedEventHook(),\n    miniMapNodeDoubleClick: createExtendedEventHook(),\n    miniMapNodeMouseEnter: createExtendedEventHook(),\n    miniMapNodeMouseMove: createExtendedEventHook(),\n    miniMapNodeMouseLeave: createExtendedEventHook(),\n    connect: createExtendedEventHook(),\n    connectStart: createExtendedEventHook(),\n    connectEnd: createExtendedEventHook(),\n    clickConnectStart: createExtendedEventHook(),\n    clickConnectEnd: createExtendedEventHook(),\n    paneReady: createExtendedEventHook(),\n    init: createExtendedEventHook(),\n    move: createExtendedEventHook(),\n    moveStart: createExtendedEventHook(),\n    moveEnd: createExtendedEventHook(),\n    selectionDragStart: createExtendedEventHook(),\n    selectionDrag: createExtendedEventHook(),\n    selectionDragStop: createExtendedEventHook(),\n    selectionContextMenu: createExtendedEventHook(),\n    selectionStart: createExtendedEventHook(),\n    selectionEnd: createExtendedEventHook(),\n    viewportChangeStart: createExtendedEventHook(),\n    viewportChange: createExtendedEventHook(),\n    viewportChangeEnd: createExtendedEventHook(),\n    paneScroll: createExtendedEventHook(),\n    paneClick: createExtendedEventHook(),\n    paneContextMenu: createExtendedEventHook(),\n    paneMouseEnter: createExtendedEventHook(),\n    paneMouseMove: createExtendedEventHook(),\n    paneMouseLeave: createExtendedEventHook(),\n    edgeContextMenu: createExtendedEventHook(),\n    edgeMouseEnter: createExtendedEventHook(),\n    edgeMouseMove: createExtendedEventHook(),\n    edgeMouseLeave: createExtendedEventHook(),\n    edgeDoubleClick: createExtendedEventHook(),\n    edgeClick: createExtendedEventHook(),\n    edgeUpdateStart: createExtendedEventHook(),\n    edgeUpdate: createExtendedEventHook(),\n    edgeUpdateEnd: createExtendedEventHook(),\n    updateNodeInternals: createExtendedEventHook(),\n    error: createExtendedEventHook(err => warn(err.message))\n  };\n}\nfunction useHooks(emit, hooks) {\n  onBeforeMount(() => {\n    for (const [key, value] of Object.entries(hooks.value)) {\n      const listener = data => {\n        emit(key, data);\n      };\n      value.fns.add(listener);\n      tryOnScopeDispose(() => {\n        value.off(listener);\n      });\n    }\n  });\n}\nfunction useState() {\n  return {\n    vueFlowRef: null,\n    viewportRef: null,\n    nodes: [],\n    edges: [],\n    connectionLookup: /* @__PURE__ */new Map(),\n    nodeTypes: {},\n    edgeTypes: {},\n    initialized: false,\n    dimensions: {\n      width: 0,\n      height: 0\n    },\n    viewport: {\n      x: 0,\n      y: 0,\n      zoom: 1\n    },\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: null,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: [[Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY], [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]],\n    nodeExtent: [[Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY], [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]],\n    selectionMode: SelectionMode.Full,\n    paneDragging: false,\n    preventScrolling: true,\n    zoomOnScroll: true,\n    zoomOnPinch: true,\n    zoomOnDoubleClick: true,\n    panOnScroll: false,\n    panOnScrollSpeed: 0.5,\n    panOnScrollMode: PanOnScrollMode.Free,\n    paneClickDistance: 0,\n    panOnDrag: true,\n    edgeUpdaterRadius: 10,\n    onlyRenderVisibleElements: false,\n    defaultViewport: {\n      x: 0,\n      y: 0,\n      zoom: 1\n    },\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    defaultMarkerColor: \"#b1b1b7\",\n    connectionLineStyle: {},\n    connectionLineType: null,\n    connectionLineOptions: {\n      type: ConnectionLineType.Bezier,\n      style: {}\n    },\n    connectionMode: ConnectionMode.Loose,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectionPosition: {\n      x: Number.NaN,\n      y: Number.NaN\n    },\n    connectionRadius: 20,\n    connectOnClick: true,\n    connectionStatus: null,\n    isValidConnection: null,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    edgesUpdatable: false,\n    edgesFocusable: true,\n    nodesFocusable: true,\n    nodesConnectable: true,\n    nodesDraggable: true,\n    nodeDragThreshold: 1,\n    elementsSelectable: true,\n    selectNodesOnDrag: true,\n    multiSelectionActive: false,\n    selectionKeyCode: \"Shift\",\n    multiSelectionKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    zoomActivationKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    deleteKeyCode: \"Backspace\",\n    panActivationKeyCode: \"Space\",\n    hooks: createHooks(),\n    applyDefault: true,\n    autoConnect: false,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    noDragClassName: \"nodrag\",\n    noWheelClassName: \"nowheel\",\n    noPanClassName: \"nopan\",\n    defaultEdgeOptions: void 0,\n    elevateEdgesOnSelect: false,\n    elevateNodesOnSelect: true,\n    autoPanOnNodeDrag: true,\n    autoPanOnConnect: true,\n    autoPanSpeed: 15,\n    disableKeyboardA11y: false,\n    ariaLiveMessage: \"\"\n  };\n}\nconst storeOptionsToSkip = [\"id\", \"vueFlowRef\", \"viewportRef\", \"initialized\", \"modelValue\", \"nodes\", \"edges\", \"maxZoom\", \"minZoom\", \"translateExtent\", \"hooks\", \"defaultEdgeOptions\"];\nfunction useActions(state, nodeLookup, edgeLookup) {\n  const viewportHelper = useViewportHelper(state);\n  const updateNodeInternals = ids => {\n    const updateIds = ids ?? [];\n    state.hooks.updateNodeInternals.trigger(updateIds);\n  };\n  const getIncomers$1 = nodeOrId => {\n    return getIncomers(nodeOrId, state.nodes, state.edges);\n  };\n  const getOutgoers$1 = nodeOrId => {\n    return getOutgoers(nodeOrId, state.nodes, state.edges);\n  };\n  const getConnectedEdges$1 = nodesOrId => {\n    return getConnectedEdges(nodesOrId, state.edges);\n  };\n  const findNode = id2 => {\n    if (!id2) {\n      return;\n    }\n    return nodeLookup.value.get(id2);\n  };\n  const findEdge = id2 => {\n    if (!id2) {\n      return;\n    }\n    return edgeLookup.value.get(id2);\n  };\n  const updateNodePositions = (dragItems, changed, dragging) => {\n    var _a, _b;\n    const changes = [];\n    for (const node of dragItems) {\n      const change = {\n        id: node.id,\n        type: \"position\",\n        dragging,\n        from: node.from\n      };\n      if (changed) {\n        change.position = node.position;\n        if (node.parentNode) {\n          const parentNode = findNode(node.parentNode);\n          change.position = {\n            x: change.position.x - (((_a = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _a.x) ?? 0),\n            y: change.position.y - (((_b = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _b.y) ?? 0)\n          };\n        }\n      }\n      changes.push(change);\n    }\n    if (changes == null ? void 0 : changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const updateNodeDimensions = updates => {\n    if (!state.vueFlowRef) {\n      return;\n    }\n    const viewportNode = state.vueFlowRef.querySelector(\".vue-flow__transformationpane\");\n    if (!viewportNode) {\n      return;\n    }\n    const style = window.getComputedStyle(viewportNode);\n    const {\n      m22: zoom2\n    } = new window.DOMMatrixReadOnly(style.transform);\n    const changes = [];\n    for (let i = 0; i < updates.length; ++i) {\n      const update = updates[i];\n      const node = findNode(update.id);\n      if (node) {\n        const dimensions = getDimensions(update.nodeElement);\n        const doUpdate = !!(dimensions.width && dimensions.height && (node.dimensions.width !== dimensions.width || node.dimensions.height !== dimensions.height || update.forceUpdate));\n        if (doUpdate) {\n          const nodeBounds = update.nodeElement.getBoundingClientRect();\n          node.dimensions = dimensions;\n          node.handleBounds.source = getHandleBounds(\".source\", update.nodeElement, nodeBounds, zoom2);\n          node.handleBounds.target = getHandleBounds(\".target\", update.nodeElement, nodeBounds, zoom2);\n          changes.push({\n            id: node.id,\n            type: \"dimensions\",\n            dimensions\n          });\n        }\n      }\n    }\n    if (!state.fitViewOnInitDone && state.fitViewOnInit) {\n      viewportHelper.value.fitView().then(() => {\n        state.fitViewOnInitDone = true;\n      });\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const elementSelectionHandler = (elements, selected) => {\n    const nodeIds = /* @__PURE__ */new Set();\n    const edgeIds = /* @__PURE__ */new Set();\n    for (const element of elements) {\n      if (isNode(element)) {\n        nodeIds.add(element.id);\n      } else if (isEdge(element)) {\n        edgeIds.add(element.id);\n      }\n    }\n    const changedNodes = getSelectionChanges(nodeLookup.value, nodeIds, true);\n    const changedEdges = getSelectionChanges(edgeLookup.value, edgeIds);\n    if (state.multiSelectionActive) {\n      for (const nodeId of nodeIds) {\n        changedNodes.push(createSelectionChange(nodeId, selected));\n      }\n      for (const edgeId of edgeIds) {\n        changedEdges.push(createSelectionChange(edgeId, selected));\n      }\n    }\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const addSelectedNodes = nodes => {\n    if (state.multiSelectionActive) {\n      const nodeChanges = nodes.map(node => createSelectionChange(node.id, true));\n      state.hooks.nodesChange.trigger(nodeChanges);\n      return;\n    }\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, new Set(nodes.map(n => n.id)), true));\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value));\n  };\n  const addSelectedEdges = edges => {\n    if (state.multiSelectionActive) {\n      const changedEdges = edges.map(edge => createSelectionChange(edge.id, true));\n      state.hooks.edgesChange.trigger(changedEdges);\n      return;\n    }\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value, new Set(edges.map(e => e.id))));\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, /* @__PURE__ */new Set(), true));\n  };\n  const addSelectedElements = elements => {\n    elementSelectionHandler(elements, true);\n  };\n  const removeSelectedNodes = nodes => {\n    const nodesToUnselect = nodes || state.nodes;\n    const nodeChanges = nodesToUnselect.map(n => {\n      n.selected = false;\n      return createSelectionChange(n.id, false);\n    });\n    state.hooks.nodesChange.trigger(nodeChanges);\n  };\n  const removeSelectedEdges = edges => {\n    const edgesToUnselect = edges || state.edges;\n    const edgeChanges = edgesToUnselect.map(e => {\n      e.selected = false;\n      return createSelectionChange(e.id, false);\n    });\n    state.hooks.edgesChange.trigger(edgeChanges);\n  };\n  const removeSelectedElements = elements => {\n    if (!elements || !elements.length) {\n      return elementSelectionHandler([], false);\n    }\n    const changes = elements.reduce((changes2, curr) => {\n      const selectionChange = createSelectionChange(curr.id, false);\n      if (isNode(curr)) {\n        changes2.nodes.push(selectionChange);\n      } else {\n        changes2.edges.push(selectionChange);\n      }\n      return changes2;\n    }, {\n      nodes: [],\n      edges: []\n    });\n    if (changes.nodes.length) {\n      state.hooks.nodesChange.trigger(changes.nodes);\n    }\n    if (changes.edges.length) {\n      state.hooks.edgesChange.trigger(changes.edges);\n    }\n  };\n  const setMinZoom = minZoom => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([minZoom, state.maxZoom]);\n    state.minZoom = minZoom;\n  };\n  const setMaxZoom = maxZoom => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([state.minZoom, maxZoom]);\n    state.maxZoom = maxZoom;\n  };\n  const setTranslateExtent = translateExtent => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.translateExtent(translateExtent);\n    state.translateExtent = translateExtent;\n  };\n  const setNodeExtent = nodeExtent => {\n    state.nodeExtent = nodeExtent;\n    updateNodeInternals();\n  };\n  const setPaneClickDistance = clickDistance => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.clickDistance(clickDistance);\n  };\n  const setInteractive = isInteractive => {\n    state.nodesDraggable = isInteractive;\n    state.nodesConnectable = isInteractive;\n    state.elementsSelectable = isInteractive;\n  };\n  const setNodes = nodes => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    if (!state.initialized && !nextNodes.length) {\n      return;\n    }\n    state.nodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n  };\n  const setEdges = edges => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    if (!state.initialized && !nextEdges.length) {\n      return;\n    }\n    const validEdges = createGraphEdges(nextEdges, state.isValidConnection, findNode, findEdge, state.hooks.error.trigger, state.defaultEdgeOptions, state.nodes, state.edges);\n    updateConnectionLookup(state.connectionLookup, validEdges);\n    state.edges = validEdges;\n  };\n  const setElements = elements => {\n    const nextElements = elements instanceof Function ? elements([...state.nodes, ...state.edges]) : elements;\n    if (!state.initialized && !nextElements.length) {\n      return;\n    }\n    setNodes(nextElements.filter(isNode));\n    setEdges(nextElements.filter(isEdge));\n  };\n  const addNodes = nodes => {\n    let nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    nextNodes = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const graphNodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n    const changes = [];\n    for (const node of graphNodes) {\n      changes.push(createAdditionChange(node));\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const addEdges = params => {\n    let nextEdges = params instanceof Function ? params(state.edges) : params;\n    nextEdges = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const validEdges = createGraphEdges(nextEdges, state.isValidConnection, findNode, findEdge, state.hooks.error.trigger, state.defaultEdgeOptions, state.nodes, state.edges);\n    const changes = [];\n    for (const edge of validEdges) {\n      changes.push(createAdditionChange(edge));\n    }\n    if (changes.length) {\n      state.hooks.edgesChange.trigger(changes);\n    }\n  };\n  const removeNodes = (nodes, removeConnectedEdges = true, removeChildren = false) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    const nodesToRemove = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const nodeChanges = [];\n    const edgeChanges = [];\n    function createEdgeRemovalChanges(nodes2) {\n      const connectedEdges = getConnectedEdges$1(nodes2);\n      for (const edge of connectedEdges) {\n        if (isDef(edge.deletable) ? edge.deletable : true) {\n          edgeChanges.push(createEdgeRemoveChange(edge.id, edge.source, edge.target, edge.sourceHandle, edge.targetHandle));\n        }\n      }\n    }\n    function createChildrenRemovalChanges(id2) {\n      const children2 = [];\n      for (const node of state.nodes) {\n        if (node.parentNode === id2) {\n          children2.push(node);\n        }\n      }\n      if (children2.length) {\n        for (const child of children2) {\n          nodeChanges.push(createNodeRemoveChange(child.id));\n        }\n        if (removeConnectedEdges) {\n          createEdgeRemovalChanges(children2);\n        }\n        for (const child of children2) {\n          createChildrenRemovalChanges(child.id);\n        }\n      }\n    }\n    for (const item of nodesToRemove) {\n      const currNode = typeof item === \"string\" ? findNode(item) : item;\n      if (!currNode) {\n        continue;\n      }\n      if (isDef(currNode.deletable) && !currNode.deletable) {\n        continue;\n      }\n      nodeChanges.push(createNodeRemoveChange(currNode.id));\n      if (removeConnectedEdges) {\n        createEdgeRemovalChanges([currNode]);\n      }\n      if (removeChildren) {\n        createChildrenRemovalChanges(currNode.id);\n      }\n    }\n    if (edgeChanges.length) {\n      state.hooks.edgesChange.trigger(edgeChanges);\n    }\n    if (nodeChanges.length) {\n      state.hooks.nodesChange.trigger(nodeChanges);\n    }\n  };\n  const removeEdges = edges => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    const edgesToRemove = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const changes = [];\n    for (const item of edgesToRemove) {\n      const currEdge = typeof item === \"string\" ? findEdge(item) : item;\n      if (!currEdge) {\n        continue;\n      }\n      if (isDef(currEdge.deletable) && !currEdge.deletable) {\n        continue;\n      }\n      changes.push(createEdgeRemoveChange(typeof item === \"string\" ? item : item.id, currEdge.source, currEdge.target, currEdge.sourceHandle, currEdge.targetHandle));\n    }\n    state.hooks.edgesChange.trigger(changes);\n  };\n  const updateEdge2 = (oldEdge, newConnection, shouldReplaceId = true) => {\n    return updateEdgeAction(oldEdge, newConnection, state.edges, findEdge, shouldReplaceId, state.hooks.error.trigger);\n  };\n  const updateEdgeData = (id2, dataUpdate, options = {\n    replace: false\n  }) => {\n    const edge = findEdge(id2);\n    if (!edge) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(edge) : dataUpdate;\n    edge.data = options.replace ? nextData : {\n      ...edge.data,\n      ...nextData\n    };\n  };\n  const applyNodeChanges2 = changes => {\n    return applyChanges(changes, state.nodes);\n  };\n  const applyEdgeChanges2 = changes => {\n    const changedEdges = applyChanges(changes, state.edges);\n    updateConnectionLookup(state.connectionLookup, changedEdges);\n    return changedEdges;\n  };\n  const updateNode = (id2, nodeUpdate, options = {\n    replace: false\n  }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextNode = typeof nodeUpdate === \"function\" ? nodeUpdate(node) : nodeUpdate;\n    if (options.replace) {\n      state.nodes.splice(state.nodes.indexOf(node), 1, nextNode);\n    } else {\n      Object.assign(node, nextNode);\n    }\n  };\n  const updateNodeData = (id2, dataUpdate, options = {\n    replace: false\n  }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(node) : dataUpdate;\n    node.data = options.replace ? nextData : {\n      ...node.data,\n      ...nextData\n    };\n  };\n  const startConnection = (startHandle, position, isClick = false) => {\n    if (isClick) {\n      state.connectionClickStartHandle = startHandle;\n    } else {\n      state.connectionStartHandle = startHandle;\n    }\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (position) {\n      state.connectionPosition = position;\n    }\n  };\n  const updateConnection = (position, result = null, status = null) => {\n    if (state.connectionStartHandle) {\n      state.connectionPosition = position;\n      state.connectionEndHandle = result;\n      state.connectionStatus = status;\n    }\n  };\n  const endConnection = (event, isClick) => {\n    state.connectionPosition = {\n      x: Number.NaN,\n      y: Number.NaN\n    };\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (isClick) {\n      state.connectionClickStartHandle = null;\n    } else {\n      state.connectionStartHandle = null;\n    }\n  };\n  const getNodeRect = nodeOrRect => {\n    const isRectObj = isRect(nodeOrRect);\n    const node = isRectObj ? null : isGraphNode(nodeOrRect) ? nodeOrRect : findNode(nodeOrRect.id);\n    if (!isRectObj && !node) {\n      return [null, null, isRectObj];\n    }\n    const nodeRect = isRectObj ? nodeOrRect : nodeToRect(node);\n    return [nodeRect, node, isRectObj];\n  };\n  const getIntersectingNodes = (nodeOrRect, partially = true, nodes = state.nodes) => {\n    const [nodeRect, node, isRect2] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return [];\n    }\n    const intersections = [];\n    for (const n of nodes || state.nodes) {\n      if (!isRect2 && (n.id === node.id || !n.computedPosition)) {\n        continue;\n      }\n      const currNodeRect = nodeToRect(n);\n      const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n      const partiallyVisible = partially && overlappingArea > 0;\n      if (partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height)) {\n        intersections.push(n);\n      }\n    }\n    return intersections;\n  };\n  const isNodeIntersecting = (nodeOrRect, area, partially = true) => {\n    const [nodeRect] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return false;\n    }\n    const overlappingArea = getOverlappingArea(nodeRect, area);\n    const partiallyVisible = partially && overlappingArea > 0;\n    return partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height);\n  };\n  const panBy = delta => {\n    const {\n      viewport,\n      dimensions,\n      d3Zoom,\n      d3Selection,\n      translateExtent\n    } = state;\n    if (!d3Zoom || !d3Selection || !delta.x && !delta.y) {\n      return false;\n    }\n    const nextTransform = identity.translate(viewport.x + delta.x, viewport.y + delta.y).scale(viewport.zoom);\n    const extent = [[0, 0], [dimensions.width, dimensions.height]];\n    const constrainedTransform = d3Zoom.constrain()(nextTransform, extent, translateExtent);\n    const transformChanged = state.viewport.x !== constrainedTransform.x || state.viewport.y !== constrainedTransform.y || state.viewport.zoom !== constrainedTransform.k;\n    d3Zoom.transform(d3Selection, constrainedTransform);\n    return transformChanged;\n  };\n  const setState = options => {\n    const opts = options instanceof Function ? options(state) : options;\n    const exclude = [\"d3Zoom\", \"d3Selection\", \"d3ZoomHandler\", \"viewportRef\", \"vueFlowRef\", \"dimensions\", \"hooks\"];\n    if (isDef(opts.defaultEdgeOptions)) {\n      state.defaultEdgeOptions = opts.defaultEdgeOptions;\n    }\n    const elements = opts.modelValue || opts.nodes || opts.edges ? [] : void 0;\n    if (elements) {\n      if (opts.modelValue) {\n        elements.push(...opts.modelValue);\n      }\n      if (opts.nodes) {\n        elements.push(...opts.nodes);\n      }\n      if (opts.edges) {\n        elements.push(...opts.edges);\n      }\n      setElements(elements);\n    }\n    const setSkippedOptions = () => {\n      if (isDef(opts.maxZoom)) {\n        setMaxZoom(opts.maxZoom);\n      }\n      if (isDef(opts.minZoom)) {\n        setMinZoom(opts.minZoom);\n      }\n      if (isDef(opts.translateExtent)) {\n        setTranslateExtent(opts.translateExtent);\n      }\n    };\n    for (const o of Object.keys(opts)) {\n      const key = o;\n      const option = opts[key];\n      if (![...storeOptionsToSkip, ...exclude].includes(key) && isDef(option)) {\n        state[key] = option;\n      }\n    }\n    until(() => state.d3Zoom).not.toBeNull().then(setSkippedOptions);\n    if (!state.initialized) {\n      state.initialized = true;\n    }\n  };\n  const toObject = () => {\n    const nodes = [];\n    const edges = [];\n    for (const node of state.nodes) {\n      const {\n        computedPosition: _,\n        handleBounds: __,\n        selected: ___,\n        dimensions: ____,\n        isParent: _____,\n        resizing: ______,\n        dragging: _______,\n        events: _________,\n        ...rest\n      } = node;\n      nodes.push(rest);\n    }\n    for (const edge of state.edges) {\n      const {\n        selected: _,\n        sourceNode: __,\n        targetNode: ___,\n        events: ____,\n        ...rest\n      } = edge;\n      edges.push(rest);\n    }\n    return JSON.parse(JSON.stringify({\n      nodes,\n      edges,\n      position: [state.viewport.x, state.viewport.y],\n      zoom: state.viewport.zoom,\n      viewport: state.viewport\n    }));\n  };\n  const fromObject = obj => {\n    return new Promise(resolve => {\n      const {\n        nodes,\n        edges,\n        position,\n        zoom: zoom2,\n        viewport\n      } = obj;\n      if (nodes) {\n        setNodes(nodes);\n      }\n      if (edges) {\n        setEdges(edges);\n      }\n      if ((viewport == null ? void 0 : viewport.x) && (viewport == null ? void 0 : viewport.y) || position) {\n        const x = (viewport == null ? void 0 : viewport.x) || position[0];\n        const y = (viewport == null ? void 0 : viewport.y) || position[1];\n        const nextZoom = (viewport == null ? void 0 : viewport.zoom) || zoom2 || state.viewport.zoom;\n        return until(() => viewportHelper.value.viewportInitialized).toBe(true).then(() => {\n          viewportHelper.value.setViewport({\n            x,\n            y,\n            zoom: nextZoom\n          }).then(() => {\n            resolve(true);\n          });\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  };\n  const $reset = () => {\n    const resetState = useState();\n    state.edges = [];\n    state.nodes = [];\n    if (state.d3Zoom && state.d3Selection) {\n      const updatedTransform = identity.translate(resetState.defaultViewport.x ?? 0, resetState.defaultViewport.y ?? 0).scale(clamp(resetState.defaultViewport.zoom ?? 1, resetState.minZoom, resetState.maxZoom));\n      const bbox = state.viewportRef.getBoundingClientRect();\n      const extent = [[0, 0], [bbox.width, bbox.height]];\n      const constrainedTransform = state.d3Zoom.constrain()(updatedTransform, extent, resetState.translateExtent);\n      state.d3Zoom.transform(state.d3Selection, constrainedTransform);\n    }\n    setState(resetState);\n  };\n  return {\n    updateNodePositions,\n    updateNodeDimensions,\n    setElements,\n    setNodes,\n    setEdges,\n    addNodes,\n    addEdges,\n    removeNodes,\n    removeEdges,\n    findNode,\n    findEdge,\n    updateEdge: updateEdge2,\n    updateEdgeData,\n    updateNode,\n    updateNodeData,\n    applyEdgeChanges: applyEdgeChanges2,\n    applyNodeChanges: applyNodeChanges2,\n    addSelectedElements,\n    addSelectedNodes,\n    addSelectedEdges,\n    setMinZoom,\n    setMaxZoom,\n    setTranslateExtent,\n    setNodeExtent,\n    setPaneClickDistance,\n    removeSelectedElements,\n    removeSelectedNodes,\n    removeSelectedEdges,\n    startConnection,\n    updateConnection,\n    endConnection,\n    setInteractive,\n    setState,\n    getIntersectingNodes,\n    getIncomers: getIncomers$1,\n    getOutgoers: getOutgoers$1,\n    getConnectedEdges: getConnectedEdges$1,\n    isNodeIntersecting,\n    panBy,\n    fitView: params => viewportHelper.value.fitView(params),\n    zoomIn: transitionOpts => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: transitionOpts => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: params => viewportHelper.value.project(params),\n    screenToFlowCoordinate: params => viewportHelper.value.screenToFlowCoordinate(params),\n    flowToScreenCoordinate: params => viewportHelper.value.flowToScreenCoordinate(params),\n    toObject,\n    fromObject,\n    updateNodeInternals,\n    viewportHelper,\n    $reset,\n    $destroy: () => {}\n  };\n}\nconst _hoisted_1$9 = [\"data-id\", \"data-handleid\", \"data-nodeid\", \"data-handlepos\"];\nconst __default__$f = {\n  name: \"Handle\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$f = /* @__PURE__ */defineComponent({\n  ...__default__$f,\n  props: {\n    id: {\n      default: null\n    },\n    type: {},\n    position: {\n      default: () => Position.Top\n    },\n    isValidConnection: {\n      type: Function\n    },\n    connectable: {\n      type: [Boolean, Number, String, Function],\n      default: void 0\n    },\n    connectableStart: {\n      type: Boolean,\n      default: true\n    },\n    connectableEnd: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    const props = createPropsRestProxy(__props, [\"position\", \"connectable\", \"connectableStart\", \"connectableEnd\", \"id\"]);\n    const type = toRef(() => props.type ?? \"source\");\n    const isValidConnection = toRef(() => props.isValidConnection ?? null);\n    const {\n      connectionStartHandle,\n      connectionClickStartHandle,\n      connectionEndHandle,\n      vueFlowRef,\n      nodesConnectable,\n      noDragClassName,\n      noPanClassName\n    } = useVueFlow();\n    const {\n      id: nodeId,\n      node,\n      nodeEl,\n      connectedEdges\n    } = useNode();\n    const handle = ref();\n    const isConnectableStart = toRef(() => typeof __props.connectableStart !== \"undefined\" ? __props.connectableStart : true);\n    const isConnectableEnd = toRef(() => typeof __props.connectableEnd !== \"undefined\" ? __props.connectableEnd : true);\n    const isConnecting = toRef(() => {\n      var _a, _b, _c, _d, _e, _f;\n      return ((_a = connectionStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionStartHandle.value) == null ? void 0 : _b.handleId) === __props.id && ((_c = connectionStartHandle.value) == null ? void 0 : _c.type) === type.value || ((_d = connectionEndHandle.value) == null ? void 0 : _d.nodeId) === nodeId && ((_e = connectionEndHandle.value) == null ? void 0 : _e.handleId) === __props.id && ((_f = connectionEndHandle.value) == null ? void 0 : _f.type) === type.value;\n    });\n    const isClickConnecting = toRef(() => {\n      var _a, _b, _c;\n      return ((_a = connectionClickStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionClickStartHandle.value) == null ? void 0 : _b.handleId) === __props.id && ((_c = connectionClickStartHandle.value) == null ? void 0 : _c.type) === type.value;\n    });\n    const {\n      handlePointerDown,\n      handleClick\n    } = useHandle({\n      nodeId,\n      handleId: __props.id,\n      isValidConnection,\n      type\n    });\n    const isConnectable = computed(() => {\n      if (typeof __props.connectable === \"string\" && __props.connectable === \"single\") {\n        return !connectedEdges.value.some(edge => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        });\n      }\n      if (typeof __props.connectable === \"number\") {\n        return connectedEdges.value.filter(edge => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        }).length < __props.connectable;\n      }\n      if (typeof __props.connectable === \"function\") {\n        return __props.connectable(node, connectedEdges.value);\n      }\n      return isDef(__props.connectable) ? __props.connectable : nodesConnectable.value;\n    });\n    onMounted(() => {\n      var _a;\n      if (!node.dimensions.width || !node.dimensions.height) {\n        return;\n      }\n      const existingBounds = (_a = node.handleBounds[type.value]) == null ? void 0 : _a.find(b => b.id === __props.id);\n      if (!vueFlowRef.value || existingBounds) {\n        return;\n      }\n      const viewportNode = vueFlowRef.value.querySelector(\".vue-flow__transformationpane\");\n      if (!nodeEl.value || !handle.value || !viewportNode || !__props.id) {\n        return;\n      }\n      const nodeBounds = nodeEl.value.getBoundingClientRect();\n      const handleBounds = handle.value.getBoundingClientRect();\n      const style = window.getComputedStyle(viewportNode);\n      const {\n        m22: zoom2\n      } = new window.DOMMatrixReadOnly(style.transform);\n      const nextBounds = {\n        id: __props.id,\n        position: __props.position,\n        x: (handleBounds.left - nodeBounds.left) / zoom2,\n        y: (handleBounds.top - nodeBounds.top) / zoom2,\n        ...getDimensions(handle.value)\n      };\n      node.handleBounds[type.value] = [...(node.handleBounds[type.value] ?? []), nextBounds];\n    });\n    onUnmounted(() => {\n      const handleBounds = node.handleBounds[type.value];\n      if (handleBounds) {\n        node.handleBounds[type.value] = handleBounds.filter(b => b.id !== __props.id);\n      }\n    });\n    function onPointerDown(event) {\n      const isMouseTriggered = isMouseEvent(event);\n      if (isConnectable.value && isConnectableStart.value && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {\n        handlePointerDown(event);\n      }\n    }\n    function onClick(event) {\n      if (!nodeId || !connectionClickStartHandle.value && !isConnectableStart.value) {\n        return;\n      }\n      if (isConnectable.value) {\n        handleClick(event);\n      }\n    }\n    __expose({\n      handleClick,\n      handlePointerDown,\n      onClick,\n      onPointerDown\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"handle\",\n        ref: handle,\n        \"data-id\": `${unref(nodeId)}-${__props.id}-${type.value}`,\n        \"data-handleid\": __props.id,\n        \"data-nodeid\": unref(nodeId),\n        \"data-handlepos\": _ctx.position,\n        class: normalizeClass([\"vue-flow__handle\", [`vue-flow__handle-${_ctx.position}`, `vue-flow__handle-${__props.id}`, unref(noDragClassName), unref(noPanClassName), type.value, {\n          connectable: isConnectable.value,\n          connecting: isClickConnecting.value,\n          connectablestart: isConnectableStart.value,\n          connectableend: isConnectableEnd.value,\n          connectionindicator: isConnectable.value && (isConnectableStart.value && !isConnecting.value || isConnectableEnd.value && isConnecting.value)\n        }]]),\n        onMousedown: onPointerDown,\n        onTouchstartPassive: onPointerDown,\n        onClick\n      }, [renderSlot(_ctx.$slots, \"default\", {\n        id: _ctx.id\n      })], 42, _hoisted_1$9);\n    };\n  }\n});\nconst DefaultNode = function ({\n  sourcePosition = Position.Bottom,\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [h(_sfc_main$f, {\n    type: \"target\",\n    position: targetPosition,\n    connectable,\n    isValidConnection: isValidTargetPos\n  }), typeof label !== \"string\" && label ? h(label) : h(\"div\", {\n    innerHTML: label\n  }), h(_sfc_main$f, {\n    type: \"source\",\n    position: sourcePosition,\n    connectable,\n    isValidConnection: isValidSourcePos\n  })];\n};\nDefaultNode.props = [\"sourcePosition\", \"targetPosition\", \"label\", \"isValidTargetPos\", \"isValidSourcePos\", \"connectable\", \"data\"];\nDefaultNode.inheritAttrs = false;\nDefaultNode.compatConfig = {\n  MODE: 3\n};\nconst DefaultNode$1 = DefaultNode;\nconst OutputNode = function ({\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  data\n}) {\n  const label = data.label || _label;\n  return [h(_sfc_main$f, {\n    type: \"target\",\n    position: targetPosition,\n    connectable,\n    isValidConnection: isValidTargetPos\n  }), typeof label !== \"string\" && label ? h(label) : h(\"div\", {\n    innerHTML: label\n  })];\n};\nOutputNode.props = [\"targetPosition\", \"label\", \"isValidTargetPos\", \"connectable\", \"data\"];\nOutputNode.inheritAttrs = false;\nOutputNode.compatConfig = {\n  MODE: 3\n};\nconst OutputNode$1 = OutputNode;\nconst InputNode = function ({\n  sourcePosition = Position.Bottom,\n  label: _label,\n  connectable = true,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [typeof label !== \"string\" && label ? h(label) : h(\"div\", {\n    innerHTML: label\n  }), h(_sfc_main$f, {\n    type: \"source\",\n    position: sourcePosition,\n    connectable,\n    isValidConnection: isValidSourcePos\n  })];\n};\nInputNode.props = [\"sourcePosition\", \"label\", \"isValidSourcePos\", \"connectable\", \"data\"];\nInputNode.inheritAttrs = false;\nInputNode.compatConfig = {\n  MODE: 3\n};\nconst InputNode$1 = InputNode;\nconst _hoisted_1$8 = [\"transform\"];\nconst _hoisted_2$2 = [\"width\", \"height\", \"x\", \"y\", \"rx\", \"ry\"];\nconst _hoisted_3$1 = [\"y\"];\nconst __default__$e = {\n  name: \"EdgeText\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$e = /* @__PURE__ */defineComponent({\n  ...__default__$e,\n  props: {\n    x: {},\n    y: {},\n    label: {},\n    labelStyle: {\n      default: () => ({})\n    },\n    labelShowBg: {\n      type: Boolean,\n      default: true\n    },\n    labelBgStyle: {\n      default: () => ({})\n    },\n    labelBgPadding: {\n      default: () => [2, 4]\n    },\n    labelBgBorderRadius: {\n      default: 2\n    }\n  },\n  setup(__props) {\n    const box = ref({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    });\n    const el = ref(null);\n    const transform = computed(() => `translate(${__props.x - box.value.width / 2} ${__props.y - box.value.height / 2})`);\n    onMounted(getBox);\n    watch([() => __props.x, () => __props.y, el, () => __props.label], getBox);\n    function getBox() {\n      if (!el.value) {\n        return;\n      }\n      const nextBox = el.value.getBBox();\n      if (nextBox.width !== box.value.width || nextBox.height !== box.value.height) {\n        box.value = nextBox;\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"g\", {\n        transform: transform.value,\n        class: \"vue-flow__edge-textwrapper\"\n      }, [_ctx.labelShowBg ? (openBlock(), createElementBlock(\"rect\", {\n        key: 0,\n        class: \"vue-flow__edge-textbg\",\n        width: `${box.value.width + 2 * _ctx.labelBgPadding[0]}px`,\n        height: `${box.value.height + 2 * _ctx.labelBgPadding[1]}px`,\n        x: -_ctx.labelBgPadding[0],\n        y: -_ctx.labelBgPadding[1],\n        style: normalizeStyle(_ctx.labelBgStyle),\n        rx: _ctx.labelBgBorderRadius,\n        ry: _ctx.labelBgBorderRadius\n      }, null, 12, _hoisted_2$2)) : createCommentVNode(\"\", true), createElementVNode(\"text\", mergeProps(_ctx.$attrs, {\n        ref_key: \"el\",\n        ref: el,\n        class: \"vue-flow__edge-text\",\n        y: box.value.height / 2,\n        dy: \"0.3em\",\n        style: _ctx.labelStyle\n      }), [renderSlot(_ctx.$slots, \"default\", {}, () => [typeof _ctx.label !== \"string\" ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.label), {\n        key: 0\n      })) : (openBlock(), createElementBlock(Fragment, {\n        key: 1\n      }, [createTextVNode(toDisplayString(_ctx.label), 1)], 64))])], 16, _hoisted_3$1)], 8, _hoisted_1$8);\n    };\n  }\n});\nconst _hoisted_1$7 = [\"id\", \"d\", \"marker-end\", \"marker-start\"];\nconst _hoisted_2$1 = [\"d\", \"stroke-width\"];\nconst __default__$d = {\n  name: \"BaseEdge\",\n  inheritAttrs: false,\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$d = /* @__PURE__ */defineComponent({\n  ...__default__$d,\n  props: {\n    id: {},\n    labelX: {},\n    labelY: {},\n    path: {},\n    label: {},\n    markerStart: {},\n    markerEnd: {},\n    interactionWidth: {\n      default: 20\n    },\n    style: {},\n    labelStyle: {},\n    labelShowBg: {\n      type: Boolean,\n      default: true\n    },\n    labelBgStyle: {},\n    labelBgPadding: {},\n    labelBgBorderRadius: {}\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    const props = createPropsRestProxy(__props, [\"interactionWidth\", \"labelShowBg\"]);\n    const pathEl = ref(null);\n    const interactionEl = ref(null);\n    const labelEl = ref(null);\n    const attrs = useAttrs();\n    __expose({\n      pathEl,\n      interactionEl,\n      labelEl\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [createElementVNode(\"path\", {\n        id: _ctx.id,\n        ref_key: \"pathEl\",\n        ref: pathEl,\n        d: _ctx.path,\n        style: normalizeStyle(props.style),\n        class: normalizeClass([\"vue-flow__edge-path\", unref(attrs).class]),\n        \"marker-end\": _ctx.markerEnd,\n        \"marker-start\": _ctx.markerStart\n      }, null, 14, _hoisted_1$7), _ctx.interactionWidth ? (openBlock(), createElementBlock(\"path\", {\n        key: 0,\n        ref_key: \"interactionEl\",\n        ref: interactionEl,\n        fill: \"none\",\n        d: _ctx.path,\n        \"stroke-width\": _ctx.interactionWidth,\n        \"stroke-opacity\": 0,\n        class: \"vue-flow__edge-interaction\"\n      }, null, 8, _hoisted_2$1)) : createCommentVNode(\"\", true), _ctx.label && _ctx.labelX && _ctx.labelY ? (openBlock(), createBlock(_sfc_main$e, {\n        key: 1,\n        ref_key: \"labelEl\",\n        ref: labelEl,\n        x: _ctx.labelX,\n        y: _ctx.labelY,\n        label: _ctx.label,\n        \"label-show-bg\": _ctx.labelShowBg,\n        \"label-bg-style\": _ctx.labelBgStyle,\n        \"label-bg-padding\": _ctx.labelBgPadding,\n        \"label-bg-border-radius\": _ctx.labelBgBorderRadius,\n        \"label-style\": _ctx.labelStyle\n      }, null, 8, [\"x\", \"y\", \"label\", \"label-show-bg\", \"label-bg-style\", \"label-bg-padding\", \"label-bg-border-radius\", \"label-style\"])) : createCommentVNode(\"\", true)], 64);\n    };\n  }\n});\nfunction getSimpleEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY\n}) {\n  const xOffset = Math.abs(targetX - sourceX) / 2;\n  const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  const yOffset = Math.abs(targetY - sourceY) / 2;\n  const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourceControlX,\n  sourceControlY,\n  targetControlX,\n  targetControlY\n}) {\n  const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  const offsetX = Math.abs(centerX - sourceX);\n  const offsetY = Math.abs(centerY - sourceY);\n  return [centerX, centerY, offsetX, offsetY];\n}\nfunction calculateControlOffset(distance2, curvature) {\n  if (distance2 >= 0) {\n    return 0.5 * distance2;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance2);\n  }\n}\nfunction getControlWithCurvature({\n  pos,\n  x1,\n  y1,\n  x2,\n  y2,\n  c\n}) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n      ctX = x1 - calculateControlOffset(x1 - x2, c);\n      ctY = y1;\n      break;\n    case Position.Right:\n      ctX = x1 + calculateControlOffset(x2 - x1, c);\n      ctY = y1;\n      break;\n    case Position.Top:\n      ctX = x1;\n      ctY = y1 - calculateControlOffset(y1 - y2, c);\n      break;\n    case Position.Bottom:\n      ctX = x1;\n      ctY = y1 + calculateControlOffset(y2 - y1, c);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getBezierPath(bezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    curvature = 0.25\n  } = bezierPathParams;\n  const [sourceControlX, sourceControlY] = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  });\n  const [targetControlX, targetControlY] = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  });\n  const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [`M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\nfunction getControl({\n  pos,\n  x1,\n  y1,\n  x2,\n  y2\n}) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      ctX = 0.5 * (x1 + x2);\n      ctY = y1;\n      break;\n    case Position.Top:\n    case Position.Bottom:\n      ctX = x1;\n      ctY = 0.5 * (y1 + y2);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getSimpleBezierPath(simpleBezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top\n  } = simpleBezierPathParams;\n  const [sourceControlX, sourceControlY] = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  });\n  const [targetControlX, targetControlY] = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  });\n  const [centerX, centerY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [`M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`, centerX, centerY, offsetX, offsetY];\n}\nconst handleDirections = {\n  [Position.Left]: {\n    x: -1,\n    y: 0\n  },\n  [Position.Right]: {\n    x: 1,\n    y: 0\n  },\n  [Position.Top]: {\n    x: 0,\n    y: -1\n  },\n  [Position.Bottom]: {\n    x: 0,\n    y: 1\n  }\n};\nfunction getDirection({\n  source,\n  sourcePosition = Position.Bottom,\n  target\n}) {\n  if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n    return source.x < target.x ? {\n      x: 1,\n      y: 0\n    } : {\n      x: -1,\n      y: 0\n    };\n  }\n  return source.y < target.y ? {\n    x: 0,\n    y: 1\n  } : {\n    x: 0,\n    y: -1\n  };\n}\nfunction distance(a, b) {\n  return Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n}\nfunction getPoints({\n  source,\n  sourcePosition = Position.Bottom,\n  target,\n  targetPosition = Position.Top,\n  center,\n  offset\n}) {\n  const sourceDir = handleDirections[sourcePosition];\n  const targetDir = handleDirections[targetPosition];\n  const sourceGapped = {\n    x: source.x + sourceDir.x * offset,\n    y: source.y + sourceDir.y * offset\n  };\n  const targetGapped = {\n    x: target.x + targetDir.x * offset,\n    y: target.y + targetDir.y * offset\n  };\n  const dir = getDirection({\n    source: sourceGapped,\n    sourcePosition,\n    target: targetGapped\n  });\n  const dirAccessor = dir.x !== 0 ? \"x\" : \"y\";\n  const currDir = dir[dirAccessor];\n  let points;\n  let centerX, centerY;\n  const sourceGapOffset = {\n    x: 0,\n    y: 0\n  };\n  const targetGapOffset = {\n    x: 0,\n    y: 0\n  };\n  const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getSimpleEdgeCenter({\n    sourceX: source.x,\n    sourceY: source.y,\n    targetX: target.x,\n    targetY: target.y\n  });\n  if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n    centerX = center.x ?? defaultCenterX;\n    centerY = center.y ?? defaultCenterY;\n    const verticalSplit = [{\n      x: centerX,\n      y: sourceGapped.y\n    }, {\n      x: centerX,\n      y: targetGapped.y\n    }];\n    const horizontalSplit = [{\n      x: sourceGapped.x,\n      y: centerY\n    }, {\n      x: targetGapped.x,\n      y: centerY\n    }];\n    if (sourceDir[dirAccessor] === currDir) {\n      points = dirAccessor === \"x\" ? verticalSplit : horizontalSplit;\n    } else {\n      points = dirAccessor === \"x\" ? horizontalSplit : verticalSplit;\n    }\n  } else {\n    const sourceTarget = [{\n      x: sourceGapped.x,\n      y: targetGapped.y\n    }];\n    const targetSource = [{\n      x: targetGapped.x,\n      y: sourceGapped.y\n    }];\n    if (dirAccessor === \"x\") {\n      points = sourceDir.x === currDir ? targetSource : sourceTarget;\n    } else {\n      points = sourceDir.y === currDir ? sourceTarget : targetSource;\n    }\n    if (sourcePosition === targetPosition) {\n      const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n      if (diff <= offset) {\n        const gapOffset = Math.min(offset - 1, offset - diff);\n        if (sourceDir[dirAccessor] === currDir) {\n          sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n        } else {\n          targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n        }\n      }\n    }\n    if (sourcePosition !== targetPosition) {\n      const dirAccessorOpposite = dirAccessor === \"x\" ? \"y\" : \"x\";\n      const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n      const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n      const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n      const flipSourceTarget = sourceDir[dirAccessor] === 1 && (!isSameDir && sourceGtTargetOppo || isSameDir && sourceLtTargetOppo) || sourceDir[dirAccessor] !== 1 && (!isSameDir && sourceLtTargetOppo || isSameDir && sourceGtTargetOppo);\n      if (flipSourceTarget) {\n        points = dirAccessor === \"x\" ? sourceTarget : targetSource;\n      }\n    }\n    const sourceGapPoint = {\n      x: sourceGapped.x + sourceGapOffset.x,\n      y: sourceGapped.y + sourceGapOffset.y\n    };\n    const targetGapPoint = {\n      x: targetGapped.x + targetGapOffset.x,\n      y: targetGapped.y + targetGapOffset.y\n    };\n    const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n    const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n    if (maxXDistance >= maxYDistance) {\n      centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n      centerY = points[0].y;\n    } else {\n      centerX = points[0].x;\n      centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n    }\n  }\n  const pathPoints = [source, {\n    x: sourceGapped.x + sourceGapOffset.x,\n    y: sourceGapped.y + sourceGapOffset.y\n  }, ...points, {\n    x: targetGapped.x + targetGapOffset.x,\n    y: targetGapped.y + targetGapOffset.y\n  }, target];\n  return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n  const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n  const {\n    x,\n    y\n  } = b;\n  if (a.x === x && x === c.x || a.y === y && y === c.y) {\n    return `L${x} ${y}`;\n  }\n  if (a.y === y) {\n    const xDir2 = a.x < c.x ? -1 : 1;\n    const yDir2 = a.y < c.y ? 1 : -1;\n    return `L ${x + bendSize * xDir2},${y}Q ${x},${y} ${x},${y + bendSize * yDir2}`;\n  }\n  const xDir = a.x < c.x ? 1 : -1;\n  const yDir = a.y < c.y ? -1 : 1;\n  return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath(smoothStepPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    borderRadius = 5,\n    centerX,\n    centerY,\n    offset = 20\n  } = smoothStepPathParams;\n  const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n    source: {\n      x: sourceX,\n      y: sourceY\n    },\n    sourcePosition,\n    target: {\n      x: targetX,\n      y: targetY\n    },\n    targetPosition,\n    center: {\n      x: centerX,\n      y: centerY\n    },\n    offset\n  });\n  const path = points.reduce((res, p, i) => {\n    let segment;\n    if (i > 0 && i < points.length - 1) {\n      segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n    } else {\n      segment = `${i === 0 ? \"M\" : \"L\"}${p.x} ${p.y}`;\n    }\n    res += segment;\n    return res;\n  }, \"\");\n  return [path, labelX, labelY, offsetX, offsetY];\n}\nfunction getStraightPath(straightEdgeParams) {\n  const {\n    sourceX,\n    sourceY,\n    targetX,\n    targetY\n  } = straightEdgeParams;\n  const [centerX, centerY, offsetX, offsetY] = getSimpleEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY\n  });\n  return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, centerX, centerY, offsetX, offsetY];\n}\nconst StraightEdge = defineComponent({\n  name: \"StraightEdge\",\n  props: [\"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"sourceY\", \"sourceX\", \"targetX\", \"targetY\", \"markerEnd\", \"markerStart\", \"interactionWidth\"],\n  compatConfig: {\n    MODE: 3\n  },\n  setup(props, {\n    attrs\n  }) {\n    return () => {\n      const [path, labelX, labelY] = getStraightPath(props);\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst StraightEdge$1 = StraightEdge;\nconst SmoothStepEdge = defineComponent({\n  name: \"SmoothStepEdge\",\n  props: [\"sourcePosition\", \"targetPosition\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"sourceY\", \"sourceX\", \"targetX\", \"targetY\", \"borderRadius\", \"markerEnd\", \"markerStart\", \"interactionWidth\", \"offset\"],\n  compatConfig: {\n    MODE: 3\n  },\n  setup(props, {\n    attrs\n  }) {\n    return () => {\n      const [path, labelX, labelY] = getSmoothStepPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SmoothStepEdge$1 = SmoothStepEdge;\nconst StepEdge = defineComponent({\n  name: \"StepEdge\",\n  props: [\"sourcePosition\", \"targetPosition\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"sourceY\", \"sourceX\", \"targetX\", \"targetY\", \"markerEnd\", \"markerStart\", \"interactionWidth\"],\n  setup(props, {\n    attrs\n  }) {\n    return () => h(SmoothStepEdge$1, {\n      ...props,\n      ...attrs,\n      borderRadius: 0\n    });\n  }\n});\nconst StepEdge$1 = StepEdge;\nconst BezierEdge = defineComponent({\n  name: \"BezierEdge\",\n  props: [\"sourcePosition\", \"targetPosition\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"sourceY\", \"sourceX\", \"targetX\", \"targetY\", \"curvature\", \"markerEnd\", \"markerStart\", \"interactionWidth\"],\n  compatConfig: {\n    MODE: 3\n  },\n  setup(props, {\n    attrs\n  }) {\n    return () => {\n      const [path, labelX, labelY] = getBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst BezierEdge$1 = BezierEdge;\nconst SimpleBezierEdge = defineComponent({\n  name: \"SimpleBezierEdge\",\n  props: [\"sourcePosition\", \"targetPosition\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"sourceY\", \"sourceX\", \"targetX\", \"targetY\", \"markerEnd\", \"markerStart\", \"interactionWidth\"],\n  compatConfig: {\n    MODE: 3\n  },\n  setup(props, {\n    attrs\n  }) {\n    return () => {\n      const [path, labelX, labelY] = getSimpleBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SimpleBezierEdge$1 = SimpleBezierEdge;\nconst defaultNodeTypes = {\n  input: InputNode$1,\n  default: DefaultNode$1,\n  output: OutputNode$1\n};\nconst defaultEdgeTypes = {\n  default: BezierEdge$1,\n  straight: StraightEdge$1,\n  step: StepEdge$1,\n  smoothstep: SmoothStepEdge$1,\n  simplebezier: SimpleBezierEdge$1\n};\nfunction useGetters(state, nodeLookup, edgeLookup) {\n  const getNode = computed(() => id2 => nodeLookup.value.get(id2));\n  const getEdge = computed(() => id2 => edgeLookup.value.get(id2));\n  const getEdgeTypes = computed(() => {\n    const edgeTypes = {\n      ...defaultEdgeTypes,\n      ...state.edgeTypes\n    };\n    const keys = Object.keys(edgeTypes);\n    for (const e of state.edges) {\n      e.type && !keys.includes(e.type) && (edgeTypes[e.type] = e.type);\n    }\n    return edgeTypes;\n  });\n  const getNodeTypes = computed(() => {\n    const nodeTypes = {\n      ...defaultNodeTypes,\n      ...state.nodeTypes\n    };\n    const keys = Object.keys(nodeTypes);\n    for (const n of state.nodes) {\n      n.type && !keys.includes(n.type) && (nodeTypes[n.type] = n.type);\n    }\n    return nodeTypes;\n  });\n  const getNodes = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      return getNodesInside(state.nodes, {\n        x: 0,\n        y: 0,\n        width: state.dimensions.width,\n        height: state.dimensions.height\n      }, state.viewport, true);\n    }\n    return state.nodes;\n  });\n  const getEdges = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      const visibleEdges = [];\n      for (const edge of state.edges) {\n        const source = nodeLookup.value.get(edge.source);\n        const target = nodeLookup.value.get(edge.target);\n        if (isEdgeVisible({\n          sourcePos: source.computedPosition || {\n            x: 0,\n            y: 0\n          },\n          targetPos: target.computedPosition || {\n            x: 0,\n            y: 0\n          },\n          sourceWidth: source.dimensions.width,\n          sourceHeight: source.dimensions.height,\n          targetWidth: target.dimensions.width,\n          targetHeight: target.dimensions.height,\n          width: state.dimensions.width,\n          height: state.dimensions.height,\n          viewport: state.viewport\n        })) {\n          visibleEdges.push(edge);\n        }\n      }\n      return visibleEdges;\n    }\n    return state.edges;\n  });\n  const getElements = computed(() => [...getNodes.value, ...getEdges.value]);\n  const getSelectedNodes = computed(() => {\n    const selectedNodes = [];\n    for (const node of state.nodes) {\n      if (node.selected) {\n        selectedNodes.push(node);\n      }\n    }\n    return selectedNodes;\n  });\n  const getSelectedEdges = computed(() => {\n    const selectedEdges = [];\n    for (const edge of state.edges) {\n      if (edge.selected) {\n        selectedEdges.push(edge);\n      }\n    }\n    return selectedEdges;\n  });\n  const getSelectedElements = computed(() => [...getSelectedNodes.value, ...getSelectedEdges.value]);\n  const getNodesInitialized = computed(() => {\n    const initializedNodes = [];\n    for (const node of state.nodes) {\n      if (!!node.dimensions.width && !!node.dimensions.height && node.handleBounds !== void 0) {\n        initializedNodes.push(node);\n      }\n    }\n    return initializedNodes;\n  });\n  const areNodesInitialized = computed(() => getNodes.value.length > 0 && getNodesInitialized.value.length === getNodes.value.length);\n  return {\n    getNode,\n    getEdge,\n    getElements,\n    getEdgeTypes,\n    getNodeTypes,\n    getEdges,\n    getNodes,\n    getSelectedElements,\n    getSelectedNodes,\n    getSelectedEdges,\n    getNodesInitialized,\n    areNodesInitialized\n  };\n}\nclass Storage {\n  constructor() {\n    this.currentId = 0;\n    this.flows = /* @__PURE__ */new Map();\n  }\n  static getInstance() {\n    var _a;\n    const vueApp = (_a = getCurrentInstance()) == null ? void 0 : _a.appContext.app;\n    const existingInstance = (vueApp == null ? void 0 : vueApp.config.globalProperties.$vueFlowStorage) ?? Storage.instance;\n    Storage.instance = existingInstance ?? new Storage();\n    if (vueApp) {\n      vueApp.config.globalProperties.$vueFlowStorage = Storage.instance;\n    }\n    return Storage.instance;\n  }\n  set(id2, flow) {\n    return this.flows.set(id2, flow);\n  }\n  get(id2) {\n    return this.flows.get(id2);\n  }\n  remove(id2) {\n    return this.flows.delete(id2);\n  }\n  create(id2, preloadedState) {\n    const state = useState();\n    const reactiveState = reactive(state);\n    const hooksOn = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      const name = `on${n.charAt(0).toUpperCase() + n.slice(1)}`;\n      hooksOn[name] = h2.on;\n    }\n    const emits = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      emits[n] = h2.trigger;\n    }\n    const nodeLookup = computed(() => {\n      const nodesMap = /* @__PURE__ */new Map();\n      for (const node of reactiveState.nodes) {\n        nodesMap.set(node.id, node);\n      }\n      return nodesMap;\n    });\n    const edgeLookup = computed(() => {\n      const edgesMap = /* @__PURE__ */new Map();\n      for (const edge of reactiveState.edges) {\n        edgesMap.set(edge.id, edge);\n      }\n      return edgesMap;\n    });\n    const getters = useGetters(reactiveState, nodeLookup, edgeLookup);\n    const actions = useActions(reactiveState, nodeLookup, edgeLookup);\n    actions.setState({\n      ...reactiveState,\n      ...preloadedState\n    });\n    const flow = {\n      ...hooksOn,\n      ...getters,\n      ...actions,\n      ...toRefs(reactiveState),\n      nodeLookup,\n      edgeLookup,\n      emits,\n      id: id2,\n      vueFlowVersion: \"1.39.3\",\n      $destroy: () => {\n        this.remove(id2);\n      }\n    };\n    this.set(id2, flow);\n    return flow;\n  }\n  getId() {\n    return `vue-flow-${this.currentId++}`;\n  }\n}\nfunction useVueFlow(idOrOpts) {\n  const storage = Storage.getInstance();\n  const scope = getCurrentScope();\n  const isOptsObj = typeof idOrOpts === \"object\";\n  const options = isOptsObj ? idOrOpts : {\n    id: idOrOpts\n  };\n  const id2 = options.id;\n  const vueFlowId = id2 ?? (scope == null ? void 0 : scope.vueFlowId);\n  let vueFlow;\n  if (scope) {\n    const injectedState = inject(VueFlow, null);\n    if (typeof injectedState !== \"undefined\" && injectedState !== null && (!vueFlowId || injectedState.id === vueFlowId)) {\n      vueFlow = injectedState;\n    }\n  }\n  if (!vueFlow) {\n    if (vueFlowId) {\n      vueFlow = storage.get(vueFlowId);\n    }\n  }\n  if (!vueFlow || vueFlowId && vueFlow.id !== vueFlowId) {\n    const name = id2 ?? storage.getId();\n    const state = storage.create(name, options);\n    vueFlow = state;\n    const vfScope = scope ?? effectScope(true);\n    vfScope.run(() => {\n      watch(state.applyDefault, (shouldApplyDefault, __, onCleanup) => {\n        const nodesChangeHandler = changes => {\n          state.applyNodeChanges(changes);\n        };\n        const edgesChangeHandler = changes => {\n          state.applyEdgeChanges(changes);\n        };\n        if (shouldApplyDefault) {\n          state.onNodesChange(nodesChangeHandler);\n          state.onEdgesChange(edgesChangeHandler);\n        } else {\n          state.hooks.value.nodesChange.off(nodesChangeHandler);\n          state.hooks.value.edgesChange.off(edgesChangeHandler);\n        }\n        onCleanup(() => {\n          state.hooks.value.nodesChange.off(nodesChangeHandler);\n          state.hooks.value.edgesChange.off(edgesChangeHandler);\n        });\n      }, {\n        immediate: true\n      });\n      tryOnScopeDispose(() => {\n        if (vueFlow) {\n          const storedInstance = storage.get(vueFlow.id);\n          if (storedInstance) {\n            storedInstance.$destroy();\n          } else {\n            warn(`No store instance found for id ${vueFlow.id} in storage.`);\n          }\n        }\n      });\n    });\n  } else {\n    if (isOptsObj) {\n      vueFlow.setState(options);\n    }\n  }\n  if (scope) {\n    provide(VueFlow, vueFlow);\n    scope.vueFlowId = vueFlow.id;\n  }\n  if (isOptsObj) {\n    const instance = getCurrentInstance();\n    if ((instance == null ? void 0 : instance.type.name) !== \"VueFlow\") {\n      vueFlow.emits.error(new VueFlowError(ErrorCode.USEVUEFLOW_OPTIONS));\n    }\n  }\n  return vueFlow;\n}\nfunction useResizeHandler(viewportEl) {\n  const {\n    emits,\n    dimensions\n  } = useVueFlow();\n  let resizeObserver;\n  onMounted(() => {\n    const rendererNode = viewportEl.value;\n    const updateDimensions = () => {\n      if (!rendererNode) {\n        return;\n      }\n      const size = getDimensions(rendererNode);\n      if (size.width === 0 || size.height === 0) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_VIEWPORT_DIMENSIONS));\n      }\n      dimensions.value = {\n        width: size.width || 500,\n        height: size.height || 500\n      };\n    };\n    updateDimensions();\n    window.addEventListener(\"resize\", updateDimensions);\n    if (rendererNode) {\n      resizeObserver = new ResizeObserver(() => updateDimensions());\n      resizeObserver.observe(rendererNode);\n    }\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"resize\", updateDimensions);\n      if (resizeObserver && rendererNode) {\n        resizeObserver.unobserve(rendererNode);\n      }\n    });\n  });\n}\nconst __default__$c = {\n  name: \"UserSelection\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$c = /* @__PURE__ */defineComponent({\n  ...__default__$c,\n  props: {\n    userSelectionRect: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__selection vue-flow__container\",\n        style: normalizeStyle({\n          width: `${_ctx.userSelectionRect.width}px`,\n          height: `${_ctx.userSelectionRect.height}px`,\n          transform: `translate(${_ctx.userSelectionRect.x}px, ${_ctx.userSelectionRect.y}px)`\n        })\n      }, null, 4);\n    };\n  }\n});\nconst _hoisted_1$6 = [\"tabIndex\"];\nconst __default__$b = {\n  name: \"NodesSelection\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$b = /* @__PURE__ */defineComponent({\n  ...__default__$b,\n  setup(__props) {\n    const {\n      emits,\n      viewport,\n      getSelectedNodes,\n      noPanClassName,\n      disableKeyboardA11y,\n      userSelectionActive\n    } = useVueFlow();\n    const updatePositions = useUpdateNodePositions();\n    const el = ref(null);\n    const dragging = useDrag({\n      el,\n      onStart(args) {\n        emits.selectionDragStart(args);\n      },\n      onDrag(args) {\n        emits.selectionDrag(args);\n      },\n      onStop(args) {\n        emits.selectionDragStop(args);\n      }\n    });\n    onMounted(() => {\n      var _a;\n      if (!disableKeyboardA11y.value) {\n        (_a = el.value) == null ? void 0 : _a.focus({\n          preventScroll: true\n        });\n      }\n    });\n    const selectedNodesBBox = computed(() => getRectOfNodes(getSelectedNodes.value));\n    const innerStyle = computed(() => ({\n      width: `${selectedNodesBBox.value.width}px`,\n      height: `${selectedNodesBBox.value.height}px`,\n      top: `${selectedNodesBBox.value.y}px`,\n      left: `${selectedNodesBBox.value.x}px`\n    }));\n    function onContextMenu(event) {\n      emits.selectionContextMenu({\n        event,\n        nodes: getSelectedNodes.value\n      });\n    }\n    function onKeyDown(event) {\n      if (disableKeyboardA11y) {\n        return;\n      }\n      if (arrowKeyDiffs[event.key]) {\n        updatePositions({\n          x: arrowKeyDiffs[event.key].x,\n          y: arrowKeyDiffs[event.key].y\n        }, event.shiftKey);\n      }\n    }\n    return (_ctx, _cache) => {\n      return !unref(userSelectionActive) && selectedNodesBBox.value.width && selectedNodesBBox.value.height ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([\"vue-flow__nodesselection vue-flow__container\", unref(noPanClassName)]),\n        style: normalizeStyle({\n          transform: `translate(${unref(viewport).x}px,${unref(viewport).y}px) scale(${unref(viewport).zoom})`\n        })\n      }, [createElementVNode(\"div\", {\n        ref_key: \"el\",\n        ref: el,\n        class: normalizeClass([{\n          dragging: unref(dragging)\n        }, \"vue-flow__nodesselection-rect\"]),\n        style: normalizeStyle(innerStyle.value),\n        tabIndex: unref(disableKeyboardA11y) ? void 0 : -1,\n        onContextmenu: onContextMenu,\n        onKeydown: onKeyDown\n      }, null, 46, _hoisted_1$6)], 6)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\nconst __default__$a = {\n  name: \"Pane\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$a = /* @__PURE__ */defineComponent({\n  ...__default__$a,\n  props: {\n    isSelecting: {\n      type: Boolean\n    },\n    selectionKeyPressed: {\n      type: Boolean\n    }\n  },\n  setup(__props) {\n    const {\n      vueFlowRef,\n      nodes,\n      viewport,\n      emits,\n      userSelectionActive,\n      removeSelectedElements,\n      panOnDrag,\n      userSelectionRect,\n      elementsSelectable,\n      nodesSelectionActive,\n      getSelectedEdges,\n      getSelectedNodes,\n      removeNodes,\n      removeEdges,\n      selectionMode,\n      deleteKeyCode,\n      multiSelectionKeyCode,\n      multiSelectionActive,\n      edgeLookup,\n      nodeLookup\n    } = useVueFlow();\n    const container = ref(null);\n    const prevSelectedNodesCount = ref(0);\n    const prevSelectedEdgesCount = ref(0);\n    const containerBounds = ref();\n    const edgeIdLookup = ref( /* @__PURE__ */new Map());\n    const hasActiveSelection = toRef(() => elementsSelectable.value && (__props.isSelecting || userSelectionActive.value));\n    let selectionInProgress = false;\n    let selectionStarted = false;\n    const deleteKeyPressed = useKeyPress(deleteKeyCode, {\n      actInsideInputWithModifier: false\n    });\n    const multiSelectKeyPressed = useKeyPress(multiSelectionKeyCode);\n    watch(deleteKeyPressed, isKeyPressed => {\n      if (!isKeyPressed) {\n        return;\n      }\n      removeNodes(getSelectedNodes.value);\n      removeEdges(getSelectedEdges.value);\n      nodesSelectionActive.value = false;\n    });\n    watch(multiSelectKeyPressed, isKeyPressed => {\n      multiSelectionActive.value = isKeyPressed;\n    });\n    function wrapHandler(handler, containerRef) {\n      return event => {\n        if (event.target !== containerRef) {\n          return;\n        }\n        handler == null ? void 0 : handler(event);\n      };\n    }\n    function resetUserSelection() {\n      userSelectionActive.value = false;\n      userSelectionRect.value = null;\n      prevSelectedNodesCount.value = 0;\n      prevSelectedEdgesCount.value = 0;\n    }\n    function onClick(event) {\n      if (selectionInProgress) {\n        selectionInProgress = false;\n        return;\n      }\n      emits.paneClick(event);\n      removeSelectedElements();\n      nodesSelectionActive.value = false;\n    }\n    function onContextMenu(event) {\n      var _a;\n      if (Array.isArray(panOnDrag.value) && ((_a = panOnDrag.value) == null ? void 0 : _a.includes(2))) {\n        event.preventDefault();\n        return;\n      }\n      emits.paneContextMenu(event);\n    }\n    function onWheel(event) {\n      emits.paneScroll(event);\n    }\n    function onPointerDown(event) {\n      var _a, _b, _c, _d, _e;\n      containerBounds.value = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!elementsSelectable.value || !__props.isSelecting || event.button !== 0 || event.target !== container.value || !containerBounds.value) {\n        return;\n      }\n      (_c = (_b = event.target) == null ? void 0 : _b.setPointerCapture) == null ? void 0 : _c.call(_b, event.pointerId);\n      const {\n        x,\n        y\n      } = getMousePosition(event, containerBounds.value);\n      selectionStarted = true;\n      selectionInProgress = false;\n      edgeIdLookup.value = /* @__PURE__ */new Map();\n      for (const [id2, edge] of edgeLookup.value) {\n        edgeIdLookup.value.set(edge.source, ((_d = edgeIdLookup.value.get(edge.source)) == null ? void 0 : _d.add(id2)) || /* @__PURE__ */new Set([id2]));\n        edgeIdLookup.value.set(edge.target, ((_e = edgeIdLookup.value.get(edge.target)) == null ? void 0 : _e.add(id2)) || /* @__PURE__ */new Set([id2]));\n      }\n      removeSelectedElements();\n      userSelectionRect.value = {\n        width: 0,\n        height: 0,\n        startX: x,\n        startY: y,\n        x,\n        y\n      };\n      userSelectionActive.value = true;\n      nodesSelectionActive.value = false;\n      emits.selectionStart(event);\n    }\n    function onPointerMove(event) {\n      if (!containerBounds.value || !userSelectionRect.value) {\n        return;\n      }\n      selectionInProgress = true;\n      const {\n        x: mouseX,\n        y: mouseY\n      } = getEventPosition(event, containerBounds.value);\n      const {\n        startX = 0,\n        startY = 0\n      } = userSelectionRect.value;\n      const nextUserSelectRect = {\n        startX,\n        startY,\n        x: mouseX < startX ? mouseX : startX,\n        y: mouseY < startY ? mouseY : startY,\n        width: Math.abs(mouseX - startX),\n        height: Math.abs(mouseY - startY)\n      };\n      const selectedNodes = getNodesInside(nodes.value, nextUserSelectRect, viewport.value, selectionMode.value === SelectionMode.Partial, true);\n      const selectedEdgeIds = /* @__PURE__ */new Set();\n      const selectedNodeIds = /* @__PURE__ */new Set();\n      for (const selectedNode of selectedNodes) {\n        selectedNodeIds.add(selectedNode.id);\n        const edgeIds = edgeIdLookup.value.get(selectedNode.id);\n        if (edgeIds) {\n          for (const edgeId of edgeIds) {\n            selectedEdgeIds.add(edgeId);\n          }\n        }\n      }\n      if (prevSelectedNodesCount.value !== selectedNodeIds.size) {\n        prevSelectedNodesCount.value = selectedNodeIds.size;\n        const changes = getSelectionChanges(nodeLookup.value, selectedNodeIds, true);\n        emits.nodesChange(changes);\n      }\n      if (prevSelectedEdgesCount.value !== selectedEdgeIds.size) {\n        prevSelectedEdgesCount.value = selectedEdgeIds.size;\n        const changes = getSelectionChanges(edgeLookup.value, selectedEdgeIds);\n        emits.edgesChange(changes);\n      }\n      userSelectionRect.value = nextUserSelectRect;\n      userSelectionActive.value = true;\n      nodesSelectionActive.value = false;\n    }\n    function onPointerUp(event) {\n      var _a;\n      if (event.button !== 0 || !selectionStarted) {\n        return;\n      }\n      (_a = event.target) == null ? void 0 : _a.releasePointerCapture(event.pointerId);\n      if (!userSelectionActive.value && userSelectionRect.value && event.target === container.value) {\n        onClick(event);\n      }\n      if (prevSelectedNodesCount.value > 0) {\n        nodesSelectionActive.value = true;\n      }\n      resetUserSelection();\n      emits.selectionEnd(event);\n      if (__props.selectionKeyPressed) {\n        selectionInProgress = false;\n      }\n      selectionStarted = false;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"container\",\n        ref: container,\n        class: normalizeClass([\"vue-flow__pane vue-flow__container\", {\n          selection: _ctx.isSelecting\n        }]),\n        onClick: _cache[0] || (_cache[0] = event => hasActiveSelection.value ? void 0 : wrapHandler(onClick, container.value)(event)),\n        onContextmenu: _cache[1] || (_cache[1] = $event => wrapHandler(onContextMenu, container.value)($event)),\n        onWheelPassive: _cache[2] || (_cache[2] = $event => wrapHandler(onWheel, container.value)($event)),\n        onPointerenter: _cache[3] || (_cache[3] = event => hasActiveSelection.value ? void 0 : unref(emits).paneMouseEnter(event)),\n        onPointerdown: _cache[4] || (_cache[4] = event => hasActiveSelection.value ? onPointerDown(event) : unref(emits).paneMouseMove(event)),\n        onPointermove: _cache[5] || (_cache[5] = event => hasActiveSelection.value ? onPointerMove(event) : unref(emits).paneMouseMove(event)),\n        onPointerup: _cache[6] || (_cache[6] = event => hasActiveSelection.value ? onPointerUp(event) : void 0),\n        onPointerleave: _cache[7] || (_cache[7] = $event => unref(emits).paneMouseLeave($event))\n      }, [renderSlot(_ctx.$slots, \"default\"), unref(userSelectionActive) && unref(userSelectionRect) ? (openBlock(), createBlock(_sfc_main$c, {\n        key: 0,\n        \"user-selection-rect\": unref(userSelectionRect)\n      }, null, 8, [\"user-selection-rect\"])) : createCommentVNode(\"\", true), unref(nodesSelectionActive) && unref(getSelectedNodes).length ? (openBlock(), createBlock(_sfc_main$b, {\n        key: 1\n      })) : createCommentVNode(\"\", true)], 34);\n    };\n  }\n});\nconst __default__$9 = {\n  name: \"Transform\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$9 = /* @__PURE__ */defineComponent({\n  ...__default__$9,\n  setup(__props) {\n    const {\n      viewport,\n      fitViewOnInit,\n      fitViewOnInitDone\n    } = useVueFlow();\n    const isHidden = computed(() => {\n      if (fitViewOnInit.value) {\n        return !fitViewOnInitDone.value;\n      }\n      return false;\n    });\n    const transform = computed(() => `translate(${viewport.value.x}px,${viewport.value.y}px) scale(${viewport.value.zoom})`);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__transformationpane vue-flow__container\",\n        style: normalizeStyle({\n          transform: transform.value,\n          opacity: isHidden.value ? 0 : void 0\n        })\n      }, [renderSlot(_ctx.$slots, \"default\")], 4);\n    };\n  }\n});\nconst __default__$8 = {\n  name: \"Viewport\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$8 = /* @__PURE__ */defineComponent({\n  ...__default__$8,\n  setup(__props) {\n    const {\n      minZoom,\n      maxZoom,\n      defaultViewport,\n      translateExtent,\n      zoomActivationKeyCode,\n      selectionKeyCode,\n      panActivationKeyCode,\n      panOnScroll,\n      panOnScrollMode,\n      panOnScrollSpeed,\n      panOnDrag,\n      zoomOnDoubleClick,\n      zoomOnPinch,\n      zoomOnScroll,\n      preventScrolling,\n      noWheelClassName,\n      noPanClassName,\n      emits,\n      connectionStartHandle,\n      userSelectionActive,\n      paneDragging,\n      d3Zoom: storeD3Zoom,\n      d3Selection: storeD3Selection,\n      d3ZoomHandler: storeD3ZoomHandler,\n      viewport,\n      viewportRef,\n      paneClickDistance\n    } = useVueFlow();\n    useResizeHandler(viewportRef);\n    const isZoomingOrPanning = ref(false);\n    const isPanScrolling = ref(false);\n    let panScrollTimeout = null;\n    let zoomedWithRightMouseButton = false;\n    let mouseButton = 0;\n    let prevTransform = {\n      x: 0,\n      y: 0,\n      zoom: 0\n    };\n    const panKeyPressed = useKeyPress(panActivationKeyCode);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const zoomKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const shouldPanOnDrag = toRef(() => panKeyPressed.value || panOnDrag.value);\n    const shouldPanOnScroll = toRef(() => panKeyPressed.value || panOnScroll.value);\n    const isSelecting = toRef(() => selectionKeyPressed.value || selectionKeyCode.value === true && shouldPanOnDrag.value !== true);\n    onMounted(() => {\n      if (!viewportRef.value) {\n        warn(\"Viewport element is missing\");\n        return;\n      }\n      const viewportElement = viewportRef.value;\n      const bbox = viewportElement.getBoundingClientRect();\n      const d3Zoom = zoom().clickDistance(paneClickDistance.value).scaleExtent([minZoom.value, maxZoom.value]).translateExtent(translateExtent.value);\n      const d3Selection = select(viewportElement).call(d3Zoom);\n      const d3ZoomHandler = d3Selection.on(\"wheel.zoom\");\n      const updatedTransform = identity.translate(defaultViewport.value.x ?? 0, defaultViewport.value.y ?? 0).scale(clamp(defaultViewport.value.zoom ?? 1, minZoom.value, maxZoom.value));\n      const extent = [[0, 0], [bbox.width, bbox.height]];\n      const constrainedTransform = d3Zoom.constrain()(updatedTransform, extent, translateExtent.value);\n      d3Zoom.transform(d3Selection, constrainedTransform);\n      d3Zoom.wheelDelta(wheelDelta);\n      storeD3Zoom.value = d3Zoom;\n      storeD3Selection.value = d3Selection;\n      storeD3ZoomHandler.value = d3ZoomHandler;\n      viewport.value = {\n        x: constrainedTransform.x,\n        y: constrainedTransform.y,\n        zoom: constrainedTransform.k\n      };\n      d3Zoom.on(\"start\", event => {\n        var _a;\n        if (!event.sourceEvent) {\n          return null;\n        }\n        mouseButton = event.sourceEvent.button;\n        isZoomingOrPanning.value = true;\n        const flowTransform = eventToFlowTransform(event.transform);\n        if (((_a = event.sourceEvent) == null ? void 0 : _a.type) === \"mousedown\") {\n          paneDragging.value = true;\n        }\n        prevTransform = flowTransform;\n        emits.viewportChangeStart(flowTransform);\n        emits.moveStart({\n          event,\n          flowTransform\n        });\n      });\n      d3Zoom.on(\"end\", event => {\n        if (!event.sourceEvent) {\n          return null;\n        }\n        isZoomingOrPanning.value = false;\n        paneDragging.value = false;\n        if (isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0) && !zoomedWithRightMouseButton) {\n          emits.paneContextMenu(event.sourceEvent);\n        }\n        zoomedWithRightMouseButton = false;\n        if (viewChanged(prevTransform, event.transform)) {\n          const flowTransform = eventToFlowTransform(event.transform);\n          prevTransform = flowTransform;\n          emits.viewportChangeEnd(flowTransform);\n          emits.moveEnd({\n            event,\n            flowTransform\n          });\n        }\n      });\n      d3Zoom.filter(event => {\n        var _a, _b, _c;\n        const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n        const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n        const eventButton = event.button;\n        if ((shouldPanOnDrag.value === true || Array.isArray(shouldPanOnDrag.value) && shouldPanOnDrag.value.includes(1)) && eventButton === 1 && event.type === \"mousedown\" && (((_a = event.target) == null ? void 0 : _a.closest(\".vue-flow__node\")) || ((_b = event.target) == null ? void 0 : _b.closest(\".vue-flow__edge\")))) {\n          return true;\n        }\n        if (!shouldPanOnDrag.value && !zoomScroll && !shouldPanOnScroll.value && !zoomOnDoubleClick.value && !zoomOnPinch.value) {\n          return false;\n        }\n        if (userSelectionActive.value) {\n          return false;\n        }\n        if (!zoomOnDoubleClick.value && event.type === \"dblclick\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noWheelClassName.value) && event.type === \"wheel\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noPanClassName.value) && (event.type !== \"wheel\" || shouldPanOnScroll.value && event.type === \"wheel\" && !zoomKeyPressed.value)) {\n          return false;\n        }\n        if (!zoomOnPinch.value && event.ctrlKey && event.type === \"wheel\") {\n          return false;\n        }\n        if (!zoomScroll && !shouldPanOnScroll.value && !pinchZoom && event.type === \"wheel\") {\n          return false;\n        }\n        if (!zoomOnPinch && event.type === \"touchstart\" && ((_c = event.touches) == null ? void 0 : _c.length) > 1) {\n          event.preventDefault();\n          return false;\n        }\n        if (!shouldPanOnDrag.value && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        if (Array.isArray(shouldPanOnDrag.value) && !shouldPanOnDrag.value.includes(eventButton) && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        const buttonAllowed = Array.isArray(shouldPanOnDrag.value) && shouldPanOnDrag.value.includes(eventButton) || !eventButton || eventButton <= 1;\n        return (!event.ctrlKey || event.type === \"wheel\") && buttonAllowed;\n      });\n      watch([userSelectionActive, shouldPanOnDrag], () => {\n        if (userSelectionActive.value && !isZoomingOrPanning.value) {\n          d3Zoom.on(\"zoom\", null);\n        } else if (!userSelectionActive.value) {\n          d3Zoom.on(\"zoom\", event => {\n            viewport.value = {\n              x: event.transform.x,\n              y: event.transform.y,\n              zoom: event.transform.k\n            };\n            const flowTransform = eventToFlowTransform(event.transform);\n            zoomedWithRightMouseButton = isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0);\n            emits.viewportChange(flowTransform);\n            emits.move({\n              event,\n              flowTransform\n            });\n          });\n        }\n      }, {\n        immediate: true\n      });\n      watch([userSelectionActive, shouldPanOnScroll, panOnScrollMode, zoomKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName], () => {\n        if (shouldPanOnScroll.value && !zoomKeyPressed.value && !userSelectionActive.value) {\n          d3Selection.on(\"wheel.zoom\", event => {\n            if (isWrappedWithClass(event, noWheelClassName.value)) {\n              return false;\n            }\n            const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n            const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n            const scrollEventEnabled = !preventScrolling.value || shouldPanOnScroll.value || zoomScroll || pinchZoom;\n            if (!scrollEventEnabled) {\n              return false;\n            }\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            const currentZoom = d3Selection.property(\"__zoom\").k || 1;\n            const _isMacOs = isMacOs();\n            if (event.ctrlKey && zoomOnPinch.value && _isMacOs) {\n              const point = pointer(event);\n              const pinchDelta = wheelDelta(event);\n              const zoom2 = currentZoom * 2 ** pinchDelta;\n              d3Zoom.scaleTo(d3Selection, zoom2, point, event);\n              return;\n            }\n            const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n            let deltaX = panOnScrollMode.value === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n            let deltaY = panOnScrollMode.value === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n            if (!_isMacOs && event.shiftKey && panOnScrollMode.value !== PanOnScrollMode.Vertical && !deltaX && deltaY) {\n              deltaX = deltaY;\n              deltaY = 0;\n            }\n            d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed.value, -(deltaY / currentZoom) * panOnScrollSpeed.value);\n            const nextViewport = eventToFlowTransform(d3Selection.property(\"__zoom\"));\n            if (panScrollTimeout) {\n              clearTimeout(panScrollTimeout);\n            }\n            if (!isPanScrolling.value) {\n              isPanScrolling.value = true;\n              emits.moveStart({\n                event,\n                flowTransform: nextViewport\n              });\n              emits.viewportChangeStart(nextViewport);\n            } else {\n              emits.move({\n                event,\n                flowTransform: nextViewport\n              });\n              emits.viewportChange(nextViewport);\n              panScrollTimeout = setTimeout(() => {\n                emits.moveEnd({\n                  event,\n                  flowTransform: nextViewport\n                });\n                emits.viewportChangeEnd(nextViewport);\n                isPanScrolling.value = false;\n              }, 150);\n            }\n          }, {\n            passive: false\n          });\n        } else if (typeof d3ZoomHandler !== \"undefined\") {\n          d3Selection.on(\"wheel.zoom\", function (event, d) {\n            const invalidEvent = !preventScrolling.value && event.type === \"wheel\" && !event.ctrlKey;\n            const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n            const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n            const scrollEventsDisabled = !zoomScroll && !panOnScroll.value && !pinchZoom && event.type === \"wheel\";\n            if (scrollEventsDisabled || invalidEvent || isWrappedWithClass(event, noWheelClassName.value)) {\n              return null;\n            }\n            event.preventDefault();\n            d3ZoomHandler.call(this, event, d);\n          }, {\n            passive: false\n          });\n        }\n      }, {\n        immediate: true\n      });\n    });\n    function isRightClickPan(pan, usedButton) {\n      return usedButton === 2 && Array.isArray(pan) && pan.includes(2);\n    }\n    function wheelDelta(event) {\n      const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n      return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * factor;\n    }\n    function viewChanged(prevViewport, eventTransform) {\n      return prevViewport.x !== eventTransform.x && !Number.isNaN(eventTransform.x) || prevViewport.y !== eventTransform.y && !Number.isNaN(eventTransform.y) || prevViewport.zoom !== eventTransform.k && !Number.isNaN(eventTransform.k);\n    }\n    function eventToFlowTransform(eventTransform) {\n      return {\n        x: eventTransform.x,\n        y: eventTransform.y,\n        zoom: eventTransform.k\n      };\n    }\n    function isWrappedWithClass(event, className) {\n      return event.target.closest(`.${className}`);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"viewportRef\",\n        ref: viewportRef,\n        class: \"vue-flow__viewport vue-flow__container\"\n      }, [createVNode(_sfc_main$a, {\n        \"is-selecting\": isSelecting.value,\n        \"selection-key-pressed\": unref(selectionKeyPressed),\n        class: normalizeClass({\n          connecting: !!unref(connectionStartHandle),\n          dragging: unref(paneDragging),\n          draggable: shouldPanOnDrag.value\n        })\n      }, {\n        default: withCtx(() => [createVNode(_sfc_main$9, null, {\n          default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n          _: 3\n        })]),\n        _: 3\n      }, 8, [\"is-selecting\", \"selection-key-pressed\", \"class\"])], 512);\n    };\n  }\n});\nconst _hoisted_1$5 = [\"id\"];\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = [\"id\"];\nconst __default__$7 = {\n  name: \"A11yDescriptions\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$7 = /* @__PURE__ */defineComponent({\n  ...__default__$7,\n  setup(__props) {\n    const {\n      id: id2,\n      disableKeyboardA11y,\n      ariaLiveMessage\n    } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [createElementVNode(\"div\", {\n        id: `${unref(ARIA_NODE_DESC_KEY)}-${unref(id2)}`,\n        style: {\n          \"display\": \"none\"\n        }\n      }, \" Press enter or space to select a node. \" + toDisplayString(!unref(disableKeyboardA11y) ? \"You can then use the arrow keys to move the node around.\" : \"\") + \" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. \", 9, _hoisted_1$5), createElementVNode(\"div\", {\n        id: `${unref(ARIA_EDGE_DESC_KEY)}-${unref(id2)}`,\n        style: {\n          \"display\": \"none\"\n        }\n      }, \" Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. \", 8, _hoisted_2), !unref(disableKeyboardA11y) ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        id: `${unref(ARIA_LIVE_MESSAGE)}-${unref(id2)}`,\n        \"aria-live\": \"assertive\",\n        \"aria-atomic\": \"true\",\n        style: {\n          \"position\": \"absolute\",\n          \"width\": \"1px\",\n          \"height\": \"1px\",\n          \"margin\": \"-1px\",\n          \"border\": \"0\",\n          \"padding\": \"0\",\n          \"overflow\": \"hidden\",\n          \"clip\": \"rect(0px, 0px, 0px, 0px)\",\n          \"clip-path\": \"inset(100%)\"\n        }\n      }, toDisplayString(unref(ariaLiveMessage)), 9, _hoisted_3)) : createCommentVNode(\"\", true)], 64);\n    };\n  }\n});\nfunction useOnInitHandler() {\n  const vfInstance = useVueFlow();\n  watch(() => vfInstance.viewportHelper.value.viewportInitialized, isInitialized => {\n    if (isInitialized) {\n      setTimeout(() => {\n        vfInstance.emits.init(vfInstance);\n        vfInstance.emits.paneReady(vfInstance);\n      }, 1);\n    }\n  });\n}\nfunction shiftX(x, shift, position) {\n  if (position === Position.Left) {\n    return x - shift;\n  }\n  if (position === Position.Right) {\n    return x + shift;\n  }\n  return x;\n}\nfunction shiftY(y, shift, position) {\n  if (position === Position.Top) {\n    return y - shift;\n  }\n  if (position === Position.Bottom) {\n    return y + shift;\n  }\n  return y;\n}\nconst EdgeAnchor = function ({\n  radius = 10,\n  centerX = 0,\n  centerY = 0,\n  position = Position.Top,\n  type\n}) {\n  return h(\"circle\", {\n    class: `vue-flow__edgeupdater vue-flow__edgeupdater-${type}`,\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\nEdgeAnchor.props = [\"radius\", \"centerX\", \"centerY\", \"position\", \"type\"];\nEdgeAnchor.compatConfig = {\n  MODE: 3\n};\nconst EdgeAnchor$1 = EdgeAnchor;\nconst EdgeWrapper = defineComponent({\n  name: \"Edge\",\n  compatConfig: {\n    MODE: 3\n  },\n  props: [\"id\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      addSelectedEdges,\n      connectionMode,\n      edgeUpdaterRadius,\n      emits,\n      nodesSelectionActive,\n      noPanClassName,\n      getEdgeTypes,\n      removeSelectedEdges,\n      findEdge,\n      findNode,\n      isValidConnection,\n      multiSelectionActive,\n      disableKeyboardA11y,\n      elementsSelectable,\n      edgesUpdatable,\n      edgesFocusable\n    } = useVueFlow();\n    const edge = computed(() => findEdge(props.id));\n    const hooks = useEdgeHooks(edge.value, emits);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const mouseOver = ref(false);\n    const updating = ref(false);\n    const nodeId = ref(\"\");\n    const handleId = ref(null);\n    const edgeUpdaterType = ref(\"source\");\n    const edgeEl = ref(null);\n    const isSelectable = toRef(() => typeof edge.value.selectable === \"undefined\" ? elementsSelectable.value : edge.value.selectable);\n    const isUpdatable = toRef(() => typeof edge.value.updatable === \"undefined\" ? edgesUpdatable.value : edge.value.updatable);\n    const isFocusable = toRef(() => typeof edge.value.focusable === \"undefined\" ? edgesFocusable.value : edge.value.focusable);\n    provide(EdgeId, props.id);\n    provide(EdgeRef, edgeEl);\n    const edgeClass = computed(() => edge.value.class instanceof Function ? edge.value.class(edge.value) : edge.value.class);\n    const edgeStyle = computed(() => edge.value.style instanceof Function ? edge.value.style(edge.value) : edge.value.style);\n    const edgeCmp = computed(() => {\n      const name = edge.value.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`edge-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let edgeType = edge.value.template ?? getEdgeTypes.value[name];\n      if (typeof edgeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            edgeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (edgeType && typeof edgeType !== \"string\") {\n        return edgeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.EDGE_TYPE_MISSING, edgeType));\n      return false;\n    });\n    const {\n      handlePointerDown\n    } = useHandle({\n      nodeId,\n      handleId,\n      type: edgeUpdaterType,\n      isValidConnection,\n      edgeUpdaterType,\n      onEdgeUpdate,\n      onEdgeUpdateEnd\n    });\n    return () => {\n      const sourceNode = findNode(edge.value.source);\n      const targetNode = findNode(edge.value.target);\n      const pathOptions = \"pathOptions\" in edge.value ? edge.value.pathOptions : {};\n      if (!sourceNode && !targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.value.id, edge.value.source, edge.value.target));\n        return null;\n      }\n      if (!sourceNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.value.id, edge.value.source));\n        return null;\n      }\n      if (!targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.value.id, edge.value.target));\n        return null;\n      }\n      if (!edge.value || edge.value.hidden || sourceNode.hidden || targetNode.hidden) {\n        return null;\n      }\n      let sourceNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        sourceNodeHandles = sourceNode.handleBounds.source;\n      } else {\n        sourceNodeHandles = [...(sourceNode.handleBounds.source || []), ...(sourceNode.handleBounds.target || [])];\n      }\n      const sourceHandle = getHandle(sourceNodeHandles, edge.value.sourceHandle);\n      let targetNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        targetNodeHandles = targetNode.handleBounds.target;\n      } else {\n        targetNodeHandles = [...(targetNode.handleBounds.target || []), ...(targetNode.handleBounds.source || [])];\n      }\n      const targetHandle = getHandle(targetNodeHandles, edge.value.targetHandle);\n      const sourcePosition = (sourceHandle == null ? void 0 : sourceHandle.position) || Position.Bottom;\n      const targetPosition = (targetHandle == null ? void 0 : targetHandle.position) || Position.Top;\n      const {\n        x: sourceX,\n        y: sourceY\n      } = getHandlePosition(sourceNode, sourceHandle, sourcePosition);\n      const {\n        x: targetX,\n        y: targetY\n      } = getHandlePosition(targetNode, targetHandle, targetPosition);\n      edge.value.sourceX = sourceX;\n      edge.value.sourceY = sourceY;\n      edge.value.targetX = targetX;\n      edge.value.targetY = targetY;\n      return h(\"g\", {\n        \"ref\": edgeEl,\n        \"key\": props.id,\n        \"data-id\": props.id,\n        \"class\": [\"vue-flow__edge\", `vue-flow__edge-${edgeCmp.value === false ? \"default\" : edge.value.type || \"default\"}`, noPanClassName.value, edgeClass.value, {\n          updating: mouseOver.value,\n          selected: edge.value.selected,\n          animated: edge.value.animated,\n          inactive: !isSelectable.value\n        }],\n        \"onClick\": onEdgeClick,\n        \"onContextmenu\": onEdgeContextMenu,\n        \"onDblclick\": onDoubleClick,\n        \"onMouseenter\": onEdgeMouseEnter,\n        \"onMousemove\": onEdgeMouseMove,\n        \"onMouseleave\": onEdgeMouseLeave,\n        \"onKeyDown\": isFocusable.value ? onKeyDown : void 0,\n        \"tabIndex\": isFocusable.value ? 0 : void 0,\n        \"aria-label\": edge.value.ariaLabel === null ? void 0 : edge.value.ariaLabel || `Edge from ${edge.value.source} to ${edge.value.target}`,\n        \"aria-describedby\": isFocusable.value ? `${ARIA_EDGE_DESC_KEY}-${vueFlowId}` : void 0,\n        \"role\": isFocusable.value ? \"button\" : \"img\"\n      }, [updating.value ? null : h(edgeCmp.value === false ? getEdgeTypes.value.default : edgeCmp.value, {\n        id: props.id,\n        sourceNode,\n        targetNode,\n        source: edge.value.source,\n        target: edge.value.target,\n        type: edge.value.type,\n        updatable: isUpdatable.value,\n        selected: edge.value.selected,\n        animated: edge.value.animated,\n        label: edge.value.label,\n        labelStyle: edge.value.labelStyle,\n        labelShowBg: edge.value.labelShowBg,\n        labelBgStyle: edge.value.labelBgStyle,\n        labelBgPadding: edge.value.labelBgPadding,\n        labelBgBorderRadius: edge.value.labelBgBorderRadius,\n        data: edge.value.data,\n        events: {\n          ...edge.value.events,\n          ...hooks.on\n        },\n        style: edgeStyle.value,\n        markerStart: `url('#${getMarkerId(edge.value.markerStart, vueFlowId)}')`,\n        markerEnd: `url('#${getMarkerId(edge.value.markerEnd, vueFlowId)}')`,\n        sourcePosition,\n        targetPosition,\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceHandleId: edge.value.sourceHandle,\n        targetHandleId: edge.value.targetHandle,\n        interactionWidth: edge.value.interactionWidth,\n        ...pathOptions\n      }), [isUpdatable.value === \"source\" || isUpdatable.value === true ? [h(\"g\", {\n        onMousedown: onEdgeUpdaterSourceMouseDown,\n        onMouseenter: onEdgeUpdaterMouseEnter,\n        onMouseout: onEdgeUpdaterMouseOut\n      }, h(EdgeAnchor$1, {\n        \"position\": sourcePosition,\n        \"centerX\": sourceX,\n        \"centerY\": sourceY,\n        \"radius\": edgeUpdaterRadius.value,\n        \"type\": \"source\",\n        \"data-type\": \"source\"\n      }))] : null, isUpdatable.value === \"target\" || isUpdatable.value === true ? [h(\"g\", {\n        onMousedown: onEdgeUpdaterTargetMouseDown,\n        onMouseenter: onEdgeUpdaterMouseEnter,\n        onMouseout: onEdgeUpdaterMouseOut\n      }, h(EdgeAnchor$1, {\n        \"position\": targetPosition,\n        \"centerX\": targetX,\n        \"centerY\": targetY,\n        \"radius\": edgeUpdaterRadius.value,\n        \"type\": \"target\",\n        \"data-type\": \"target\"\n      }))] : null]]);\n    };\n    function onEdgeUpdaterMouseEnter() {\n      mouseOver.value = true;\n    }\n    function onEdgeUpdaterMouseOut() {\n      mouseOver.value = false;\n    }\n    function onEdgeUpdate(event, connection) {\n      hooks.emit.update({\n        event,\n        edge: edge.value,\n        connection\n      });\n    }\n    function onEdgeUpdateEnd(event) {\n      hooks.emit.updateEnd({\n        event,\n        edge: edge.value\n      });\n      updating.value = false;\n    }\n    function handleEdgeUpdater(event, isSourceHandle) {\n      if (event.button !== 0) {\n        return;\n      }\n      updating.value = true;\n      nodeId.value = isSourceHandle ? edge.value.target : edge.value.source;\n      handleId.value = (isSourceHandle ? edge.value.targetHandle : edge.value.sourceHandle) ?? \"\";\n      edgeUpdaterType.value = isSourceHandle ? \"target\" : \"source\";\n      hooks.emit.updateStart({\n        event,\n        edge: edge.value\n      });\n      handlePointerDown(event);\n    }\n    function onEdgeClick(event) {\n      var _a;\n      const data = {\n        event,\n        edge: edge.value\n      };\n      if (isSelectable.value) {\n        nodesSelectionActive.value = false;\n        if (edge.value.selected && multiSelectionActive.value) {\n          removeSelectedEdges([edge.value]);\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n        } else {\n          addSelectedEdges([edge.value]);\n        }\n      }\n      hooks.emit.click(data);\n    }\n    function onEdgeContextMenu(event) {\n      hooks.emit.contextMenu({\n        event,\n        edge: edge.value\n      });\n    }\n    function onDoubleClick(event) {\n      hooks.emit.doubleClick({\n        event,\n        edge: edge.value\n      });\n    }\n    function onEdgeMouseEnter(event) {\n      hooks.emit.mouseEnter({\n        event,\n        edge: edge.value\n      });\n    }\n    function onEdgeMouseMove(event) {\n      hooks.emit.mouseMove({\n        event,\n        edge: edge.value\n      });\n    }\n    function onEdgeMouseLeave(event) {\n      hooks.emit.mouseLeave({\n        event,\n        edge: edge.value\n      });\n    }\n    function onEdgeUpdaterSourceMouseDown(event) {\n      handleEdgeUpdater(event, true);\n    }\n    function onEdgeUpdaterTargetMouseDown(event) {\n      handleEdgeUpdater(event, false);\n    }\n    function onKeyDown(event) {\n      var _a;\n      if (!disableKeyboardA11y.value && elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        if (unselect) {\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n          removeSelectedEdges([findEdge(props.id)]);\n        } else {\n          addSelectedEdges([findEdge(props.id)]);\n        }\n      }\n    }\n  }\n});\nconst EdgeWrapper$1 = EdgeWrapper;\nconst oppositePosition = {\n  [Position.Left]: Position.Right,\n  [Position.Right]: Position.Left,\n  [Position.Top]: Position.Bottom,\n  [Position.Bottom]: Position.Top\n};\nconst ConnectionLine = defineComponent({\n  name: \"ConnectionLine\",\n  compatConfig: {\n    MODE: 3\n  },\n  setup() {\n    var _a;\n    const {\n      id: id2,\n      connectionMode,\n      connectionStartHandle,\n      connectionEndHandle,\n      connectionPosition,\n      connectionLineType,\n      connectionLineStyle,\n      connectionLineOptions,\n      connectionStatus,\n      viewport,\n      findNode\n    } = useVueFlow();\n    const connectionLineComponent = (_a = inject(Slots)) == null ? void 0 : _a[\"connection-line\"];\n    const fromNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionStartHandle.value) == null ? void 0 : _a2.nodeId);\n    });\n    const toNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionEndHandle.value) == null ? void 0 : _a2.nodeId) ?? null;\n    });\n    const toXY = computed(() => {\n      return {\n        x: (connectionPosition.value.x - viewport.value.x) / viewport.value.zoom,\n        y: (connectionPosition.value.y - viewport.value.y) / viewport.value.zoom\n      };\n    });\n    const markerStart = computed(() => connectionLineOptions.value.markerStart ? `url(#${getMarkerId(connectionLineOptions.value.markerStart, id2)})` : \"\");\n    const markerEnd = computed(() => connectionLineOptions.value.markerEnd ? `url(#${getMarkerId(connectionLineOptions.value.markerEnd, id2)})` : \"\");\n    return () => {\n      var _a2, _b, _c, _d;\n      if (!fromNode.value || !connectionStartHandle.value) {\n        return null;\n      }\n      const startHandleId = connectionStartHandle.value.handleId;\n      const handleType = connectionStartHandle.value.type;\n      const fromHandleBounds = fromNode.value.handleBounds;\n      let handleBounds = fromHandleBounds == null ? void 0 : fromHandleBounds[handleType];\n      if (connectionMode.value === ConnectionMode.Loose) {\n        handleBounds = handleBounds || (fromHandleBounds == null ? void 0 : fromHandleBounds[handleType === \"source\" ? \"target\" : \"source\"]);\n      }\n      if (!handleBounds) {\n        return null;\n      }\n      const fromHandle = (startHandleId ? handleBounds.find(d => d.id === startHandleId) : handleBounds[0]) ?? null;\n      const fromPosition = (fromHandle == null ? void 0 : fromHandle.position) || Position.Top;\n      const {\n        x: fromX,\n        y: fromY\n      } = getHandlePosition(fromNode.value, fromHandle, fromPosition);\n      let toHandle = null;\n      if (toNode.value && ((_a2 = connectionEndHandle.value) == null ? void 0 : _a2.handleId)) {\n        if (connectionMode.value === ConnectionMode.Strict) {\n          toHandle = ((_b = toNode.value.handleBounds[handleType === \"source\" ? \"target\" : \"source\"]) == null ? void 0 : _b.find(d => {\n            var _a3;\n            return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.handleId);\n          })) || null;\n        } else {\n          toHandle = ((_c = [...(toNode.value.handleBounds.source || []), ...(toNode.value.handleBounds.target || [])]) == null ? void 0 : _c.find(d => {\n            var _a3;\n            return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.handleId);\n          })) || null;\n        }\n      }\n      const toPosition = ((_d = connectionEndHandle.value) == null ? void 0 : _d.position) ?? (fromPosition ? oppositePosition[fromPosition] : null);\n      if (!fromPosition || !toPosition) {\n        return null;\n      }\n      const type = connectionLineType.value ?? connectionLineOptions.value.type ?? ConnectionLineType.Bezier;\n      let dAttr = \"\";\n      const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toXY.value.x,\n        targetY: toXY.value.y,\n        targetPosition: toPosition\n      };\n      if (type === ConnectionLineType.Bezier) {\n        [dAttr] = getBezierPath(pathParams);\n      } else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n          ...pathParams,\n          borderRadius: 0\n        });\n      } else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n      } else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n      } else {\n        dAttr = `M${fromX},${fromY} ${toXY.value.x},${toXY.value.y}`;\n      }\n      return h(\"svg\", {\n        class: \"vue-flow__edges vue-flow__connectionline vue-flow__container\"\n      }, h(\"g\", {\n        class: \"vue-flow__connection\"\n      }, connectionLineComponent ? h(connectionLineComponent, {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toXY.value.x,\n        targetY: toXY.value.y,\n        targetPosition: toPosition,\n        sourceNode: fromNode.value,\n        sourceHandle: fromHandle,\n        targetNode: toNode.value,\n        targetHandle: toHandle,\n        markerEnd: markerEnd.value,\n        markerStart: markerStart.value,\n        connectionStatus: connectionStatus.value\n      }) : h(\"path\", {\n        \"d\": dAttr,\n        \"class\": [connectionLineOptions.value.class, connectionStatus, \"vue-flow__connection-path\"],\n        \"style\": {\n          ...connectionLineStyle.value,\n          ...connectionLineOptions.value.style\n        },\n        \"marker-end\": markerEnd.value,\n        \"marker-start\": markerStart.value\n      })));\n    };\n  }\n});\nconst ConnectionLine$1 = ConnectionLine;\nconst _hoisted_1$4 = [\"id\", \"markerWidth\", \"markerHeight\", \"markerUnits\", \"orient\"];\nconst __default__$6 = {\n  name: \"MarkerType\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$6 = /* @__PURE__ */defineComponent({\n  ...__default__$6,\n  props: {\n    id: {},\n    type: {},\n    color: {\n      default: \"none\"\n    },\n    width: {\n      default: 12.5\n    },\n    height: {\n      default: 12.5\n    },\n    markerUnits: {\n      default: \"strokeWidth\"\n    },\n    orient: {\n      default: \"auto-start-reverse\"\n    },\n    strokeWidth: {\n      default: 1\n    }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"marker\", {\n        id: _ctx.id,\n        class: \"vue-flow__arrowhead\",\n        viewBox: \"-10 -10 20 20\",\n        refX: \"0\",\n        refY: \"0\",\n        markerWidth: `${_ctx.width}`,\n        markerHeight: `${_ctx.height}`,\n        markerUnits: _ctx.markerUnits,\n        orient: _ctx.orient\n      }, [_ctx.type === unref(MarkerType).ArrowClosed ? (openBlock(), createElementBlock(\"polyline\", {\n        key: 0,\n        style: normalizeStyle({\n          stroke: _ctx.color,\n          fill: _ctx.color,\n          strokeWidth: _ctx.strokeWidth\n        }),\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        points: \"-5,-4 0,0 -5,4 -5,-4\"\n      }, null, 4)) : createCommentVNode(\"\", true), _ctx.type === unref(MarkerType).Arrow ? (openBlock(), createElementBlock(\"polyline\", {\n        key: 1,\n        style: normalizeStyle({\n          stroke: _ctx.color,\n          strokeWidth: _ctx.strokeWidth\n        }),\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        fill: \"none\",\n        points: \"-5,-4 0,0 -5,4\"\n      }, null, 4)) : createCommentVNode(\"\", true)], 8, _hoisted_1$4);\n    };\n  }\n});\nconst _hoisted_1$3 = {\n  class: \"vue-flow__marker vue-flow__container\"\n};\nconst __default__$5 = {\n  name: \"MarkerDefinitions\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$5 = /* @__PURE__ */defineComponent({\n  ...__default__$5,\n  setup(__props) {\n    const {\n      id: vueFlowId,\n      edges,\n      connectionLineOptions,\n      defaultMarkerColor: defaultColor\n    } = useVueFlow();\n    const markers = computed(() => {\n      const ids = /* @__PURE__ */new Set();\n      const markers2 = [];\n      const createMarkers = marker => {\n        if (marker) {\n          const markerId = getMarkerId(marker, vueFlowId);\n          if (!ids.has(markerId)) {\n            if (typeof marker === \"object\") {\n              markers2.push({\n                ...marker,\n                id: markerId,\n                color: marker.color || defaultColor.value\n              });\n            } else {\n              markers2.push({\n                id: markerId,\n                color: defaultColor.value,\n                type: marker\n              });\n            }\n            ids.add(markerId);\n          }\n        }\n      };\n      for (const marker of [connectionLineOptions.value.markerEnd, connectionLineOptions.value.markerStart]) {\n        createMarkers(marker);\n      }\n      for (const edge of edges.value) {\n        for (const marker of [edge.markerStart, edge.markerEnd]) {\n          createMarkers(marker);\n        }\n      }\n      return markers2.sort((a, b) => a.id.localeCompare(b.id));\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", _hoisted_1$3, [createElementVNode(\"defs\", null, [(openBlock(true), createElementBlock(Fragment, null, renderList(markers.value, marker => {\n        return openBlock(), createBlock(_sfc_main$6, {\n          id: marker.id,\n          key: marker.id,\n          type: marker.type,\n          color: marker.color,\n          width: marker.width,\n          height: marker.height,\n          markerUnits: marker.markerUnits,\n          \"stroke-width\": marker.strokeWidth,\n          orient: marker.orient\n        }, null, 8, [\"id\", \"type\", \"color\", \"width\", \"height\", \"markerUnits\", \"stroke-width\", \"orient\"]);\n      }), 128))])]);\n    };\n  }\n});\nconst __default__$4 = {\n  name: \"Edges\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$4 = /* @__PURE__ */defineComponent({\n  ...__default__$4,\n  setup(__props) {\n    const {\n      findNode,\n      getEdges,\n      elevateEdgesOnSelect\n    } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [createVNode(_sfc_main$5), (openBlock(true), createElementBlock(Fragment, null, renderList(unref(getEdges), edge => {\n        return openBlock(), createElementBlock(\"svg\", {\n          key: edge.id,\n          class: \"vue-flow__edges vue-flow__container\",\n          style: normalizeStyle({\n            zIndex: unref(getEdgeZIndex)(edge, unref(findNode), unref(elevateEdgesOnSelect))\n          })\n        }, [createVNode(unref(EdgeWrapper$1), {\n          id: edge.id\n        }, null, 8, [\"id\"])], 4);\n      }), 128)), createVNode(unref(ConnectionLine$1))], 64);\n    };\n  }\n});\nconst NodeWrapper = defineComponent({\n  name: \"Node\",\n  compatConfig: {\n    MODE: 3\n  },\n  props: [\"id\", \"resizeObserver\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      noPanClassName,\n      selectNodesOnDrag,\n      nodesSelectionActive,\n      multiSelectionActive,\n      emits,\n      removeSelectedNodes,\n      addSelectedNodes,\n      updateNodeDimensions,\n      onUpdateNodeInternals,\n      getNodeTypes,\n      nodeExtent,\n      elevateNodesOnSelect,\n      disableKeyboardA11y,\n      ariaLiveMessage,\n      snapToGrid,\n      snapGrid,\n      nodeDragThreshold,\n      nodesDraggable,\n      elementsSelectable,\n      nodesConnectable,\n      nodesFocusable\n    } = useVueFlow();\n    const nodeElement = ref(null);\n    provide(NodeRef, nodeElement);\n    provide(NodeId, props.id);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const updateNodePositions = useUpdateNodePositions();\n    const {\n      node,\n      parentNode\n    } = useNode(props.id);\n    const isDraggable = toRef(() => typeof node.draggable === \"undefined\" ? nodesDraggable.value : node.draggable);\n    const isSelectable = toRef(() => typeof node.selectable === \"undefined\" ? elementsSelectable.value : node.selectable);\n    const isConnectable = toRef(() => typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable);\n    const isFocusable = toRef(() => typeof node.focusable === \"undefined\" ? nodesFocusable.value : node.focusable);\n    const isInit = toRef(() => !!node.dimensions.width && !!node.dimensions.height);\n    const nodeCmp = computed(() => {\n      const name = node.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`node-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let nodeType = node.template || getNodeTypes.value[name];\n      if (typeof nodeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            nodeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (nodeType && typeof nodeType !== \"string\") {\n        return nodeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.NODE_TYPE_MISSING, nodeType));\n      return false;\n    });\n    const {\n      emit,\n      on\n    } = useNodeHooks(node, emits);\n    const dragging = useDrag({\n      id: props.id,\n      el: nodeElement,\n      disabled: () => !isDraggable.value,\n      selectable: isSelectable,\n      dragHandle: () => node.dragHandle,\n      onStart(event) {\n        emit.dragStart(event);\n      },\n      onDrag(event) {\n        emit.drag(event);\n      },\n      onStop(event) {\n        emit.dragStop(event);\n      },\n      onClick(event) {\n        onSelectNode(event);\n      }\n    });\n    const getClass = computed(() => node.class instanceof Function ? node.class(node) : node.class);\n    const getStyle = computed(() => {\n      const styles = (node.style instanceof Function ? node.style(node) : node.style) || {};\n      const width = node.width instanceof Function ? node.width(node) : node.width;\n      const height = node.height instanceof Function ? node.height(node) : node.height;\n      if (width) {\n        styles.width = typeof width === \"string\" ? width : `${width}px`;\n      }\n      if (height) {\n        styles.height = typeof height === \"string\" ? height : `${height}px`;\n      }\n      return styles;\n    });\n    const zIndex = toRef(() => Number(node.zIndex ?? getStyle.value.zIndex ?? 0));\n    onUpdateNodeInternals(updateIds => {\n      if (updateIds.includes(props.id) || !updateIds.length) {\n        updateInternals();\n      }\n    });\n    onMounted(() => {\n      watch(() => node.hidden, (isHidden = false, _, onCleanup) => {\n        if (!isHidden && nodeElement.value) {\n          props.resizeObserver.observe(nodeElement.value);\n          onCleanup(() => {\n            if (nodeElement.value) {\n              props.resizeObserver.unobserve(nodeElement.value);\n            }\n          });\n        }\n      }, {\n        immediate: true,\n        flush: \"post\"\n      });\n    });\n    watch([() => node.type, () => node.sourcePosition, () => node.targetPosition], () => {\n      nextTick(() => {\n        updateNodeDimensions([{\n          id: props.id,\n          nodeElement: nodeElement.value,\n          forceUpdate: true\n        }]);\n      });\n    });\n    watch([() => node.position.x, () => node.position.y, () => {\n      var _a;\n      return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.x;\n    }, () => {\n      var _a;\n      return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.y;\n    }, () => {\n      var _a;\n      return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.z;\n    }, zIndex, () => node.selected, () => node.dimensions.height, () => node.dimensions.width, () => {\n      var _a;\n      return (_a = parentNode.value) == null ? void 0 : _a.dimensions.height;\n    }, () => {\n      var _a;\n      return (_a = parentNode.value) == null ? void 0 : _a.dimensions.width;\n    }], ([newX, newY, parentX, parentY, parentZ, nodeZIndex]) => {\n      const xyzPos = {\n        x: newX,\n        y: newY,\n        z: nodeZIndex + (elevateNodesOnSelect.value ? node.selected ? 1e3 : 0 : 0)\n      };\n      if (typeof parentX !== \"undefined\" && typeof parentY !== \"undefined\") {\n        node.computedPosition = getXYZPos({\n          x: parentX,\n          y: parentY,\n          z: parentZ\n        }, xyzPos);\n      } else {\n        node.computedPosition = xyzPos;\n      }\n    }, {\n      flush: \"post\",\n      immediate: true\n    });\n    watch([() => node.extent, nodeExtent], ([nodeExtent2, globalExtent], [oldNodeExtent, oldGlobalExtent]) => {\n      if (nodeExtent2 !== oldNodeExtent || globalExtent !== oldGlobalExtent) {\n        clampPosition2();\n      }\n    });\n    if (node.extent === \"parent\" || typeof node.extent === \"object\" && \"range\" in node.extent && node.extent.range === \"parent\") {\n      until(() => isInit).toBe(true).then(clampPosition2);\n    } else {\n      clampPosition2();\n    }\n    return () => {\n      if (node.hidden) {\n        return null;\n      }\n      return h(\"div\", {\n        \"ref\": nodeElement,\n        \"data-id\": node.id,\n        \"class\": [\"vue-flow__node\", `vue-flow__node-${nodeCmp.value === false ? \"default\" : node.type || \"default\"}`, {\n          [noPanClassName.value]: isDraggable.value,\n          dragging: dragging == null ? void 0 : dragging.value,\n          draggable: isDraggable.value,\n          selected: node.selected,\n          selectable: isSelectable.value,\n          parent: node.isParent\n        }, getClass.value],\n        \"style\": {\n          visibility: isInit.value ? \"visible\" : \"hidden\",\n          zIndex: node.computedPosition.z ?? zIndex.value,\n          transform: `translate(${node.computedPosition.x}px,${node.computedPosition.y}px)`,\n          pointerEvents: isSelectable.value || isDraggable.value ? \"all\" : \"none\",\n          ...getStyle.value\n        },\n        \"tabIndex\": isFocusable.value ? 0 : void 0,\n        \"role\": isFocusable.value ? \"button\" : void 0,\n        \"aria-describedby\": disableKeyboardA11y.value ? void 0 : `${ARIA_NODE_DESC_KEY}-${vueFlowId}`,\n        \"aria-label\": node.ariaLabel,\n        \"onMouseenter\": onMouseEnter,\n        \"onMousemove\": onMouseMove,\n        \"onMouseleave\": onMouseLeave,\n        \"onContextmenu\": onContextMenu,\n        \"onClick\": onSelectNode,\n        \"onDblclick\": onDoubleClick,\n        \"onKeydown\": onKeyDown\n      }, [h(nodeCmp.value === false ? getNodeTypes.value.default : nodeCmp.value, {\n        id: node.id,\n        type: node.type,\n        data: node.data,\n        events: {\n          ...node.events,\n          ...on\n        },\n        selected: node.selected,\n        resizing: node.resizing,\n        dragging: dragging.value,\n        connectable: isConnectable.value,\n        position: node.computedPosition,\n        dimensions: node.dimensions,\n        isValidTargetPos: node.isValidTargetPos,\n        isValidSourcePos: node.isValidSourcePos,\n        parent: node.parentNode,\n        parentNodeId: node.parentNode,\n        zIndex: node.computedPosition.z ?? zIndex.value,\n        targetPosition: node.targetPosition,\n        sourcePosition: node.sourcePosition,\n        label: node.label,\n        dragHandle: node.dragHandle,\n        onUpdateNodeInternals: updateInternals\n      })]);\n    };\n    function clampPosition2() {\n      const nextPos = node.computedPosition;\n      if (snapToGrid.value) {\n        nextPos.x = snapGrid.value[0] * Math.round(nextPos.x / snapGrid.value[0]);\n        nextPos.y = snapGrid.value[1] * Math.round(nextPos.y / snapGrid.value[1]);\n      }\n      const {\n        computedPosition,\n        position\n      } = calcNextPosition(node, nextPos, emits.error, nodeExtent.value, parentNode.value);\n      if (node.computedPosition.x !== computedPosition.x || node.computedPosition.y !== computedPosition.y) {\n        node.computedPosition = {\n          ...node.computedPosition,\n          ...computedPosition\n        };\n      }\n      if (node.position.x !== position.x || node.position.y !== position.y) {\n        node.position = position;\n      }\n    }\n    function updateInternals() {\n      if (nodeElement.value) {\n        updateNodeDimensions([{\n          id: props.id,\n          nodeElement: nodeElement.value,\n          forceUpdate: true\n        }]);\n      }\n    }\n    function onMouseEnter(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseEnter({\n          event,\n          node\n        });\n      }\n    }\n    function onMouseMove(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseMove({\n          event,\n          node\n        });\n      }\n    }\n    function onMouseLeave(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseLeave({\n          event,\n          node\n        });\n      }\n    }\n    function onContextMenu(event) {\n      return emit.contextMenu({\n        event,\n        node\n      });\n    }\n    function onDoubleClick(event) {\n      return emit.doubleClick({\n        event,\n        node\n      });\n    }\n    function onSelectNode(event) {\n      if (isSelectable.value && (!selectNodesOnDrag.value || !isDraggable.value || nodeDragThreshold.value > 0)) {\n        handleNodeClick(node, multiSelectionActive.value, addSelectedNodes, removeSelectedNodes, nodesSelectionActive, false, nodeElement.value);\n      }\n      emit.click({\n        event,\n        node\n      });\n    }\n    function onKeyDown(event) {\n      if (isInputDOMNode(event) || disableKeyboardA11y.value) {\n        return;\n      }\n      if (elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        handleNodeClick(node, multiSelectionActive.value, addSelectedNodes, removeSelectedNodes, nodesSelectionActive, unselect, nodeElement.value);\n      } else if (isDraggable.value && node.selected && arrowKeyDiffs[event.key]) {\n        ariaLiveMessage.value = `Moved selected node ${event.key.replace(\"Arrow\", \"\").toLowerCase()}. New position, x: ${~~node.position.x}, y: ${~~node.position.y}`;\n        updateNodePositions({\n          x: arrowKeyDiffs[event.key].x,\n          y: arrowKeyDiffs[event.key].y\n        }, event.shiftKey);\n      }\n    }\n  }\n});\nconst NodeWrapper$1 = NodeWrapper;\nconst _hoisted_1$2 = {\n  height: \"0\",\n  width: \"0\"\n};\nconst __default__$3 = {\n  name: \"EdgeLabelRenderer\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$3 = /* @__PURE__ */defineComponent({\n  ...__default__$3,\n  setup(__props) {\n    const {\n      viewportRef\n    } = useVueFlow();\n    const teleportTarget = toRef(() => {\n      var _a;\n      return (_a = viewportRef.value) == null ? void 0 : _a.getElementsByClassName(\"vue-flow__edge-labels\")[0];\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", null, [(openBlock(), createElementBlock(\"foreignObject\", _hoisted_1$2, [(openBlock(), createBlock(Teleport, {\n        to: teleportTarget.value,\n        disabled: !teleportTarget.value\n      }, [renderSlot(_ctx.$slots, \"default\")], 8, [\"to\", \"disabled\"]))]))]);\n    };\n  }\n});\nfunction useNodesInitialized(options = {\n  includeHiddenNodes: false\n}) {\n  const {\n    nodes\n  } = useVueFlow();\n  return computed(() => {\n    if (nodes.value.length === 0) {\n      return false;\n    }\n    for (const node of nodes.value) {\n      if (options.includeHiddenNodes || !node.hidden) {\n        if ((node == null ? void 0 : node.handleBounds) === void 0 || node.dimensions.width === 0 || node.dimensions.height === 0) {\n          return false;\n        }\n      }\n    }\n    return true;\n  });\n}\nconst _hoisted_1$1 = {\n  class: \"vue-flow__nodes vue-flow__container\"\n};\nconst __default__$2 = {\n  name: \"Nodes\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$2 = /* @__PURE__ */defineComponent({\n  ...__default__$2,\n  setup(__props) {\n    const {\n      getNodes,\n      updateNodeDimensions,\n      emits\n    } = useVueFlow();\n    const nodesInitialized = useNodesInitialized();\n    const resizeObserver = ref();\n    watch(nodesInitialized, isInit => {\n      if (isInit) {\n        nextTick(() => {\n          emits.nodesInitialized(getNodes.value);\n        });\n      }\n    }, {\n      immediate: true\n    });\n    onMounted(() => {\n      resizeObserver.value = new ResizeObserver(entries => {\n        const updates = entries.map(entry => {\n          const id2 = entry.target.getAttribute(\"data-id\");\n          return {\n            id: id2,\n            nodeElement: entry.target,\n            forceUpdate: true\n          };\n        });\n        nextTick(() => updateNodeDimensions(updates));\n      });\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      return (_a = resizeObserver.value) == null ? void 0 : _a.disconnect();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$1, [resizeObserver.value ? (openBlock(true), createElementBlock(Fragment, {\n        key: 0\n      }, renderList(unref(getNodes), (node, __, ___, _cached) => {\n        const _memo = [node.id];\n        if (_cached && _cached.key === node.id && isMemoSame(_cached, _memo)) return _cached;\n        const _item = (openBlock(), createBlock(unref(NodeWrapper$1), {\n          id: node.id,\n          key: node.id,\n          \"resize-observer\": resizeObserver.value\n        }, null, 8, [\"id\", \"resize-observer\"]));\n        _item.memo = _memo;\n        return _item;\n      }, _cache, 0), 128)) : createCommentVNode(\"\", true)]);\n    };\n  }\n});\nfunction useStylesLoadedWarning() {\n  const {\n    emits\n  } = useVueFlow();\n  onMounted(() => {\n    if (isDev()) {\n      const pane = document.querySelector(\".vue-flow__pane\");\n      if (pane && !(window.getComputedStyle(pane).zIndex === \"1\")) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_STYLES));\n      }\n    }\n  });\n}\nconst _hoisted_1 = /* @__PURE__ */createElementVNode(\"div\", {\n  class: \"vue-flow__edge-labels\"\n}, null, -1);\nconst __default__$1 = {\n  name: \"VueFlow\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main$1 = /* @__PURE__ */defineComponent({\n  ...__default__$1,\n  props: {\n    id: {},\n    modelValue: {},\n    nodes: {},\n    edges: {},\n    edgeTypes: {},\n    nodeTypes: {},\n    connectionMode: {},\n    connectionLineType: {},\n    connectionLineStyle: {\n      default: void 0\n    },\n    connectionLineOptions: {\n      default: void 0\n    },\n    connectionRadius: {},\n    isValidConnection: {\n      type: [Function, null],\n      default: void 0\n    },\n    deleteKeyCode: {\n      default: void 0\n    },\n    selectionKeyCode: {\n      default: void 0\n    },\n    multiSelectionKeyCode: {\n      default: void 0\n    },\n    zoomActivationKeyCode: {\n      default: void 0\n    },\n    panActivationKeyCode: {\n      default: void 0\n    },\n    snapToGrid: {\n      type: Boolean,\n      default: void 0\n    },\n    snapGrid: {},\n    onlyRenderVisibleElements: {\n      type: Boolean,\n      default: void 0\n    },\n    edgesUpdatable: {\n      type: [Boolean, String],\n      default: void 0\n    },\n    nodesDraggable: {\n      type: Boolean,\n      default: void 0\n    },\n    nodesConnectable: {\n      type: Boolean,\n      default: void 0\n    },\n    nodeDragThreshold: {},\n    elementsSelectable: {\n      type: Boolean,\n      default: void 0\n    },\n    selectNodesOnDrag: {\n      type: Boolean,\n      default: void 0\n    },\n    panOnDrag: {\n      type: [Boolean, Array],\n      default: void 0\n    },\n    minZoom: {},\n    maxZoom: {},\n    defaultViewport: {},\n    translateExtent: {},\n    nodeExtent: {},\n    defaultMarkerColor: {},\n    zoomOnScroll: {\n      type: Boolean,\n      default: void 0\n    },\n    zoomOnPinch: {\n      type: Boolean,\n      default: void 0\n    },\n    panOnScroll: {\n      type: Boolean,\n      default: void 0\n    },\n    panOnScrollSpeed: {},\n    panOnScrollMode: {},\n    paneClickDistance: {},\n    zoomOnDoubleClick: {\n      type: Boolean,\n      default: void 0\n    },\n    preventScrolling: {\n      type: Boolean,\n      default: void 0\n    },\n    selectionMode: {},\n    edgeUpdaterRadius: {},\n    fitViewOnInit: {\n      type: Boolean,\n      default: void 0\n    },\n    connectOnClick: {\n      type: Boolean,\n      default: void 0\n    },\n    applyDefault: {\n      type: Boolean,\n      default: void 0\n    },\n    autoConnect: {\n      type: [Boolean, Function],\n      default: void 0\n    },\n    noDragClassName: {},\n    noWheelClassName: {},\n    noPanClassName: {},\n    defaultEdgeOptions: {},\n    elevateEdgesOnSelect: {\n      type: Boolean,\n      default: void 0\n    },\n    elevateNodesOnSelect: {\n      type: Boolean,\n      default: void 0\n    },\n    disableKeyboardA11y: {\n      type: Boolean,\n      default: void 0\n    },\n    edgesFocusable: {\n      type: Boolean,\n      default: void 0\n    },\n    nodesFocusable: {\n      type: Boolean,\n      default: void 0\n    },\n    autoPanOnConnect: {\n      type: Boolean,\n      default: void 0\n    },\n    autoPanOnNodeDrag: {\n      type: Boolean,\n      default: void 0\n    },\n    autoPanSpeed: {}\n  },\n  emits: [\"nodesChange\", \"edgesChange\", \"nodesInitialized\", \"miniMapNodeClick\", \"miniMapNodeDoubleClick\", \"miniMapNodeMouseEnter\", \"miniMapNodeMouseMove\", \"miniMapNodeMouseLeave\", \"connect\", \"connectStart\", \"connectEnd\", \"clickConnectStart\", \"clickConnectEnd\", \"moveStart\", \"move\", \"moveEnd\", \"selectionDragStart\", \"selectionDrag\", \"selectionDragStop\", \"selectionContextMenu\", \"selectionStart\", \"selectionEnd\", \"viewportChangeStart\", \"viewportChange\", \"viewportChangeEnd\", \"paneReady\", \"init\", \"paneScroll\", \"paneClick\", \"paneContextMenu\", \"paneMouseEnter\", \"paneMouseMove\", \"paneMouseLeave\", \"updateNodeInternals\", \"error\", \"edgeContextMenu\", \"edgeMouseEnter\", \"edgeMouseMove\", \"edgeMouseLeave\", \"edgeDoubleClick\", \"edgeClick\", \"edgeUpdateStart\", \"edgeUpdate\", \"edgeUpdateEnd\", \"nodeDoubleClick\", \"nodeClick\", \"nodeMouseEnter\", \"nodeMouseMove\", \"nodeMouseLeave\", \"nodeContextMenu\", \"nodeDragStart\", \"nodeDrag\", \"nodeDragStop\", \"update:modelValue\", \"update:nodes\", \"update:edges\"],\n  setup(__props, {\n    expose: __expose,\n    emit\n  }) {\n    const props = __props;\n    const slots = useSlots();\n    const modelValue = useVModel(props, \"modelValue\", emit);\n    const modelNodes = useVModel(props, \"nodes\", emit);\n    const modelEdges = useVModel(props, \"edges\", emit);\n    const instance = useVueFlow(props);\n    const dispose = useWatchProps({\n      modelValue,\n      nodes: modelNodes,\n      edges: modelEdges\n    }, props, instance);\n    useHooks(emit, instance.hooks);\n    useOnInitHandler();\n    useStylesLoadedWarning();\n    provide(Slots, slots);\n    onUnmounted(() => {\n      dispose();\n    });\n    __expose(instance);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: unref(instance).vueFlowRef,\n        class: \"vue-flow\"\n      }, [createVNode(_sfc_main$8, null, {\n        default: withCtx(() => [createVNode(_sfc_main$4), _hoisted_1, createVNode(_sfc_main$2), renderSlot(_ctx.$slots, \"zoom-pane\")]),\n        _: 3\n      }), renderSlot(_ctx.$slots, \"default\"), createVNode(_sfc_main$7)], 512);\n    };\n  }\n});\nconst __default__ = {\n  name: \"Panel\",\n  compatConfig: {\n    MODE: 3\n  }\n};\nconst _sfc_main = /* @__PURE__ */defineComponent({\n  ...__default__,\n  props: {\n    position: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const {\n      userSelectionActive\n    } = useVueFlow();\n    const positionClasses = computed(() => `${props.position}`.split(\"-\"));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\"vue-flow__panel\", positionClasses.value]),\n        style: normalizeStyle({\n          pointerEvents: unref(userSelectionActive) ? \"none\" : \"all\"\n        })\n      }, [renderSlot(_ctx.$slots, \"default\")], 6);\n    };\n  }\n});\nfunction useConnection() {\n  const {\n    connectionStartHandle: startHandle,\n    connectionEndHandle: endHandle,\n    connectionStatus: status,\n    connectionPosition: position\n  } = useVueFlow();\n  return {\n    startHandle,\n    endHandle,\n    status,\n    position\n  };\n}\nfunction useHandleConnections(params) {\n  const {\n    type,\n    id: id2,\n    nodeId,\n    onConnect,\n    onDisconnect\n  } = params;\n  const {\n    connectionLookup\n  } = useVueFlow();\n  const _nodeId = useNodeId();\n  const currentNodeId = toRef(() => toValue$1(nodeId) ?? _nodeId);\n  const handleType = toRef(() => toValue$1(type));\n  const handleId = toRef(() => toValue$1(id2) ?? null);\n  const prevConnections = ref(null);\n  const connections = ref();\n  watch(() => connectionLookup.value.get(`${currentNodeId.value}-${handleType.value}-${handleId.value}`), nextConnections => {\n    if (areConnectionMapsEqual(connections.value, nextConnections)) {\n      return;\n    }\n    connections.value = nextConnections;\n  }, {\n    immediate: true\n  });\n  watch([connections, () => typeof onConnect !== \"undefined\", () => typeof onDisconnect !== \"undefined\"], ([currentConnections = /* @__PURE__ */new Map()]) => {\n    if (prevConnections.value && prevConnections.value !== currentConnections) {\n      handleConnectionChange(prevConnections.value, currentConnections, onDisconnect);\n      handleConnectionChange(currentConnections, prevConnections.value, onConnect);\n    }\n    prevConnections.value = currentConnections;\n  }, {\n    immediate: true\n  });\n  return computed(() => {\n    if (!connections.value) {\n      return [];\n    }\n    return Array.from(connections.value.values());\n  });\n}\nfunction useNodesData(_nodeIds) {\n  const {\n    findNode\n  } = useVueFlow();\n  return computed({\n    get() {\n      const nodeIds = toValue$1(_nodeIds);\n      if (!Array.isArray(nodeIds)) {\n        const node = findNode(nodeIds);\n        if (node) {\n          return {\n            id: node.id,\n            type: node.type,\n            data: node.data ?? null\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const nodeId of nodeIds) {\n        const node = findNode(nodeId);\n        if (node) {\n          data.push({\n            id: node.id,\n            type: node.type,\n            data: node.data ?? null\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set node data via useNodesData. This is not supported.\");\n    }\n  });\n}\nfunction useEdgesData(_edgeIds) {\n  const {\n    findEdge\n  } = useVueFlow();\n  return computed({\n    get() {\n      const edgeIds = toValue$1(_edgeIds);\n      if (!Array.isArray(edgeIds)) {\n        const edge = findEdge(edgeIds);\n        if (edge) {\n          return {\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const edgeId of edgeIds) {\n        const edge = findEdge(edgeId);\n        if (edge) {\n          data.push({\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set edge data via useEdgesData. This is not supported.\");\n    }\n  });\n}\nexport { _sfc_main$d as BaseEdge, BezierEdge$1 as BezierEdge, ConnectionLineType, ConnectionMode, _sfc_main$3 as EdgeLabelRenderer, _sfc_main$e as EdgeText, ErrorCode, _sfc_main$f as Handle, MarkerType, NodeId as NodeIdInjection, PanOnScrollMode, _sfc_main as Panel, PanelPosition, Position, SelectionMode, SimpleBezierEdge$1 as SimpleBezierEdge, SmoothStepEdge$1 as SmoothStepEdge, StepEdge$1 as StepEdge, StraightEdge$1 as StraightEdge, _sfc_main$1 as VueFlow, VueFlowError, VueFlow as VueFlowInjection, addEdge, applyChanges, applyEdgeChanges, applyNodeChanges, clamp, connectionExists, defaultEdgeTypes, defaultNodeTypes, getBezierEdgeCenter, getBezierPath, getBoundsofRects, getConnectedEdges, getIncomers, getMarkerId, getNodesInside, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSimpleEdgeCenter, getSmoothStepPath, getStraightPath, getTransformForBounds, rendererPointToPoint as graphPosToZoomedPos, isEdge, isErrorOfType, isGraphEdge, isGraphNode, isNode, pointToRendererPoint, rendererPointToPoint, updateEdge, useConnection, useEdge, useEdgesData, useGetPointerPosition, useHandle, useHandleConnections, useKeyPress, useNode, useNodeId, useNodesData, useNodesInitialized, useVueFlow, useZoomPanHelper };","map":{"version":3,"names":["getCurrentScope","onScopeDispose","isRef","reactive","unref","toRefs","toRefs$1","customRef","ref","readonly","watch","getCurrentInstance","nextTick","computed","toRef","toValue","toValue$1","onMounted","markRaw","inject","effectScope","onBeforeMount","defineComponent","createPropsRestProxy","onUnmounted","openBlock","createElementBlock","normalizeClass","renderSlot","h","normalizeStyle","createCommentVNode","createElementVNode","mergeProps","createBlock","resolveDynamicComponent","Fragment","createTextVNode","toDisplayString","useAttrs","provide","onBeforeUnmount","createVNode","withCtx","resolveComponent","renderList","Teleport","isMemoSame","useSlots","tryOnScopeDispose","fn","r","toReactive","objectRef","proxy","Proxy","get","_","p","receiver","Reflect","value","set","deleteProperty","has","ownKeys","Object","keys","getOwnPropertyDescriptor","enumerable","configurable","isClient","window","document","isDef$1","val","toString","prototype","isObject","call","noop$2","createFilterWrapper","filter2","wrapper","args","Promise","resolve","reject","apply","thisArg","then","catch","bypassFilter","invoke","pausableFilter","extendFilter","isActive","pause","resume","eventFilter","promiseTimeout","ms","throwOnTimeout","reason","setTimeout","watchWithFilter","source","cb","options","watchOptions","watchPausable","stop","result","Array","isArray","from","length","key","v","_a","replaceRef","copy","newObject","setPrototypeOf","getPrototypeOf","createUntil","isNot","toMatch","condition","flush","deep","timeout","timeout2","watcher","immediate","promises","push","finally","race","toBe","v1","v2","toBeTruthy","Boolean","toBeNull","toBeUndefined","toBeNaN","Number","isNaN","toContains","array2","includes","changed","changedTimes","n","count","instance","not","until","unrefElement","elRef","plain","$el","defaultWindow","useEventListener","target","events","listeners","cleanups","cleanup","forEach","register","el","event","listener","options2","addEventListener","removeEventListener","stopWatch","optionsClone","flatMap","map","createKeyPredicate$1","keyFilter","onKeyStroke","handler","eventName","passive","dedupe","predicate","e","repeat","cloneFnJSON","JSON","parse","stringify","useVModel","props","emit","_b","_c","clone","defaultValue","shouldEmit","vm","_emit","$emit","bind","cloneFn","getValue","triggerEmit","initialValue","isUpdating","noop$1","dispatch","i","arguments","t","test","Error","Dispatch","parseTypenames$1","typenames","types","trim","split","name","indexOf","slice","hasOwnProperty","type","constructor","on","typename","callback","T","get$1","set$1","that","c","concat","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","prefix","space","local","creatorInherit","document2","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","creator","none","selector","selector2","querySelector","selection_select","select2","groups","_groups","m","subgroups","j","group","subgroup","node","subnode","__data__","Selection$1","_parents","array","x","empty","selectorAll","querySelectorAll","arrayAll","selection_selectAll","parents","matcher","matches","childMatcher","find","childFind","match","children","childFirst","firstElementChild","selection_selectChild","select","filter","childrenFilter","selection_selectChildren","selectAll","selection_filter","sparse","update","selection_enter","_enter","EnterNode","parent","datum2","_next","_parent","appendChild","child","insertBefore","next","constant$3","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","nodeByKeyValue","Map","keyValues","keyValue","delete","datum","selection_data","arraylike","enterGroup","updateGroup","exitGroup","i0","i1","previous","_exit","selection_exit","selection_join","onenter","onupdate","onexit","selection","append","remove","merge","order","selection_merge","context","selection2","groups0","groups1","m0","m1","Math","min","merges","group0","group1","selection_order","compareDocumentPosition","parentNode","selection_sort","compare","ascending","compareNode","a","b","sortgroups","sortgroup","sort","NaN","selection_call","selection_nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove$1","removeAttribute","attrRemoveNS$1","removeAttributeNS","attrConstant$1","setAttribute","attrConstantNS$1","setAttributeNS","attrFunction$1","attrFunctionNS$1","selection_attr","getAttributeNS","getAttribute","each","defaultView","styleRemove$1","style","removeProperty","styleConstant$1","priority","setProperty","styleFunction$1","selection_style","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","_node","_names","add","join","splice","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textContent","textConstant$1","textFunction$1","selection_text","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_html","raise","nextSibling","selection_raise","lower","previousSibling","firstChild","selection_lower","selection_append","create2","constantNull","selection_insert","before","removeChild","selection_remove","selection_cloneShallow","cloneNode","selection_cloneDeep","selection_clone","selection_datum","property","contextListener","parseTypenames","onRemove","__on","o","onAdd","selection_on","dispatchEvent","params","window2","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection_selection","selectChild","selectChildren","nodes","attr","classed","text","html","insert","Symbol","iterator","sourceEvent","sourceEvent2","pointer","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","nonpassive","nonpassivecapture","capture","nopropagation$1","stopImmediatePropagation","noevent$1","preventDefault","dragDisable","view","root2","__noselect","MozUserSelect","yesdrag","noclick","constant$2","DragEvent","subject","identifier","active","dx","dy","dispatch2","defineProperties","defaultFilter$1","ctrlKey","button","defaultContainer","defaultSubject","d","defaultTouchable$1","navigator","maxTouchPoints","drag","container","touchable","gestures","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","drag2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","mouse","touches","changedTouches","clearTimeout","container2","touch","s","event2","touch2","p0","clickDistance","sqrt","define","factory","extend","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","channels","assign","displayable","rgb","hex","color_formatHex","formatHex","formatHex8","color_formatHex8","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","format","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","k","pow","clamp","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","max","round","h2","Hsl","hsl","m2","hsl2rgb","clamph","clampt","constant$1","linear","exponential","gamma","nogamma","interpolateRgb","rgbGamma","color2","rgb$1","start2","end","interpolateNumber","reA","reB","zero","one","interpolateString","bi","lastIndex","am","bm","bs","q","index","i2","degrees","PI","identity$1","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","f","atan2","atan","svgNode","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","parseSvg","transform","baseVal","consolidate","matrix","interpolateTransform","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","exp","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom2","p1","ux0","uy0","w0","ux1","uy1","w1","d2","S","log","d1","b0","b1","r0","r1","coshr0","u","duration","SQRT2","_1","_2","_4","frame","timeout$1","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","restart","delay","time","TypeError","sleep","Infinity","timerFlush","wake","nap","poke","now2","t0","t1","t2","clearInterval","setInterval","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id2","timing","schedules","__transition","tween","ease","state","init","schedule2","self","tick","interrupt","empty2","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","_id","tweenValue","transition2","interpolate","attrRemove","attrRemoveNS","attrConstant","interpolate2","value1","string00","string1","interpolate0","string0","attrConstantNS","attrFunction","string10","attrFunctionNS","transition_attr","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","_name","transition_merge","start","every","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","children2","inherit2","Selection","transition_selection","styleNull","styleRemove","styleConstant","styleFunction","styleMaybeRemove","listener0","remove2","transition_style","styleTween","styleInterpolate","transition_styleTween","textConstant","textFunction","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","cancel","id","selection_prototype","transition","cubicInOut","defaultTiming","inherit","selection_transition","constant","ZoomEvent","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","identity","nopropagation","noevent","defaultFilter","defaultExtent","SVGElement","hasAttribute","viewBox","width","height","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","zoom","constrain","wheelDelta","scaleExtent","touchstarting","touchfirst","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","collection","scaleBy","scaleTo","k0","k1","centroid","translateBy","translateTo","extent2","w","clean","__zooming","Gesture","taps","touch0","touch1","wheel","wheelidled","x0","y0","moved","shiftKey","started","l0","l1","dp","dl","hypot","Position","Position2","SelectionMode","SelectionMode2","ConnectionLineType","ConnectionLineType2","ConnectionMode","ConnectionMode2","MarkerType","MarkerType2","PanOnScrollMode","PanOnScrollMode2","PanelPosition","PanelPosition2","isInputDOMNode","composedPath","closest","nodeName","wasModifierPressed","metaKey","isKeyMatch","pressedKey","keyToMatch","pressedKeys","isKeyUp","keyCombination","values","createKeyPredicate","code","keyOrCode","useKeyOrCode","some","keysToWatch","useKeyPress","actInsideInputWithModifier","isPressed","modifierPressed","Set","currentFilter","createKeyFilterFn","nextKeyFilter","previousKeyFilter","reset","preventAction","clear","keyFilter2","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","elementSelectionKeys","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","nodeToRect","computedPosition","dimensions","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","getDimensions","offsetWidth","offsetHeight","clampPosition","position","getHostForElement","element","doc","getRootNode","isEdge","isGraphEdge","isNode","isGraphNode","isNumeric","isFinite","isRect","obj","parseNode","existingNode","initialState","z","handleBounds","draggable","selectable","connectable","focusable","selected","dragging","resizing","initialized","isParent","isDef","parseEdge","edge","existingEdge","defaultEdgeOptions","sourceHandle","targetHandle","updatable","label","interactionWidth","getConnectedElements","nodeOrId","edges","dir","connectedIds","origin","getOutgoers","nodeOrId2","elements","nodeId","outgoers","getIncomers","incomers","getEdgeId","connectionExists","addEdge","edgeParams","defaults","warn","updateEdge","oldEdge","newConnection","foundEdge","rendererPointToPoint","tx","ty","tScale","pointToRendererPoint","snapToGrid","snapX","snapY","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","boxToRect","getBoundsofRects","rect1","rect2","getRectOfNodes","box","POSITIVE_INFINITY","NEGATIVE_INFINITY","getNodesInside","viewport","partially","excludeNonSelectableNodes","paneRect","visibleNodes","hidden","overlappingArea","notInitialized","partiallyVisible","area","isVisible","getConnectedEdges","nodesOrId","nodeIds","getTransformForBounds","bounds","minZoom","maxZoom","padding","offset","xZoom","yZoom","clampedZoom","boundsCenterX","boundsCenterY","getXYZPos","parentPos","isParentSelected","findNode","getMarkerId","marker","vueFlowId","idPrefix","calcAutoPanVelocity","abs","calcAutoPan","pos","speed","distance2","xMovement","yMovement","handleParentExpand","updateItem","extendWidth","extendHeight","parentStyles","currWidth","replace","xDiff","yDiff","styleFunc","applyChanges","changes","addRemoveChanges","change","findIndex","item","elementIds","currentChange","expandParent","updateStyle","parentInit","applyEdgeChanges","applyNodeChanges","createSelectionChange","createAdditionChange","createNodeRemoveChange","createEdgeRemoveChange","getSelectionChanges","items","selectedIds","mutateItem","willBeSelected","createExtendedEventHook","defaultHandler","fns","hasDefaultHandler","hasListeners","off","offFn","trigger","param","all","hasSelector","current","parentElement","getDragItems","nodesDraggable","mousePos","dragItems","distance","getEventHandlerParams","extendedDragItems","dragItem","getExtentPadding","getParentExtent","currentExtent","right","bottom","getExtent","triggerError","parentExtent","VueFlowError","ErrorCode","NODE_EXTENT_INVALID","parentX","parentY","clampNodeExtent","calcNextPosition","nextPosition","nodeExtent","clampedPos","getHandlePosition","handle","fallbackPosition","Left","getNodeDimensions","Top","Right","Bottom","getHandle","handleId","isEdgeVisible","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","getEdgeZIndex","elevateEdgesOnSelect","hasZIndex","zIndex","ErrorCode2","messages","MISSING_STYLES","MISSING_VIEWPORT_DIMENSIONS","NODE_MISSING_PARENT","parentId","EDGE_SOURCE_MISSING","EDGE_TARGET_MISSING","EDGE_SOURCE_TARGET_SAME","EDGE_SOURCE_TARGET_MISSING","USEVUEFLOW_OPTIONS","isErrorOfType","error","isMouseEvent","getEventPosition","isMouseTriggered","evtX","evtY","isMacOs","userAgent","defaultValidHandleResult","handleDomNode","isValid","connection","endHandle","resetRecentHandle","getHandles","currentHandle","connectionHandles","getClosestHandle","connectionRadius","handles","validator","domNodes","elementsFromPoint","handleBelow","handleNodeId","handleType","getHandleType","validHandleResult","closestHandles","minDistance","hasValidHandle","hasTargetHandle","isValidHandle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","isTarget","elementBelow","elementFromPoint","handleToCheck","connectableEnd","isConnectable","Strict","sourceNode","targetNode","getHandleLookup","handleLookup","sourceHandles","targetHandles","edgeUpdaterType","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","productionEnvs","message","isDev","console","process","env","NODE_ENV","getHandleBounds","nodeElement","nodeBounds","handlesArray","handleNodeClick","multiSelectionActive","addSelectedNodes","removeSelectedNodes","nodesSelectionActive","unselect","nodeEl","blur","unrefVal","addEdgeToStore","EDGE_INVALID","updateEdgeAction","findEdge","shouldReplaceId","EDGE_NOT_FOUND","rest","newEdge","createGraphNodes","parentNodes","nextNodes","NODE_INVALID","parsed","updateConnectionLookup","connectionLookup","edgeId","sourceKey","targetKey","prevSource","prevTarget","handleConnectionChange","diff","areConnectionMapsEqual","createGraphEdges","nextEdges","onError","validEdges","edgeOrConnection","VueFlow","NodeId","NodeRef","EdgeId","EdgeRef","Slots","useDrag","vueFlowRef","snapGrid","noDragClassName","nodeDragThreshold","autoPanOnNodeDrag","autoPanSpeed","panBy","selectNodesOnDrag","removeSelectedElements","updateNodePositions","emits","useVueFlow","onStart","onDrag","onStop","onClick","disabled","dragHandle","dragHandler","containerBounds","lastPos","mousePosition","dragEvent","dragStarted","autoPanId","autoPanStarted","getPointerPosition","useGetPointerPosition","updateNodes","hasChange","currentNode","nodes2","autoPan","nextPos","startDrag","pointerPos","eventStart","eventDrag","xSnapped","ySnapped","eventEnd","cancelAnimationFrame","isDisabled","onCleanup","unrefDragHandle","useEdge","edgeEl","createEdgeHooks","doubleClick","click","mouseEnter","mouseMove","mouseLeave","contextMenu","updateStart","updateEnd","useEdgeHooks","edgeHooks","edgeDoubleClick","edgeClick","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeContextMenu","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","entries","reduce","hooks","alwaysValid","useHandle","onEdgeUpdate","onEdgeUpdateEnd","connectOnClick","connectionClickStartHandle","nodesConnectable","autoPanOnConnect","startConnection","updateConnection","endConnection","isValidConnectionProp","previousConnection","handlePointerDown","onPointerMove","connectionPosition","handle2","isValidConnectionHandler","closestHandle","prevActiveHandle","toggle","onPointerUp","connect","connectEnd","isValidTargetPos","isValidSourcePos","clickedHandle","connectStart","handleClick","clickConnectStart","connection2","isValid2","isOwnHandle","clickConnectEnd","useNodeId","useNode","NODE_NOT_FOUND","connectedEdges","createNodeHooks","dragStart","dragStop","useNodeHooks","nodeHooks","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","useUpdateNodePositions","getSelectedNodes","positionDiff","isShiftPressed","xVelo","yVelo","factor","positionDiffX","positionDiffY","nodeUpdates","DEFAULT_PADDING","noop","initialViewportHelper","zoomIn","zoomOut","zoomTo","fitView","setCenter","fitBounds","project","screenToFlowCoordinate","flowToScreenCoordinate","setViewport","setTransform","getViewport","getTransform","viewportInitialized","useViewportHelper","d3Selection","d3Zoom","transformViewport","zoom22","clampedX","clampedY","nextTransform","isInitialized","zoomLevel","includeHiddenNodes","nodesToFit","nextZoom","centerX","centerY","domX","domY","correctedPosition","onEnd","useWatchProps","models","store","scope","run","watchModelValue","pauseModel","pauseStore","immediateStore","modelValue","setElements","watchNodesValue","setNodes","watchEdgesValue","setEdges","watchMaxZoom","setMaxZoom","watchMinZoom","setMinZoom","watchTranslateExtent","setTranslateExtent","watchNodeExtent","setNodeExtent","watchApplyDefault","applyDefault","watchAutoConnect","autoConnector","autoConnect","addEdges","autoConnectEnabled","onConnect","watchRest","skip","propKey","propValue","storeRef","nextValue","runAll","useZoomPanHelper","viewportHelper","transitionOpts","opts","createHooks","edgesChange","nodesChange","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","paneReady","move","moveStart","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","updateNodeInternals","err","useHooks","useState","viewportRef","nodeTypes","edgeTypes","d3ZoomHandler","selectionMode","Full","paneDragging","preventScrolling","zoomOnScroll","zoomOnPinch","zoomOnDoubleClick","panOnScroll","panOnScrollSpeed","panOnScrollMode","Free","paneClickDistance","panOnDrag","edgeUpdaterRadius","onlyRenderVisibleElements","defaultViewport","userSelectionActive","userSelectionRect","defaultMarkerColor","connectionLineStyle","connectionLineType","connectionLineOptions","Bezier","Loose","connectionStartHandle","connectionEndHandle","edgesUpdatable","edgesFocusable","nodesFocusable","elementsSelectable","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","deleteKeyCode","panActivationKeyCode","fitViewOnInit","fitViewOnInitDone","noWheelClassName","noPanClassName","elevateNodesOnSelect","disableKeyboardA11y","ariaLiveMessage","storeOptionsToSkip","useActions","nodeLookup","edgeLookup","ids","updateIds","getIncomers$1","getOutgoers$1","getConnectedEdges$1","updateNodeDimensions","updates","viewportNode","m22","DOMMatrixReadOnly","doUpdate","forceUpdate","elementSelectionHandler","edgeIds","changedNodes","changedEdges","nodeChanges","addSelectedEdges","addSelectedElements","nodesToUnselect","removeSelectedEdges","edgesToUnselect","edgeChanges","changes2","curr","selectionChange","setPaneClickDistance","setInteractive","isInteractive","Function","nextElements","addNodes","graphNodes","removeNodes","removeConnectedEdges","removeChildren","nodesToRemove","createEdgeRemovalChanges","deletable","createChildrenRemovalChanges","currNode","removeEdges","edgesToRemove","currEdge","updateEdge2","updateEdgeData","dataUpdate","nextData","applyNodeChanges2","applyEdgeChanges2","updateNode","nodeUpdate","nextNode","updateNodeData","startHandle","isClick","status","getNodeRect","nodeOrRect","isRectObj","nodeRect","getIntersectingNodes","isRect2","intersections","currNodeRect","isNodeIntersecting","delta","constrainedTransform","transformChanged","setState","exclude","setSkippedOptions","option","toObject","__","___","____","_____","______","_______","_________","fromObject","$reset","resetState","updatedTransform","bbox","$destroy","_hoisted_1$9","__default__$f","compatConfig","MODE","_sfc_main$f","default","String","connectableStart","setup","__props","expose","__expose","isConnectableStart","isConnectableEnd","isConnecting","_d","_e","_f","isClickConnecting","existingBounds","nextBounds","onPointerDown","_ctx","_cache","ref_key","class","connecting","connectablestart","connectableend","connectionindicator","onMousedown","onTouchstartPassive","$slots","DefaultNode","sourcePosition","targetPosition","_label","inheritAttrs","DefaultNode$1","OutputNode","OutputNode$1","InputNode","InputNode$1","_hoisted_1$8","_hoisted_2$2","_hoisted_3$1","__default__$e","_sfc_main$e","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","getBox","nextBox","getBBox","rx","ry","$attrs","_hoisted_1$7","_hoisted_2$1","__default__$d","_sfc_main$d","labelX","labelY","path","markerStart","markerEnd","pathEl","interactionEl","labelEl","attrs","fill","getSimpleEdgeCenter","sourceX","sourceY","targetX","targetY","xOffset","yOffset","getBezierEdgeCenter","sourceControlX","sourceControlY","targetControlX","targetControlY","offsetX","offsetY","calculateControlOffset","curvature","getControlWithCurvature","x1","y1","ctX","ctY","getBezierPath","bezierPathParams","getControl","getSimpleBezierPath","simpleBezierPathParams","handleDirections","getDirection","getPoints","center","sourceDir","targetDir","sourceGapped","targetGapped","dirAccessor","currDir","points","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","flipSourceTarget","sourceGapPoint","targetGapPoint","maxXDistance","maxYDistance","pathPoints","getBend","bendSize","xDir2","yDir2","xDir","yDir","getSmoothStepPath","smoothStepPathParams","borderRadius","res","segment","getStraightPath","straightEdgeParams","StraightEdge","StraightEdge$1","SmoothStepEdge","SmoothStepEdge$1","StepEdge","StepEdge$1","BezierEdge","BezierEdge$1","SimpleBezierEdge","SimpleBezierEdge$1","defaultNodeTypes","input","output","defaultEdgeTypes","straight","step","smoothstep","simplebezier","useGetters","getNode","getEdge","getEdgeTypes","getNodeTypes","getNodes","getEdges","visibleEdges","getElements","selectedNodes","getSelectedEdges","selectedEdges","getSelectedElements","getNodesInitialized","initializedNodes","areNodesInitialized","Storage","currentId","flows","getInstance","vueApp","appContext","app","existingInstance","config","globalProperties","$vueFlowStorage","flow","preloadedState","reactiveState","hooksOn","charAt","toUpperCase","nodesMap","edgesMap","getters","actions","vueFlowVersion","getId","idOrOpts","storage","isOptsObj","vueFlow","injectedState","vfScope","shouldApplyDefault","nodesChangeHandler","edgesChangeHandler","onNodesChange","onEdgesChange","storedInstance","useResizeHandler","viewportEl","resizeObserver","rendererNode","updateDimensions","ResizeObserver","observe","unobserve","__default__$c","_sfc_main$c","_hoisted_1$6","__default__$b","_sfc_main$b","updatePositions","focus","preventScroll","selectedNodesBBox","innerStyle","onContextMenu","onKeyDown","tabIndex","onContextmenu","onKeydown","getMousePosition","__default__$a","_sfc_main$a","isSelecting","selectionKeyPressed","prevSelectedNodesCount","prevSelectedEdgesCount","edgeIdLookup","hasActiveSelection","selectionInProgress","selectionStarted","deleteKeyPressed","multiSelectKeyPressed","isKeyPressed","wrapHandler","containerRef","resetUserSelection","onWheel","setPointerCapture","pointerId","startX","startY","mouseX","mouseY","nextUserSelectRect","Partial","selectedEdgeIds","selectedNodeIds","selectedNode","releasePointerCapture","$event","onWheelPassive","onPointerenter","onPointerdown","onPointermove","onPointerup","onPointerleave","__default__$9","_sfc_main$9","isHidden","__default__$8","_sfc_main$8","storeD3Zoom","storeD3Selection","storeD3ZoomHandler","isZoomingOrPanning","isPanScrolling","panScrollTimeout","zoomedWithRightMouseButton","mouseButton","prevTransform","panKeyPressed","zoomKeyPressed","shouldPanOnDrag","shouldPanOnScroll","viewportElement","flowTransform","eventToFlowTransform","isRightClickPan","viewChanged","zoomScroll","pinchZoom","eventButton","isWrappedWithClass","buttonAllowed","scrollEventEnabled","currentZoom","_isMacOs","pinchDelta","deltaNormalize","deltaX","Vertical","Horizontal","nextViewport","invalidEvent","scrollEventsDisabled","pan","usedButton","prevViewport","eventTransform","className","_hoisted_1$5","_hoisted_2","_hoisted_3","__default__$7","_sfc_main$7","useOnInitHandler","vfInstance","shiftX","shift","shiftY","EdgeAnchor","radius","cx","cy","stroke","EdgeAnchor$1","EdgeWrapper","slots","mouseOver","updating","isSelectable","isUpdatable","isFocusable","edgeClass","edgeStyle","edgeCmp","slot","edgeType","template","components","EDGE_TYPE_MISSING","pathOptions","sourceNodeHandles","targetNodeHandles","animated","inactive","onEdgeClick","onEdgeContextMenu","onDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","ariaLabel","sourceHandleId","targetHandleId","onEdgeUpdaterSourceMouseDown","onMouseenter","onEdgeUpdaterMouseEnter","onMouseout","onEdgeUpdaterMouseOut","onEdgeUpdaterTargetMouseDown","handleEdgeUpdater","isSourceHandle","EdgeWrapper$1","oppositePosition","ConnectionLine","connectionLineComponent","fromNode","_a2","toNode","toXY","startHandleId","fromHandleBounds","fromHandle","fromPosition","fromX","fromY","toHandle","_a3","toPosition","dAttr","pathParams","Step","SmoothStep","SimpleBezier","ConnectionLine$1","_hoisted_1$4","__default__$6","_sfc_main$6","markerUnits","orient","strokeWidth","refX","refY","markerWidth","markerHeight","ArrowClosed","Arrow","_hoisted_1$3","__default__$5","_sfc_main$5","defaultColor","markers","markers2","createMarkers","markerId","localeCompare","__default__$4","_sfc_main$4","NodeWrapper","onUpdateNodeInternals","isDraggable","isInit","nodeCmp","nodeType","NODE_TYPE_MISSING","onSelectNode","getClass","getStyle","styles","updateInternals","newX","newY","parentZ","nodeZIndex","xyzPos","nodeExtent2","globalExtent","oldNodeExtent","oldGlobalExtent","clampPosition2","visibility","pointerEvents","onMouseEnter","onMouseMove","onMouseLeave","parentNodeId","NodeWrapper$1","_hoisted_1$2","__default__$3","_sfc_main$3","teleportTarget","getElementsByClassName","to","useNodesInitialized","_hoisted_1$1","__default__$2","_sfc_main$2","entry","disconnect","_cached","_memo","_item","memo","useStylesLoadedWarning","pane","_hoisted_1","__default__$1","_sfc_main$1","modelNodes","modelEdges","dispose","__default__","_sfc_main","positionClasses","useConnection","useHandleConnections","onDisconnect","_nodeId","currentNodeId","prevConnections","connections","nextConnections","currentConnections","useNodesData","_nodeIds","useEdgesData","_edgeIds","BaseEdge","EdgeLabelRenderer","EdgeText","Handle","NodeIdInjection","Panel","VueFlowInjection","graphPosToZoomedPos"],"sources":["D:/poc-ai-workflow/node_modules/@vue-flow/core/dist/vue-flow-core.mjs"],"sourcesContent":["import { getCurrentScope, onScopeDispose, isRef, reactive, unref, toRefs as toRefs$1, customRef, ref, readonly, watch, getCurrentInstance, nextTick, computed, toRef, toValue as toValue$1, onMounted, markRaw, inject, effectScope, onBeforeMount, defineComponent, createPropsRestProxy, onUnmounted, openBlock, createElementBlock, normalizeClass, renderSlot, h, normalizeStyle, createCommentVNode, createElementVNode, mergeProps, createBlock, resolveDynamicComponent, Fragment, createTextVNode, toDisplayString, useAttrs, provide, onBeforeUnmount, createVNode, withCtx, resolveComponent, renderList, Teleport, isMemoSame, useSlots } from \"vue\";\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction toValue(r) {\n  return typeof r === \"function\" ? r() : unref(r);\n}\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef))\n    return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value))\n        objectRef.value[p].value = value;\n      else\n        objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\nconst isClient = typeof window !== \"undefined\" && typeof document !== \"undefined\";\nconst isDef$1 = (val) => typeof val !== \"undefined\";\nconst toString = Object.prototype.toString;\nconst isObject = (val) => toString.call(val) === \"[object Object]\";\nconst noop$2 = () => {\n};\nfunction createFilterWrapper(filter2, fn) {\n  function wrapper(...args) {\n    return new Promise((resolve, reject) => {\n      Promise.resolve(filter2(() => fn.apply(this, args), { fn, thisArg: this, args })).then(resolve).catch(reject);\n    });\n  }\n  return wrapper;\n}\nconst bypassFilter = (invoke) => {\n  return invoke();\n};\nfunction pausableFilter(extendFilter = bypassFilter) {\n  const isActive = ref(true);\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value)\n      extendFilter(...args);\n  };\n  return { isActive: readonly(isActive), pause, resume, eventFilter };\n}\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout)\n      setTimeout(() => reject(reason), ms);\n    else\n      setTimeout(resolve, ms);\n  });\n}\nfunction watchWithFilter(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  return watch(\n    source,\n    createFilterWrapper(\n      eventFilter,\n      cb\n    ),\n    watchOptions\n  );\n}\nfunction watchPausable(source, cb, options = {}) {\n  const {\n    eventFilter: filter2,\n    ...watchOptions\n  } = options;\n  const { eventFilter, pause, resume, isActive } = pausableFilter(filter2);\n  const stop = watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter\n    }\n  );\n  return { stop, pause, resume, isActive };\n}\nfunction toRefs(objectRef, options = {}) {\n  if (!isRef(objectRef))\n    return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? Array.from({ length: objectRef.value.length }) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        var _a;\n        const replaceRef = (_a = toValue(options.replaceRef)) != null ? _a : true;\n        if (replaceRef) {\n          if (Array.isArray(objectRef.value)) {\n            const copy = [...objectRef.value];\n            copy[key] = v;\n            objectRef.value = copy;\n          } else {\n            const newObject = { ...objectRef.value, [key]: v };\n            Object.setPrototypeOf(newObject, Object.getPrototypeOf(objectRef.value));\n            objectRef.value = newObject;\n          }\n        } else {\n          objectRef.value[key] = v;\n        }\n      }\n    }));\n  }\n  return result;\n}\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = {}) {\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        r,\n        (v) => {\n          if (condition(v) !== isNot) {\n            stop == null ? void 0 : stop();\n            resolve(v);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => stop == null ? void 0 : stop())\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value))\n      return toMatch((v) => v === value, options);\n    const { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        [r, value],\n        ([v1, v2]) => {\n          if (isNot !== (v1 === v2)) {\n            stop == null ? void 0 : stop();\n            resolve(v1);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => {\n          stop == null ? void 0 : stop();\n          return toValue(r);\n        })\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch((v) => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch((v) => {\n      const array2 = Array.from(v);\n      return array2.includes(value) || array2.includes(toValue(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(toValue(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = toValue(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nconst defaultWindow = isClient ? window : void 0;\nfunction useEventListener(...args) {\n  let target;\n  let events;\n  let listeners;\n  let options;\n  if (typeof args[0] === \"string\" || Array.isArray(args[0])) {\n    [events, listeners, options] = args;\n    target = defaultWindow;\n  } else {\n    [target, events, listeners, options] = args;\n  }\n  if (!target)\n    return noop$2;\n  if (!Array.isArray(events))\n    events = [events];\n  if (!Array.isArray(listeners))\n    listeners = [listeners];\n  const cleanups = [];\n  const cleanup = () => {\n    cleanups.forEach((fn) => fn());\n    cleanups.length = 0;\n  };\n  const register = (el, event, listener, options2) => {\n    el.addEventListener(event, listener, options2);\n    return () => el.removeEventListener(event, listener, options2);\n  };\n  const stopWatch = watch(\n    () => [unrefElement(target), toValue(options)],\n    ([el, options2]) => {\n      cleanup();\n      if (!el)\n        return;\n      const optionsClone = isObject(options2) ? { ...options2 } : options2;\n      cleanups.push(\n        ...events.flatMap((event) => {\n          return listeners.map((listener) => register(el, event, listener, optionsClone));\n        })\n      );\n    },\n    { immediate: true, flush: \"post\" }\n  );\n  const stop = () => {\n    stopWatch();\n    cleanup();\n  };\n  tryOnScopeDispose(stop);\n  return stop;\n}\nfunction createKeyPredicate$1(keyFilter) {\n  if (typeof keyFilter === \"function\")\n    return keyFilter;\n  else if (typeof keyFilter === \"string\")\n    return (event) => event.key === keyFilter;\n  else if (Array.isArray(keyFilter))\n    return (event) => keyFilter.includes(event.key);\n  return () => true;\n}\nfunction onKeyStroke(...args) {\n  let key;\n  let handler;\n  let options = {};\n  if (args.length === 3) {\n    key = args[0];\n    handler = args[1];\n    options = args[2];\n  } else if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      key = true;\n      handler = args[0];\n      options = args[1];\n    } else {\n      key = args[0];\n      handler = args[1];\n    }\n  } else {\n    key = true;\n    handler = args[0];\n  }\n  const {\n    target = defaultWindow,\n    eventName = \"keydown\",\n    passive = false,\n    dedupe = false\n  } = options;\n  const predicate = createKeyPredicate$1(key);\n  const listener = (e) => {\n    if (e.repeat && toValue(dedupe))\n      return;\n    if (predicate(e))\n      handler(e);\n  };\n  return useEventListener(target, eventName, listener, passive);\n}\nfunction cloneFnJSON(source) {\n  return JSON.parse(JSON.stringify(source));\n}\nfunction useVModel(props, key, emit, options = {}) {\n  var _a, _b, _c;\n  const {\n    clone = false,\n    passive = false,\n    eventName,\n    deep = false,\n    defaultValue,\n    shouldEmit\n  } = options;\n  const vm = getCurrentInstance();\n  const _emit = emit || (vm == null ? void 0 : vm.emit) || ((_a = vm == null ? void 0 : vm.$emit) == null ? void 0 : _a.bind(vm)) || ((_c = (_b = vm == null ? void 0 : vm.proxy) == null ? void 0 : _b.$emit) == null ? void 0 : _c.bind(vm == null ? void 0 : vm.proxy));\n  let event = eventName;\n  if (!key) {\n    {\n      key = \"modelValue\";\n    }\n  }\n  event = event || `update:${key.toString()}`;\n  const cloneFn = (val) => !clone ? val : typeof clone === \"function\" ? clone(val) : cloneFnJSON(val);\n  const getValue = () => isDef$1(props[key]) ? cloneFn(props[key]) : defaultValue;\n  const triggerEmit = (value) => {\n    if (shouldEmit) {\n      if (shouldEmit(value))\n        _emit(event, value);\n    } else {\n      _emit(event, value);\n    }\n  };\n  if (passive) {\n    const initialValue = getValue();\n    const proxy = ref(initialValue);\n    let isUpdating = false;\n    watch(\n      () => props[key],\n      (v) => {\n        if (!isUpdating) {\n          isUpdating = true;\n          proxy.value = cloneFn(v);\n          nextTick(() => isUpdating = false);\n        }\n      }\n    );\n    watch(\n      proxy,\n      (v) => {\n        if (!isUpdating && (v !== props[key] || deep))\n          triggerEmit(v);\n      },\n      { deep }\n    );\n    return proxy;\n  } else {\n    return computed({\n      get() {\n        return getValue();\n      },\n      set(value) {\n        triggerEmit(value);\n      }\n    });\n  }\n}\nvar noop$1 = { value: () => {\n} };\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t))\n      throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\nfunction Dispatch(_) {\n  this._ = _;\n}\nfunction parseTypenames$1(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t))\n      throw new Error(\"unknown type: \" + t);\n    return { type: t, name };\n  });\n}\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._, T = parseTypenames$1(typename + \"\", _), t, i = -1, n = T.length;\n    if (arguments.length < 2) {\n      while (++i < n)\n        if ((t = (typename = T[i]).type) && (t = get$1(_[t], typename.name)))\n          return t;\n      return;\n    }\n    if (callback != null && typeof callback !== \"function\")\n      throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type)\n        _[t] = set$1(_[t], typename.name, callback);\n      else if (callback == null)\n        for (t in _)\n          _[t] = set$1(_[t], typename.name, null);\n    }\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _)\n      copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0)\n      for (var args = new Array(n), i = 0, n, t; i < n; ++i)\n        args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  }\n};\nfunction get$1(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\nfunction set$1(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop$1, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null)\n    type.push({ name, value: callback });\n  return type;\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nconst namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\")\n    name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n}\nfunction creatorInherit(name) {\n  return function() {\n    var document2 = this.ownerDocument, uri = this.namespaceURI;\n    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\nfunction none() {\n}\nfunction selector(selector2) {\n  return selector2 == null ? none : function() {\n    return this.querySelector(selector2);\n  };\n}\nfunction selection_select(select2) {\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\nfunction empty() {\n  return [];\n}\nfunction selectorAll(selector2) {\n  return selector2 == null ? empty : function() {\n    return this.querySelectorAll(selector2);\n  };\n}\nfunction arrayAll(select2) {\n  return function() {\n    return array(select2.apply(this, arguments));\n  };\n}\nfunction selection_selectAll(select2) {\n  if (typeof select2 === \"function\")\n    select2 = arrayAll(select2);\n  else\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select2.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, parents);\n}\nfunction matcher(selector2) {\n  return function() {\n    return this.matches(selector2);\n  };\n}\nfunction childMatcher(selector2) {\n  return function(node) {\n    return node.matches(selector2);\n  };\n}\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\nfunction selection_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction sparse(update) {\n  return new Array(update.length);\n}\nfunction selection_enter() {\n  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum2) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum2;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function(selector2) {\n    return this._parent.querySelector(selector2);\n  },\n  querySelectorAll: function(selector2) {\n    return this._parent.querySelectorAll(selector2);\n  }\n};\nfunction constant$3(x) {\n  return function() {\n    return x;\n  };\n}\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0, node, groupLength = group.length, dataLength = data.length;\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nfunction selection_data(value, key) {\n  if (!arguments.length)\n    return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;\n  if (typeof value !== \"function\")\n    value = constant$3(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j], group = groups[j], groupLength = group.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1)\n          i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength)\n          ;\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection$1(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data : Array.from(data);\n}\nfunction selection_exit() {\n  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter)\n      enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update)\n      update = update.selection();\n  }\n  if (onexit == null)\n    exit.remove();\n  else\n    onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(context) {\n  var selection2 = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection$1(merges, this._parents);\n}\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4)\n          next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}\nfunction selection_sort(compare) {\n  if (!compare)\n    compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection$1(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\nfunction selection_nodes() {\n  return Array.from(this);\n}\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node)\n        return node;\n    }\n  }\n  return null;\n}\nfunction selection_size() {\n  let size = 0;\n  for (const node of this)\n    ++size;\n  return size;\n}\nfunction selection_empty() {\n  return !this.node();\n}\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}\nfunction attrRemove$1(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS$1(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant$1(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS$1(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction$1(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttribute(name);\n    else\n      this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS$1(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttributeNS(fullname.space, fullname.local);\n    else\n      this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS$1 : attrRemove$1 : typeof value === \"function\" ? fullname.local ? attrFunctionNS$1 : attrFunction$1 : fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, value));\n}\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;\n}\nfunction styleRemove$1(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant$1(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction$1(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.style.removeProperty(name);\n    else\n      this.style.setProperty(name, v, priority);\n  };\n}\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove$1 : typeof value === \"function\" ? styleFunction$1 : styleConstant$1)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      delete this[name];\n    else\n      this[name] = v;\n  };\n}\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n)\n      if (!list.contains(names[i]))\n        return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant$1(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction$1(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction$1 : textConstant$1)(value)) : this.node().textContent;\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\nfunction raise() {\n  if (this.nextSibling)\n    this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n  return this.each(raise);\n}\nfunction lower() {\n  if (this.previousSibling)\n    this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n  return this.each(lower);\n}\nfunction selection_append(name) {\n  var create2 = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create2.apply(this, arguments));\n  });\n}\nfunction constantNull() {\n  return null;\n}\nfunction selection_insert(name, before) {\n  var create2 = typeof name === \"function\" ? name : creator(name), select2 = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);\n  });\n}\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent)\n    parent.removeChild(this);\n}\nfunction selection_remove() {\n  return this.each(remove);\n}\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\nfunction contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    return { type: t, name };\n  });\n}\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on)\n      return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i)\n      on.length = i;\n    else\n      delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on)\n      for (var j = 0, m = on.length; j < m; ++j) {\n        if ((o = on[j]).type === typename.type && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.options);\n          this.addEventListener(o.type, o.listener = listener, o.options = options);\n          o.value = value;\n          return;\n        }\n      }\n    this.addEventListener(typename.type, listener, options);\n    o = { type: typename.type, name: typename.name, value, listener, options };\n    if (!on)\n      this.__on = [o];\n    else\n      on.push(o);\n  };\n}\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on)\n      for (var j = 0, m = on.length, o; j < m; ++j) {\n        for (i = 0, o = on[j]; i < n; ++i) {\n          if ((t = typenames[i]).type === o.type && t.name === o.name) {\n            return o.value;\n          }\n        }\n      }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i)\n    this.each(on(typenames[i], value, options));\n  return this;\n}\nfunction dispatchEvent(node, type, params) {\n  var window2 = defaultView(node), event = window2.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window2.document.createEvent(\"Event\");\n    if (params)\n      event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else\n      event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        yield node;\n    }\n  }\n}\nvar root = [null];\nfunction Selection$1(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection() {\n  return new Selection$1([[document.documentElement]], root);\n}\nfunction selection_selection() {\n  return this;\n}\nSelection$1.prototype = selection.prototype = {\n  constructor: Selection$1,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nfunction select(selector2) {\n  return typeof selector2 === \"string\" ? new Selection$1([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$1([[selector2]], root);\n}\nfunction sourceEvent(event) {\n  let sourceEvent2;\n  while (sourceEvent2 = event.sourceEvent)\n    event = sourceEvent2;\n  return event;\n}\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === void 0)\n    node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\nconst nonpassive = { passive: false };\nconst nonpassivecapture = { capture: true, passive: false };\nfunction nopropagation$1(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent$1(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", noevent$1, nonpassivecapture);\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", noevent$1, nonpassivecapture);\n  } else {\n    root2.__noselect = root2.style.MozUserSelect;\n    root2.style.MozUserSelect = \"none\";\n  }\n}\nfunction yesdrag(view, noclick) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection2.on(\"click.drag\", noevent$1, nonpassivecapture);\n    setTimeout(function() {\n      selection2.on(\"click.drag\", null);\n    }, 0);\n  }\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", null);\n  } else {\n    root2.style.MozUserSelect = root2.__noselect;\n    delete root2.__noselect;\n  }\n}\nconst constant$2 = (x) => () => x;\nfunction DragEvent(type, {\n  sourceEvent: sourceEvent2,\n  subject,\n  target,\n  identifier,\n  active,\n  x,\n  y,\n  dx,\n  dy,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    subject: { value: subject, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    identifier: { value: identifier, enumerable: true, configurable: true },\n    active: { value: active, enumerable: true, configurable: true },\n    x: { value: x, enumerable: true, configurable: true },\n    y: { value: y, enumerable: true, configurable: true },\n    dx: { value: dx, enumerable: true, configurable: true },\n    dy: { value: dy, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\nfunction defaultFilter$1(event) {\n  return !event.ctrlKey && !event.button;\n}\nfunction defaultContainer() {\n  return this.parentNode;\n}\nfunction defaultSubject(event, d) {\n  return d == null ? { x: event.x, y: event.y } : d;\n}\nfunction defaultTouchable$1() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction drag() {\n  var filter2 = defaultFilter$1, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable$1, gestures = {}, listeners = dispatch(\"start\", \"drag\", \"end\"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;\n  function drag2(selection2) {\n    selection2.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved, nonpassive).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  function mousedowned(event, d) {\n    if (touchending || !filter2.call(this, event, d))\n      return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture)\n      return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, nonpassivecapture).on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    dragDisable(event.view);\n    nopropagation$1(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n  function mousemoved(event) {\n    noevent$1(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent$1(event);\n    gestures.mouse(\"end\", event);\n  }\n  function touchstarted(event, d) {\n    if (!filter2.call(this, event, d))\n      return;\n    var touches = event.changedTouches, c = container.call(this, event, d), n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation$1(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n  function touchmoved(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent$1(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n  function touchended(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, 500);\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation$1(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n  function beforestart(that, container2, event, d, identifier, touch) {\n    var dispatch2 = listeners.copy(), p = pointer(touch || event, container2), dx, dy, s;\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n      sourceEvent: event,\n      target: drag2,\n      identifier,\n      active,\n      x: p[0],\n      y: p[1],\n      dx: 0,\n      dy: 0,\n      dispatch: dispatch2\n    }), d)) == null)\n      return;\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n    return function gesture(type, event2, touch2) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\":\n          gestures[identifier] = gesture, n = active++;\n          break;\n        case \"end\":\n          delete gestures[identifier], --active;\n        case \"drag\":\n          p = pointer(touch2 || event2, container2), n = active;\n          break;\n      }\n      dispatch2.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event2,\n          subject: s,\n          target: drag2,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch: dispatch2\n        }),\n        d\n      );\n    };\n  }\n  drag2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : filter2;\n  };\n  drag2.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$2(_), drag2) : container;\n  };\n  drag2.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$2(_), drag2) : subject;\n  };\n  drag2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : touchable;\n  };\n  drag2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag2 : value;\n  };\n  drag2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag2) : Math.sqrt(clickDistance2);\n  };\n  return drag2;\n}\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition)\n    prototype[key] = definition[key];\n  return prototype;\n}\nfunction Color() {\n}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\", reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\", reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`), reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`), reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`), reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`), reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`), reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 15792383,\n  antiquewhite: 16444375,\n  aqua: 65535,\n  aquamarine: 8388564,\n  azure: 15794175,\n  beige: 16119260,\n  bisque: 16770244,\n  black: 0,\n  blanchedalmond: 16772045,\n  blue: 255,\n  blueviolet: 9055202,\n  brown: 10824234,\n  burlywood: 14596231,\n  cadetblue: 6266528,\n  chartreuse: 8388352,\n  chocolate: 13789470,\n  coral: 16744272,\n  cornflowerblue: 6591981,\n  cornsilk: 16775388,\n  crimson: 14423100,\n  cyan: 65535,\n  darkblue: 139,\n  darkcyan: 35723,\n  darkgoldenrod: 12092939,\n  darkgray: 11119017,\n  darkgreen: 25600,\n  darkgrey: 11119017,\n  darkkhaki: 12433259,\n  darkmagenta: 9109643,\n  darkolivegreen: 5597999,\n  darkorange: 16747520,\n  darkorchid: 10040012,\n  darkred: 9109504,\n  darksalmon: 15308410,\n  darkseagreen: 9419919,\n  darkslateblue: 4734347,\n  darkslategray: 3100495,\n  darkslategrey: 3100495,\n  darkturquoise: 52945,\n  darkviolet: 9699539,\n  deeppink: 16716947,\n  deepskyblue: 49151,\n  dimgray: 6908265,\n  dimgrey: 6908265,\n  dodgerblue: 2003199,\n  firebrick: 11674146,\n  floralwhite: 16775920,\n  forestgreen: 2263842,\n  fuchsia: 16711935,\n  gainsboro: 14474460,\n  ghostwhite: 16316671,\n  gold: 16766720,\n  goldenrod: 14329120,\n  gray: 8421504,\n  green: 32768,\n  greenyellow: 11403055,\n  grey: 8421504,\n  honeydew: 15794160,\n  hotpink: 16738740,\n  indianred: 13458524,\n  indigo: 4915330,\n  ivory: 16777200,\n  khaki: 15787660,\n  lavender: 15132410,\n  lavenderblush: 16773365,\n  lawngreen: 8190976,\n  lemonchiffon: 16775885,\n  lightblue: 11393254,\n  lightcoral: 15761536,\n  lightcyan: 14745599,\n  lightgoldenrodyellow: 16448210,\n  lightgray: 13882323,\n  lightgreen: 9498256,\n  lightgrey: 13882323,\n  lightpink: 16758465,\n  lightsalmon: 16752762,\n  lightseagreen: 2142890,\n  lightskyblue: 8900346,\n  lightslategray: 7833753,\n  lightslategrey: 7833753,\n  lightsteelblue: 11584734,\n  lightyellow: 16777184,\n  lime: 65280,\n  limegreen: 3329330,\n  linen: 16445670,\n  magenta: 16711935,\n  maroon: 8388608,\n  mediumaquamarine: 6737322,\n  mediumblue: 205,\n  mediumorchid: 12211667,\n  mediumpurple: 9662683,\n  mediumseagreen: 3978097,\n  mediumslateblue: 8087790,\n  mediumspringgreen: 64154,\n  mediumturquoise: 4772300,\n  mediumvioletred: 13047173,\n  midnightblue: 1644912,\n  mintcream: 16121850,\n  mistyrose: 16770273,\n  moccasin: 16770229,\n  navajowhite: 16768685,\n  navy: 128,\n  oldlace: 16643558,\n  olive: 8421376,\n  olivedrab: 7048739,\n  orange: 16753920,\n  orangered: 16729344,\n  orchid: 14315734,\n  palegoldenrod: 15657130,\n  palegreen: 10025880,\n  paleturquoise: 11529966,\n  palevioletred: 14381203,\n  papayawhip: 16773077,\n  peachpuff: 16767673,\n  peru: 13468991,\n  pink: 16761035,\n  plum: 14524637,\n  powderblue: 11591910,\n  purple: 8388736,\n  rebeccapurple: 6697881,\n  red: 16711680,\n  rosybrown: 12357519,\n  royalblue: 4286945,\n  saddlebrown: 9127187,\n  salmon: 16416882,\n  sandybrown: 16032864,\n  seagreen: 3050327,\n  seashell: 16774638,\n  sienna: 10506797,\n  silver: 12632256,\n  skyblue: 8900331,\n  slateblue: 6970061,\n  slategray: 7372944,\n  slategrey: 7372944,\n  snow: 16775930,\n  springgreen: 65407,\n  steelblue: 4620980,\n  tan: 13808780,\n  teal: 32896,\n  thistle: 14204888,\n  tomato: 16737095,\n  turquoise: 4251856,\n  violet: 15631086,\n  wheat: 16113331,\n  white: 16777215,\n  whitesmoke: 16119285,\n  yellow: 16776960,\n  yellowgreen: 10145074\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0)\n    r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h2, s, l, a) {\n  if (a <= 0)\n    h2 = s = l = NaN;\n  else if (l <= 0 || l >= 1)\n    h2 = s = NaN;\n  else if (s <= 0)\n    h2 = NaN;\n  return new Hsl(h2, s, l, a);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl)\n    return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Hsl();\n  if (o instanceof Hsl)\n    return o;\n  o = o.rgb();\n  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h2 = NaN, s = max - min, l = (max + min) / 2;\n  if (s) {\n    if (r === max)\n      h2 = (g - b) / s + (g < b) * 6;\n    else if (g === max)\n      h2 = (b - r) / s + 2;\n    else\n      h2 = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h2 *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h2;\n  }\n  return new Hsl(h2, s, l, o.opacity);\n}\nfunction hsl(h2, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h2) : new Hsl(h2, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h2, s, l, opacity) {\n  this.h = +h2;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h2 = this.h % 360 + (this.h < 0) * 360, s = isNaN(h2) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h2 >= 240 ? h2 - 240 : h2 + 120, m1, m2),\n      hsl2rgb(h2, m1, m2),\n      hsl2rgb(h2 < 120 ? h2 + 240 : h2 - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\nfunction hsl2rgb(h2, m1, m2) {\n  return (h2 < 60 ? m1 + (m2 - m1) * h2 / 60 : h2 < 180 ? m2 : h2 < 240 ? m1 + (m2 - m1) * (240 - h2) / 60 : m1) * 255;\n}\nconst constant$1 = (x) => () => x;\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant$1(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$1(isNaN(a) ? b : a);\n}\nconst interpolateRgb = function rgbGamma(y) {\n  var color2 = gamma(y);\n  function rgb$1(start2, end) {\n    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);\n    return function(t) {\n      start2.r = r(t);\n      start2.g = g(t);\n      start2.b = b(t);\n      start2.opacity = opacity(t);\n      return start2 + \"\";\n    };\n  }\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n  a = a + \"\", b = b + \"\";\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      bs = b.slice(bi, bs);\n      if (s[i])\n        s[i] += bs;\n      else\n        s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      if (s[i])\n        s[i] += bm;\n      else\n        s[++i] = bm;\n    } else {\n      s[++i] = null;\n      q.push({ i, x: interpolateNumber(am, bm) });\n    }\n    bi = reB.lastIndex;\n  }\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i])\n      s[i] += bs;\n    else\n      s[++i] = bs;\n  }\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {\n    for (var i2 = 0, o; i2 < b; ++i2)\n      s[(o = q[i2]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}\nvar degrees = 180 / Math.PI;\nvar identity$1 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b))\n    a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d)\n    c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d))\n    c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c)\n    a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX,\n    scaleY\n  };\n}\nvar svgNode;\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity$1 : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nfunction parseSvg(value) {\n  if (value == null)\n    return identity$1;\n  if (!svgNode)\n    svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate()))\n    return identity$1;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180)\n        b += 360;\n      else if (b - a > 180)\n        a += 360;\n      q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function(a, b) {\n    var s = [], q = [];\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n)\n        s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar epsilon2 = 1e-12;\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\nconst interpolateZoom = function zoomRho(rho, rho2, rho4) {\n  function zoom2(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      };\n    }\n    i.duration = S * 1e3 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom2.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom2;\n}(Math.SQRT2, 2, 4);\nvar frame = 0, timeout$1 = 0, interval = 0, pokeDelay = 1e3, taskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === \"object\" && performance.now ? performance : Date, setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {\n  setTimeout(f, 17);\n};\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n  clockNow = 0;\n}\nfunction Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\")\n      throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail)\n        taskTail._next = this;\n      else\n        taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nfunction timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nfunction timerFlush() {\n  now();\n  ++frame;\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0)\n      t._call.call(void 0, e);\n    t = t._next;\n  }\n  --frame;\n}\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout$1 = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\nfunction poke() {\n  var now2 = clock.now(), delay = now2 - clockLast;\n  if (delay > pokeDelay)\n    clockSkew -= delay, clockLast = now2;\n}\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time)\n        time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\nfunction sleep(time) {\n  if (frame)\n    return;\n  if (timeout$1)\n    timeout$1 = clearTimeout(timeout$1);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity)\n      timeout$1 = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval)\n      interval = clearInterval(interval);\n  } else {\n    if (!interval)\n      clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\nfunction timeout(callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart((elapsed) => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id2, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules)\n    node.__transition = {};\n  else if (id2 in schedules)\n    return;\n  create(node, id2, {\n    name,\n    index,\n    // For context during callback.\n    group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nfunction init(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > CREATED)\n    throw new Error(\"too late; already scheduled\");\n  return schedule2;\n}\nfunction set(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > STARTED)\n    throw new Error(\"too late; already running\");\n  return schedule2;\n}\nfunction get(node, id2) {\n  var schedule2 = node.__transition;\n  if (!schedule2 || !(schedule2 = schedule2[id2]))\n    throw new Error(\"transition not found\");\n  return schedule2;\n}\nfunction create(node, id2, self) {\n  var schedules = node.__transition, tween;\n  schedules[id2] = self;\n  self.timer = timer(schedule2, 0, self.time);\n  function schedule2(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start2, self.delay, self.time);\n    if (self.delay <= elapsed)\n      start2(elapsed - self.delay);\n  }\n  function start2(elapsed) {\n    var i, j, n, o;\n    if (self.state !== SCHEDULED)\n      return stop();\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name)\n        continue;\n      if (o.state === STARTED)\n        return timeout(start2);\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } else if (+i < id2) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING)\n      return;\n    self.state = STARTED;\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id2];\n    for (var i in schedules)\n      return;\n    delete node.__transition;\n  }\n}\nfunction interrupt(node, name) {\n  var schedules = node.__transition, schedule2, active, empty2 = true, i;\n  if (!schedules)\n    return;\n  name = name == null ? null : name + \"\";\n  for (i in schedules) {\n    if ((schedule2 = schedules[i]).name !== name) {\n      empty2 = false;\n      continue;\n    }\n    active = schedule2.state > STARTING && schedule2.state < ENDING;\n    schedule2.state = ENDED;\n    schedule2.timer.stop();\n    schedule2.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule2.index, schedule2.group);\n    delete schedules[i];\n  }\n  if (empty2)\n    delete node.__transition;\n}\nfunction selection_interrupt(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\nfunction tweenRemove(id2, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction tweenFunction(id2, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n)\n        tween1.push(t);\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction transition_tween(name, value) {\n  var id2 = this._id;\n  name += \"\";\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id2).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));\n}\nfunction tweenValue(transition2, name, value) {\n  var id2 = transition2._id;\n  transition2.each(function() {\n    var schedule2 = set(this, id2);\n    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function(node) {\n    return get(node, id2).value[name];\n  };\n}\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrConstantNS(fullname, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction attrFunctionNS(fullname, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction transition_attr(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id2, value) {\n  return function() {\n    init(this, id2).delay = +value.apply(this, arguments);\n  };\n}\nfunction delayConstant(id2, value) {\n  return value = +value, function() {\n    init(this, id2).delay = value;\n  };\n}\nfunction transition_delay(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id2, value)) : get(this.node(), id2).delay;\n}\nfunction durationFunction(id2, value) {\n  return function() {\n    set(this, id2).duration = +value.apply(this, arguments);\n  };\n}\nfunction durationConstant(id2, value) {\n  return value = +value, function() {\n    set(this, id2).duration = value;\n  };\n}\nfunction transition_duration(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id2, value)) : get(this.node(), id2).duration;\n}\nfunction easeConstant(id2, value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    set(this, id2).ease = value;\n  };\n}\nfunction transition_ease(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each(easeConstant(id2, value)) : get(this.node(), id2).ease;\n}\nfunction easeVarying(id2, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\")\n      throw new Error();\n    set(this, id2).ease = v;\n  };\n}\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.each(easeVarying(this._id, value));\n}\nfunction transition_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition2) {\n  if (transition2._id !== this._id)\n    throw new Error();\n  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0)\n      t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\nfunction onFunction(id2, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule2 = sit(this, id2), on = schedule2.on;\n    if (on !== on0)\n      (on1 = (on0 = on).copy()).on(name, listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_on(name, listener) {\n  var id2 = this._id;\n  return arguments.length < 2 ? get(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));\n}\nfunction removeFunction(id2) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition)\n      if (+i !== id2)\n        return;\n    if (parent)\n      parent.removeChild(this);\n  };\n}\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id2, i, subgroup, get(node, id2));\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, name, id2);\n}\nfunction transition_selectAll(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children2 = select2.call(node, node.__data__, i, group), child, inherit2 = get(node, id2), k = 0, l = children2.length; k < l; ++k) {\n          if (child = children2[k]) {\n            schedule(child, name, id2, k, children2, inherit2);\n          }\n        }\n        subgroups.push(children2);\n        parents.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, parents, name, id2);\n}\nvar Selection = selection.prototype.constructor;\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate2) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);\n  };\n}\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction styleFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + \"\";\n    if (value1 == null)\n      string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction styleMaybeRemove(id2, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove2;\n  return function() {\n    var schedule2 = set(this, id2), on = schedule2.on, listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove(name)) : void 0;\n    if (on !== on0 || listener0 !== listener)\n      (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}\nfunction textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, textTween(value));\n}\nfunction transition_transition() {\n  var name = this._name, id0 = this._id, id1 = newId();\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit2 = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit2.time + inherit2.delay + inherit2.duration,\n          delay: 0,\n          duration: inherit2.duration,\n          ease: inherit2.ease\n        });\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n  var on0, on1, that = this, id2 = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = { value: reject }, end = { value: function() {\n      if (--size === 0)\n        resolve();\n    } };\n    that.each(function() {\n      var schedule2 = set(this, id2), on = schedule2.on;\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n      schedule2.on = on1;\n    });\n    if (size === 0)\n      resolve();\n  });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id2) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id2;\n}\nfunction newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\nfunction inherit(node, id2) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id2])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id2} not found`);\n    }\n  }\n  return timing;\n}\nfunction selection_transition(name) {\n  var id2, timing;\n  if (name instanceof Transition) {\n    id2 = name._id, name = name._name;\n  } else {\n    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id2, i, group, timing || inherit(node, id2));\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id2);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\nconst constant = (x) => () => x;\nfunction ZoomEvent(type, {\n  sourceEvent: sourceEvent2,\n  target,\n  transform,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    transform: { value: transform, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nvar identity = new Transform(1, 0, 0);\nTransform.prototype;\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === \"wheel\") && !event.button;\n}\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\nfunction zoom() {\n  var filter2 = defaultFilter, extent = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate2 = interpolateZoom, listeners = dispatch(\"start\", \"zoom\", \"end\"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;\n  function zoom2(selection2) {\n    selection2.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled, { passive: false }).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  zoom2.transform = function(collection, transform, point, event) {\n    var selection2 = collection.selection ? collection.selection() : collection;\n    selection2.property(\"__zoom\", defaultTransform);\n    if (collection !== selection2) {\n      schedule2(collection, transform, point, event);\n    } else {\n      selection2.interrupt().each(function() {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n  zoom2.scaleBy = function(selection2, k, p, event) {\n    zoom2.scaleTo(selection2, function() {\n      var k0 = this.__zoom.k, k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n  zoom2.scaleTo = function(selection2, k, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n  zoom2.translateBy = function(selection2, x, y, event) {\n    zoom2.transform(selection2, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n  zoom2.translateTo = function(selection2, x, y, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n  function centroid(extent2) {\n    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];\n  }\n  function schedule2(transition2, transform, point, event) {\n    transition2.on(\"start.zoom\", function() {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function() {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function() {\n      var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform === \"function\" ? transform.apply(that, args) : transform, i = interpolate2(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function(t) {\n        if (t === 1)\n          t = b;\n        else {\n          var l = i(t), k = w / l[2];\n          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n        }\n        g.zoom(null, t);\n      };\n    });\n  }\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n  Gesture.prototype = {\n    event: function(event) {\n      if (event)\n        this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\")\n        this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\")\n        this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\")\n        this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom2,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n  function wheeled(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = pointer(event);\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    } else if (t.k === k)\n      return;\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n  function mousedowned(event, ...args) {\n    if (touchending || !filter2.apply(this, arguments))\n      return;\n    var currentTarget = event.currentTarget, g = gesture(this, args, true).event(event), v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true), p = pointer(event, currentTarget), x0 = event.clientX, y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n    function mousemoved(event2) {\n      noevent(event2);\n      if (!g.moved) {\n        var dx = event2.clientX - x0, dy = event2.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event2).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n    function mouseupped(event2) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event2.view, g.moved);\n      noevent(event2);\n      g.event(event2).end();\n    }\n  }\n  function dblclicked(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var t0 = this.__zoom, p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent(event);\n    if (duration > 0)\n      select(this).transition().duration(duration).call(schedule2, t1, p0, event);\n    else\n      select(this).call(zoom2.transform, t1, p0, event);\n  }\n  function touchstarted(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i, t, p;\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0)\n        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2])\n        g.touch1 = p, g.taps = 0;\n    }\n    if (touchstarting)\n      touchstarting = clearTimeout(touchstarting);\n    if (started) {\n      if (g.taps < 2)\n        touchfirst = p[0], touchstarting = setTimeout(function() {\n          touchstarting = null;\n        }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n  function touchmoved(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t, p, l;\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0)\n      p = g.touch0[0], l = g.touch0[1];\n    else\n      return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n  function touchended(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t;\n    nopropagation(event);\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0)\n      g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0)\n      g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p)\n            p.apply(this, arguments);\n        }\n      }\n    }\n  }\n  zoom2.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom2) : wheelDelta;\n  };\n  zoom2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : filter2;\n  };\n  zoom2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : touchable;\n  };\n  zoom2.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom2) : extent;\n  };\n  zoom2.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom2) : [scaleExtent[0], scaleExtent[1]];\n  };\n  zoom2.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n  zoom2.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom2) : constrain;\n  };\n  zoom2.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom2) : duration;\n  };\n  zoom2.interpolate = function(_) {\n    return arguments.length ? (interpolate2 = _, zoom2) : interpolate2;\n  };\n  zoom2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom2 : value;\n  };\n  zoom2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom2) : Math.sqrt(clickDistance2);\n  };\n  zoom2.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom2) : tapDistance;\n  };\n  return zoom2;\n}\nvar Position = /* @__PURE__ */ ((Position2) => {\n  Position2[\"Left\"] = \"left\";\n  Position2[\"Top\"] = \"top\";\n  Position2[\"Right\"] = \"right\";\n  Position2[\"Bottom\"] = \"bottom\";\n  return Position2;\n})(Position || {});\nvar SelectionMode = /* @__PURE__ */ ((SelectionMode2) => {\n  SelectionMode2[\"Partial\"] = \"partial\";\n  SelectionMode2[\"Full\"] = \"full\";\n  return SelectionMode2;\n})(SelectionMode || {});\nvar ConnectionLineType = /* @__PURE__ */ ((ConnectionLineType2) => {\n  ConnectionLineType2[\"Bezier\"] = \"default\";\n  ConnectionLineType2[\"SimpleBezier\"] = \"simple-bezier\";\n  ConnectionLineType2[\"Straight\"] = \"straight\";\n  ConnectionLineType2[\"Step\"] = \"step\";\n  ConnectionLineType2[\"SmoothStep\"] = \"smoothstep\";\n  return ConnectionLineType2;\n})(ConnectionLineType || {});\nvar ConnectionMode = /* @__PURE__ */ ((ConnectionMode2) => {\n  ConnectionMode2[\"Strict\"] = \"strict\";\n  ConnectionMode2[\"Loose\"] = \"loose\";\n  return ConnectionMode2;\n})(ConnectionMode || {});\nvar MarkerType = /* @__PURE__ */ ((MarkerType2) => {\n  MarkerType2[\"Arrow\"] = \"arrow\";\n  MarkerType2[\"ArrowClosed\"] = \"arrowclosed\";\n  return MarkerType2;\n})(MarkerType || {});\nvar PanOnScrollMode = /* @__PURE__ */ ((PanOnScrollMode2) => {\n  PanOnScrollMode2[\"Free\"] = \"free\";\n  PanOnScrollMode2[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode2[\"Horizontal\"] = \"horizontal\";\n  return PanOnScrollMode2;\n})(PanOnScrollMode || {});\nvar PanelPosition = /* @__PURE__ */ ((PanelPosition2) => {\n  PanelPosition2[\"TopLeft\"] = \"top-left\";\n  PanelPosition2[\"TopCenter\"] = \"top-center\";\n  PanelPosition2[\"TopRight\"] = \"top-right\";\n  PanelPosition2[\"BottomLeft\"] = \"bottom-left\";\n  PanelPosition2[\"BottomCenter\"] = \"bottom-center\";\n  PanelPosition2[\"BottomRight\"] = \"bottom-right\";\n  return PanelPosition2;\n})(PanelPosition || {});\nfunction isInputDOMNode(event) {\n  var _a, _b;\n  const target = ((_b = (_a = event.composedPath) == null ? void 0 : _a.call(event)) == null ? void 0 : _b[0]) || event.target;\n  const hasAttribute = typeof (target == null ? void 0 : target.hasAttribute) === \"function\" ? target.hasAttribute(\"contenteditable\") : false;\n  const closest = typeof (target == null ? void 0 : target.closest) === \"function\" ? target.closest(\".nokey\") : null;\n  return [\"INPUT\", \"SELECT\", \"TEXTAREA\"].includes(target == null ? void 0 : target.nodeName) || hasAttribute || !!closest;\n}\nfunction wasModifierPressed(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey;\n}\nfunction isKeyMatch(pressedKey, keyToMatch, pressedKeys, isKeyUp) {\n  const keyCombination = keyToMatch.split(\"+\").map((k) => k.trim().toLowerCase());\n  if (keyCombination.length === 1) {\n    return pressedKey.toLowerCase() === keyToMatch.toLowerCase();\n  }\n  if (isKeyUp) {\n    pressedKeys.delete(pressedKey.toLowerCase());\n  } else {\n    pressedKeys.add(pressedKey.toLowerCase());\n  }\n  return keyCombination.every(\n    (key, index) => pressedKeys.has(key) && Array.from(pressedKeys.values())[index] === keyCombination[index]\n  );\n}\nfunction createKeyPredicate(keyFilter, pressedKeys) {\n  return (event) => {\n    if (!event.code && !event.key) {\n      return false;\n    }\n    const keyOrCode = useKeyOrCode(event.code, keyFilter);\n    if (Array.isArray(keyFilter)) {\n      return keyFilter.some((key) => isKeyMatch(event[keyOrCode], key, pressedKeys, event.type === \"keyup\"));\n    }\n    return isKeyMatch(event[keyOrCode], keyFilter, pressedKeys, event.type === \"keyup\");\n  };\n}\nfunction useKeyOrCode(code, keysToWatch) {\n  if (typeof keysToWatch === \"string\") {\n    return code === keysToWatch ? \"code\" : \"key\";\n  }\n  return keysToWatch.includes(code) ? \"code\" : \"key\";\n}\nfunction useKeyPress(keyFilter, options) {\n  const actInsideInputWithModifier = toRef(() => toValue$1(options == null ? void 0 : options.actInsideInputWithModifier) ?? false);\n  const target = toRef(() => toValue$1(options == null ? void 0 : options.target) ?? window);\n  const isPressed = ref(toValue$1(keyFilter) === true);\n  let modifierPressed = false;\n  const pressedKeys = /* @__PURE__ */ new Set();\n  let currentFilter = createKeyFilterFn(toValue$1(keyFilter));\n  watch(\n    () => toValue$1(keyFilter),\n    (nextKeyFilter, previousKeyFilter) => {\n      if (typeof previousKeyFilter === \"boolean\" && typeof nextKeyFilter !== \"boolean\") {\n        reset();\n      }\n      currentFilter = createKeyFilterFn(nextKeyFilter);\n    },\n    {\n      immediate: true\n    }\n  );\n  onMounted(() => {\n    useEventListener(window, [\"blur\", \"contextmenu\"], reset);\n  });\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      modifierPressed = wasModifierPressed(e);\n      const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier.value) && isInputDOMNode(e);\n      if (preventAction) {\n        return;\n      }\n      e.preventDefault();\n      isPressed.value = true;\n    },\n    { eventName: \"keydown\", target }\n  );\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      if (isPressed.value) {\n        const preventAction = (!modifierPressed || modifierPressed && !actInsideInputWithModifier.value) && isInputDOMNode(e);\n        if (preventAction) {\n          return;\n        }\n        reset();\n      }\n    },\n    { eventName: \"keyup\", target }\n  );\n  function reset() {\n    modifierPressed = false;\n    pressedKeys.clear();\n    isPressed.value = false;\n  }\n  function createKeyFilterFn(keyFilter2) {\n    if (keyFilter2 === null) {\n      reset();\n      return () => false;\n    }\n    if (typeof keyFilter2 === \"boolean\") {\n      reset();\n      isPressed.value = keyFilter2;\n      return () => false;\n    }\n    if (Array.isArray(keyFilter2) || typeof keyFilter2 === \"string\") {\n      return createKeyPredicate(keyFilter2, pressedKeys);\n    }\n    return keyFilter2;\n  }\n  return isPressed;\n}\nconst ARIA_NODE_DESC_KEY = \"vue-flow__node-desc\";\nconst ARIA_EDGE_DESC_KEY = \"vue-flow__edge-desc\";\nconst ARIA_LIVE_MESSAGE = \"vue-flow__aria-live\";\nconst elementSelectionKeys = [\"Enter\", \" \", \"Escape\"];\nconst arrowKeyDiffs = {\n  ArrowUp: { x: 0, y: -1 },\n  ArrowDown: { x: 0, y: 1 },\n  ArrowLeft: { x: -1, y: 0 },\n  ArrowRight: { x: 1, y: 0 }\n};\nfunction nodeToRect(node) {\n  return {\n    ...node.computedPosition || { x: 0, y: 0 },\n    width: node.dimensions.width || 0,\n    height: node.dimensions.height || 0\n  };\n}\nfunction getOverlappingArea(rectA, rectB) {\n  const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n  const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n  return Math.ceil(xOverlap * yOverlap);\n}\nfunction getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n}\nfunction clamp(val, min = 0, max = 1) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction clampPosition(position, extent) {\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n}\nfunction getHostForElement(element) {\n  const doc = element.getRootNode();\n  if (\"elementFromPoint\" in doc) {\n    return doc;\n  }\n  return window.document;\n}\nfunction isEdge(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"source\" in element && \"target\" in element;\n}\nfunction isGraphEdge(element) {\n  return isEdge(element) && \"sourceNode\" in element && \"targetNode\" in element;\n}\nfunction isNode(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"position\" in element && !isEdge(element);\n}\nfunction isGraphNode(element) {\n  return isNode(element) && \"computedPosition\" in element;\n}\nfunction isNumeric(n) {\n  return !Number.isNaN(n) && Number.isFinite(n);\n}\nfunction isRect(obj) {\n  return isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n}\nfunction parseNode(node, existingNode, parentNode) {\n  const initialState = {\n    id: node.id.toString(),\n    type: node.type ?? \"default\",\n    dimensions: markRaw({\n      width: 0,\n      height: 0\n    }),\n    computedPosition: markRaw({\n      z: 0,\n      ...node.position\n    }),\n    // todo: shouldn't be defined initially, as we want to use handleBounds to check if a node was actually initialized or not\n    handleBounds: {\n      source: [],\n      target: []\n    },\n    draggable: void 0,\n    selectable: void 0,\n    connectable: void 0,\n    focusable: void 0,\n    selected: false,\n    dragging: false,\n    resizing: false,\n    initialized: false,\n    isParent: false,\n    position: {\n      x: 0,\n      y: 0\n    },\n    data: isDef(node.data) ? node.data : {},\n    events: markRaw(isDef(node.events) ? node.events : {})\n  };\n  return Object.assign(existingNode ?? initialState, node, { id: node.id.toString(), parentNode });\n}\nfunction parseEdge(edge, existingEdge, defaultEdgeOptions) {\n  var _a, _b;\n  const initialState = {\n    id: edge.id.toString(),\n    type: edge.type ?? (existingEdge == null ? void 0 : existingEdge.type) ?? \"default\",\n    source: edge.source.toString(),\n    target: edge.target.toString(),\n    sourceHandle: (_a = edge.sourceHandle) == null ? void 0 : _a.toString(),\n    targetHandle: (_b = edge.targetHandle) == null ? void 0 : _b.toString(),\n    updatable: edge.updatable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.updatable),\n    selectable: edge.selectable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.selectable),\n    focusable: edge.focusable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.focusable),\n    data: isDef(edge.data) ? edge.data : {},\n    events: markRaw(isDef(edge.events) ? edge.events : {}),\n    label: edge.label ?? \"\",\n    interactionWidth: edge.interactionWidth ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.interactionWidth),\n    ...defaultEdgeOptions ?? {}\n  };\n  return Object.assign(existingEdge ?? initialState, edge, { id: edge.id.toString() });\n}\nfunction getConnectedElements(nodeOrId, nodes, edges, dir) {\n  const id2 = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const connectedIds = /* @__PURE__ */ new Set();\n  const origin = dir === \"source\" ? \"target\" : \"source\";\n  for (const edge of edges) {\n    if (edge[origin] === id2) {\n      connectedIds.add(edge[dir]);\n    }\n  }\n  return nodes.filter((n) => connectedIds.has(n.id));\n}\nfunction getOutgoers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"target\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const outgoers = elements.filter((el) => isEdge(el) && el.source === nodeId);\n  return outgoers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.target));\n}\nfunction getIncomers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"source\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const incomers = elements.filter((el) => isEdge(el) && el.target === nodeId);\n  return incomers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.source));\n}\nfunction getEdgeId({ source, sourceHandle, target, targetHandle }) {\n  return `vueflow__edge-${source}${sourceHandle ?? \"\"}-${target}${targetHandle ?? \"\"}`;\n}\nfunction connectionExists(edge, elements) {\n  return elements.some(\n    (el) => isEdge(el) && el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle)\n  );\n}\nfunction addEdge(edgeParams, elements, defaults) {\n  if (!edgeParams.source || !edgeParams.target) {\n    warn(\"Can't create edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = { ...edgeParams };\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaults);\n  if (connectionExists(edge, elements)) {\n    return elements;\n  }\n  elements.push(edge);\n  return elements;\n}\nfunction updateEdge(oldEdge, newConnection, elements) {\n  if (!newConnection.source || !newConnection.target) {\n    warn(\"Can't create new edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  const foundEdge = elements.find((e) => isEdge(e) && e.id === oldEdge.id);\n  if (!foundEdge) {\n    warn(`The old edge with id=${oldEdge.id} does not exist.`);\n    return elements;\n  }\n  const edge = {\n    ...oldEdge,\n    id: getEdgeId(newConnection),\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  elements.splice(elements.indexOf(foundEdge), 1, edge);\n  return elements.filter((e) => e.id !== oldEdge.id);\n}\nfunction rendererPointToPoint({ x, y }, { x: tx, y: ty, zoom: tScale }) {\n  return {\n    x: x * tScale + tx,\n    y: y * tScale + ty\n  };\n}\nfunction pointToRendererPoint({ x, y }, { x: tx, y: ty, zoom: tScale }, snapToGrid = false, [snapX, snapY] = [1, 1]) {\n  const position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n  if (snapToGrid) {\n    return {\n      x: snapX * Math.round(position.x / snapX),\n      y: snapY * Math.round(position.y / snapY)\n    };\n  }\n  return position;\n}\nfunction getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n}\nfunction rectToBox({ x, y, width, height }) {\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height\n  };\n}\nfunction boxToRect({ x, y, x2, y2 }) {\n  return {\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y\n  };\n}\nfunction getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n}\nfunction getRectOfNodes(nodes) {\n  let box = {\n    x: Number.POSITIVE_INFINITY,\n    y: Number.POSITIVE_INFINITY,\n    x2: Number.NEGATIVE_INFINITY,\n    y2: Number.NEGATIVE_INFINITY\n  };\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    box = getBoundsOfBoxes(\n      box,\n      rectToBox({\n        ...node.computedPosition,\n        ...node.dimensions\n      })\n    );\n  }\n  return boxToRect(box);\n}\nfunction getNodesInside(nodes, rect, viewport = { x: 0, y: 0, zoom: 1 }, partially = false, excludeNonSelectableNodes = false) {\n  const paneRect = {\n    ...pointToRendererPoint(rect, viewport),\n    width: rect.width / viewport.zoom,\n    height: rect.height / viewport.zoom\n  };\n  const visibleNodes = [];\n  for (const node of nodes) {\n    const { dimensions, selectable = true, hidden = false } = node;\n    const width = dimensions.width ?? node.width ?? null;\n    const height = dimensions.height ?? node.height ?? null;\n    if (excludeNonSelectableNodes && !selectable || hidden) {\n      continue;\n    }\n    const overlappingArea = getOverlappingArea(paneRect, nodeToRect(node));\n    const notInitialized = width === null || height === null;\n    const partiallyVisible = partially && overlappingArea > 0;\n    const area = (width ?? 0) * (height ?? 0);\n    const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n    if (isVisible || node.dragging) {\n      visibleNodes.push(node);\n    }\n  }\n  return visibleNodes;\n}\nfunction getConnectedEdges(nodesOrId, edges) {\n  const nodeIds = /* @__PURE__ */ new Set();\n  if (typeof nodesOrId === \"string\") {\n    nodeIds.add(nodesOrId);\n  } else if (nodesOrId.length >= 1) {\n    for (const n of nodesOrId) {\n      nodeIds.add(n.id);\n    }\n  }\n  return edges.filter((edge) => nodeIds.has(edge.source) || nodeIds.has(edge.target));\n}\nfunction getTransformForBounds(bounds, width, height, minZoom, maxZoom, padding = 0.1, offset = { x: 0, y: 0 }) {\n  const xZoom = width / (bounds.width * (1 + padding));\n  const yZoom = height / (bounds.height * (1 + padding));\n  const zoom2 = Math.min(xZoom, yZoom);\n  const clampedZoom = clamp(zoom2, minZoom, maxZoom);\n  const boundsCenterX = bounds.x + bounds.width / 2;\n  const boundsCenterY = bounds.y + bounds.height / 2;\n  const x = width / 2 - boundsCenterX * clampedZoom + (offset.x ?? 0);\n  const y = height / 2 - boundsCenterY * clampedZoom + (offset.y ?? 0);\n  return { x, y, zoom: clampedZoom };\n}\nfunction getXYZPos(parentPos, computedPosition) {\n  return {\n    x: computedPosition.x + parentPos.x,\n    y: computedPosition.y + parentPos.y,\n    z: (parentPos.z > computedPosition.z ? parentPos.z : computedPosition.z) + 1\n  };\n}\nfunction isParentSelected(node, findNode) {\n  if (!node.parentNode) {\n    return false;\n  }\n  const parent = findNode(node.parentNode);\n  if (!parent) {\n    return false;\n  }\n  if (parent.selected) {\n    return true;\n  }\n  return isParentSelected(parent, findNode);\n}\nfunction getMarkerId(marker, vueFlowId) {\n  if (typeof marker === \"undefined\") {\n    return \"\";\n  }\n  if (typeof marker === \"string\") {\n    return marker;\n  }\n  const idPrefix = vueFlowId ? `${vueFlowId}__` : \"\";\n  return `${idPrefix}${Object.keys(marker).sort().map((key) => `${key}=${marker[key]}`).join(\"&\")}`;\n}\nfunction calcAutoPanVelocity(value, min, max) {\n  if (value < min) {\n    return clamp(Math.abs(value - min), 1, min) / min;\n  }\n  if (value > max) {\n    return -clamp(Math.abs(value - max), 1, min) / min;\n  }\n  return 0;\n}\nfunction calcAutoPan(pos, bounds, speed = 15, distance2 = 40) {\n  const xMovement = calcAutoPanVelocity(pos.x, distance2, bounds.width - distance2) * speed;\n  const yMovement = calcAutoPanVelocity(pos.y, distance2, bounds.height - distance2) * speed;\n  return [xMovement, yMovement];\n}\nfunction handleParentExpand(updateItem, parent) {\n  if (parent) {\n    const extendWidth = updateItem.position.x + updateItem.dimensions.width - parent.dimensions.width;\n    const extendHeight = updateItem.position.y + updateItem.dimensions.height - parent.dimensions.height;\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      let parentStyles = {};\n      if (typeof parent.style === \"function\") {\n        parentStyles = { ...parent.style(parent) };\n      } else if (parent.style) {\n        parentStyles = { ...parent.style };\n      }\n      parentStyles.width = parentStyles.width ?? `${parent.dimensions.width}px`;\n      parentStyles.height = parentStyles.height ?? `${parent.dimensions.height}px`;\n      if (extendWidth > 0) {\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + extendWidth}px`;\n        } else {\n          parentStyles.width += extendWidth;\n        }\n      }\n      if (extendHeight > 0) {\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + extendHeight}px`;\n        } else {\n          parentStyles.height += extendHeight;\n        }\n      }\n      if (updateItem.position.x < 0) {\n        const xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + xDiff}px`;\n        } else {\n          parentStyles.width += xDiff;\n        }\n        updateItem.position.x = 0;\n      }\n      if (updateItem.position.y < 0) {\n        const yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + yDiff}px`;\n        } else {\n          parentStyles.height += yDiff;\n        }\n        updateItem.position.y = 0;\n      }\n      parent.dimensions.width = Number(parentStyles.width.toString().replace(\"px\", \"\"));\n      parent.dimensions.height = Number(parentStyles.height.toString().replace(\"px\", \"\"));\n      if (typeof parent.style === \"function\") {\n        parent.style = (p) => {\n          const styleFunc = parent.style;\n          return {\n            ...styleFunc(p),\n            ...parentStyles\n          };\n        };\n      } else {\n        parent.style = {\n          ...parent.style,\n          ...parentStyles\n        };\n      }\n    }\n  }\n}\nfunction applyChanges(changes, elements) {\n  var _a, _b;\n  const addRemoveChanges = changes.filter((c) => c.type === \"add\" || c.type === \"remove\");\n  for (const change of addRemoveChanges) {\n    if (change.type === \"add\") {\n      const index = elements.findIndex((el) => el.id === change.item.id);\n      if (index === -1) {\n        elements.push(change.item);\n      }\n    } else if (change.type === \"remove\") {\n      const index = elements.findIndex((el) => el.id === change.id);\n      if (index !== -1) {\n        elements.splice(index, 1);\n      }\n    }\n  }\n  const elementIds = elements.map((el) => el.id);\n  for (const element of elements) {\n    for (const currentChange of changes) {\n      if (currentChange.id !== element.id) {\n        continue;\n      }\n      switch (currentChange.type) {\n        case \"select\":\n          element.selected = currentChange.selected;\n          break;\n        case \"position\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.position !== \"undefined\") {\n              element.position = currentChange.position;\n            }\n            if (typeof currentChange.dragging !== \"undefined\") {\n              element.dragging = currentChange.dragging;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                handleParentExpand(element, parent);\n              }\n            }\n          }\n          break;\n        case \"dimensions\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.dimensions !== \"undefined\") {\n              element.dimensions = currentChange.dimensions;\n            }\n            if (typeof currentChange.updateStyle !== \"undefined\") {\n              element.style = {\n                ...element.style || {},\n                width: `${(_a = currentChange.dimensions) == null ? void 0 : _a.width}px`,\n                height: `${(_b = currentChange.dimensions) == null ? void 0 : _b.height}px`\n              };\n            }\n            if (typeof currentChange.resizing !== \"undefined\") {\n              element.resizing = currentChange.resizing;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                const parentInit = !!parent.dimensions.width && !!parent.dimensions.height;\n                if (!parentInit) {\n                  nextTick(() => {\n                    handleParentExpand(element, parent);\n                  });\n                } else {\n                  handleParentExpand(element, parent);\n                }\n              }\n            }\n          }\n          break;\n      }\n    }\n  }\n  return elements;\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction createSelectionChange(id2, selected) {\n  return {\n    id: id2,\n    type: \"select\",\n    selected\n  };\n}\nfunction createAdditionChange(item) {\n  return {\n    item,\n    type: \"add\"\n  };\n}\nfunction createNodeRemoveChange(id2) {\n  return {\n    id: id2,\n    type: \"remove\"\n  };\n}\nfunction createEdgeRemoveChange(id2, source, target, sourceHandle, targetHandle) {\n  return {\n    id: id2,\n    source,\n    target,\n    sourceHandle: sourceHandle || null,\n    targetHandle: targetHandle || null,\n    type: \"remove\"\n  };\n}\nfunction getSelectionChanges(items, selectedIds = /* @__PURE__ */ new Set(), mutateItem = false) {\n  const changes = [];\n  for (const [id2, item] of items) {\n    const willBeSelected = selectedIds.has(id2);\n    if (!(item.selected === void 0 && !willBeSelected) && item.selected !== willBeSelected) {\n      if (mutateItem) {\n        item.selected = willBeSelected;\n      }\n      changes.push(createSelectionChange(item.id, willBeSelected));\n    }\n  }\n  return changes;\n}\nfunction createExtendedEventHook(defaultHandler) {\n  const fns = /* @__PURE__ */ new Set();\n  let hasDefaultHandler = false;\n  const hasListeners = () => fns.size > 0;\n  if (defaultHandler) {\n    hasDefaultHandler = true;\n    fns.add(defaultHandler);\n  }\n  const off = (fn) => {\n    fns.delete(fn);\n  };\n  const on = (fn) => {\n    if (defaultHandler && hasDefaultHandler) {\n      fns.delete(defaultHandler);\n    }\n    fns.add(fn);\n    const offFn = () => {\n      off(fn);\n      if (defaultHandler && hasDefaultHandler) {\n        fns.add(defaultHandler);\n      }\n    };\n    tryOnScopeDispose(offFn);\n    return {\n      off: offFn\n    };\n  };\n  const trigger = (param) => {\n    return Promise.all(Array.from(fns).map((fn) => fn(param)));\n  };\n  return {\n    on,\n    off,\n    trigger,\n    hasListeners,\n    fns\n  };\n}\nfunction hasSelector(target, selector2, node) {\n  let current = target;\n  do {\n    if (current && current.matches(selector2)) {\n      return true;\n    } else if (current === node) {\n      return false;\n    }\n    current = current.parentElement;\n  } while (current);\n  return false;\n}\nfunction getDragItems(nodes, nodesDraggable, mousePos, findNode, nodeId) {\n  var _a, _b;\n  const dragItems = [];\n  for (const node of nodes) {\n    if ((node.selected || node.id === nodeId) && (!node.parentNode || !isParentSelected(node, findNode)) && (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\")) {\n      dragItems.push(\n        markRaw({\n          id: node.id,\n          position: node.position || { x: 0, y: 0 },\n          distance: {\n            x: mousePos.x - ((_a = node.computedPosition) == null ? void 0 : _a.x) || 0,\n            y: mousePos.y - ((_b = node.computedPosition) == null ? void 0 : _b.y) || 0\n          },\n          from: node.computedPosition,\n          extent: node.extent,\n          parentNode: node.parentNode,\n          dimensions: node.dimensions,\n          expandParent: node.expandParent\n        })\n      );\n    }\n  }\n  return dragItems;\n}\nfunction getEventHandlerParams({\n  id: id2,\n  dragItems,\n  findNode\n}) {\n  const extendedDragItems = [];\n  for (const dragItem of dragItems) {\n    const node = findNode(dragItem.id);\n    if (node) {\n      extendedDragItems.push(node);\n    }\n  }\n  return [id2 ? extendedDragItems.find((n) => n.id === id2) : extendedDragItems[0], extendedDragItems];\n}\nfunction getExtentPadding(padding) {\n  if (Array.isArray(padding)) {\n    switch (padding.length) {\n      case 1:\n        return [padding[0], padding[0], padding[0], padding[0]];\n      case 2:\n        return [padding[0], padding[1], padding[0], padding[1]];\n      case 3:\n        return [padding[0], padding[1], padding[2], padding[1]];\n      case 4:\n        return padding;\n      default:\n        return [0, 0, 0, 0];\n    }\n  }\n  return [padding, padding, padding, padding];\n}\nfunction getParentExtent(currentExtent, node, parent) {\n  const [top, right, bottom, left] = typeof currentExtent !== \"string\" ? getExtentPadding(currentExtent.padding) : [0, 0, 0, 0];\n  if (parent && typeof parent.computedPosition.x !== \"undefined\" && typeof parent.computedPosition.y !== \"undefined\" && typeof parent.dimensions.width !== \"undefined\" && typeof parent.dimensions.height !== \"undefined\") {\n    return [\n      [parent.computedPosition.x + left, parent.computedPosition.y + top],\n      [\n        parent.computedPosition.x + parent.dimensions.width - right,\n        parent.computedPosition.y + parent.dimensions.height - bottom\n      ]\n    ];\n  }\n  return false;\n}\nfunction getExtent(item, triggerError, extent, parent) {\n  let currentExtent = item.extent || extent;\n  if ((currentExtent === \"parent\" || !Array.isArray(currentExtent) && (currentExtent == null ? void 0 : currentExtent.range) === \"parent\") && !item.expandParent) {\n    if (item.parentNode && parent && item.dimensions.width && item.dimensions.height) {\n      const parentExtent = getParentExtent(currentExtent, item, parent);\n      if (parentExtent) {\n        currentExtent = parentExtent;\n      }\n    } else {\n      triggerError(new VueFlowError(ErrorCode.NODE_EXTENT_INVALID, item.id));\n      currentExtent = extent;\n    }\n  } else if (Array.isArray(currentExtent)) {\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent[0][0] + parentX, currentExtent[0][1] + parentY],\n      [currentExtent[1][0] + parentX, currentExtent[1][1] + parentY]\n    ];\n  } else if (currentExtent !== \"parent\" && (currentExtent == null ? void 0 : currentExtent.range) && Array.isArray(currentExtent.range)) {\n    const [top, right, bottom, left] = getExtentPadding(currentExtent.padding);\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent.range[0][0] + parentX + left, currentExtent.range[0][1] + parentY + top],\n      [currentExtent.range[1][0] + parentX - right, currentExtent.range[1][1] + parentY - bottom]\n    ];\n  }\n  return currentExtent === \"parent\" ? [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n  ] : currentExtent;\n}\nfunction clampNodeExtent({ width, height }, extent) {\n  return [extent[0], [extent[1][0] - (width || 0), extent[1][1] - (height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, triggerError, nodeExtent, parentNode) {\n  const extent = clampNodeExtent(node.dimensions, getExtent(node, triggerError, nodeExtent, parentNode));\n  const clampedPos = clampPosition(nextPosition, extent);\n  return {\n    position: {\n      x: clampedPos.x - ((parentNode == null ? void 0 : parentNode.computedPosition.x) || 0),\n      y: clampedPos.y - ((parentNode == null ? void 0 : parentNode.computedPosition.y) || 0)\n    },\n    computedPosition: clampedPos\n  };\n}\nfunction getHandlePosition(node, handle, fallbackPosition = Position.Left) {\n  const x = ((handle == null ? void 0 : handle.x) ?? 0) + node.computedPosition.x;\n  const y = ((handle == null ? void 0 : handle.y) ?? 0) + node.computedPosition.y;\n  const { width, height } = handle ?? getNodeDimensions(node);\n  const position = (handle == null ? void 0 : handle.position) ?? fallbackPosition;\n  switch (position) {\n    case Position.Top:\n      return {\n        x: x + width / 2,\n        y\n      };\n    case Position.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n    case Position.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n    case Position.Left:\n      return {\n        x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds = [], handleId) {\n  if (!bounds.length) {\n    return null;\n  }\n  return (!handleId ? bounds[0] : bounds.find((d) => d.id === handleId)) || null;\n}\nfunction isEdgeVisible({\n  sourcePos,\n  targetPos,\n  sourceWidth,\n  sourceHeight,\n  targetWidth,\n  targetHeight,\n  width,\n  height,\n  viewport\n}) {\n  const edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n  const viewBox = rectToBox({\n    x: (0 - viewport.x) / viewport.zoom,\n    y: (0 - viewport.y) / viewport.zoom,\n    width: width / viewport.zoom,\n    height: height / viewport.zoom\n  });\n  const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  const overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getEdgeZIndex(edge, findNode, elevateEdgesOnSelect = false) {\n  const hasZIndex = typeof edge.zIndex === \"number\";\n  let z = hasZIndex ? edge.zIndex : 0;\n  const source = findNode(edge.source);\n  const target = findNode(edge.target);\n  if (!source || !target) {\n    return 0;\n  }\n  if (elevateEdgesOnSelect) {\n    z = hasZIndex ? edge.zIndex : Math.max(source.computedPosition.z || 0, target.computedPosition.z || 0);\n  }\n  return z;\n}\nvar ErrorCode = /* @__PURE__ */ ((ErrorCode2) => {\n  ErrorCode2[\"MISSING_STYLES\"] = \"MISSING_STYLES\";\n  ErrorCode2[\"MISSING_VIEWPORT_DIMENSIONS\"] = \"MISSING_VIEWPORT_DIMENSIONS\";\n  ErrorCode2[\"NODE_INVALID\"] = \"NODE_INVALID\";\n  ErrorCode2[\"NODE_NOT_FOUND\"] = \"NODE_NOT_FOUND\";\n  ErrorCode2[\"NODE_MISSING_PARENT\"] = \"NODE_MISSING_PARENT\";\n  ErrorCode2[\"NODE_TYPE_MISSING\"] = \"NODE_TYPE_MISSING\";\n  ErrorCode2[\"NODE_EXTENT_INVALID\"] = \"NODE_EXTENT_INVALID\";\n  ErrorCode2[\"EDGE_INVALID\"] = \"EDGE_INVALID\";\n  ErrorCode2[\"EDGE_NOT_FOUND\"] = \"EDGE_NOT_FOUND\";\n  ErrorCode2[\"EDGE_SOURCE_MISSING\"] = \"EDGE_SOURCE_MISSING\";\n  ErrorCode2[\"EDGE_TARGET_MISSING\"] = \"EDGE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_TYPE_MISSING\"] = \"EDGE_TYPE_MISSING\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_SAME\"] = \"EDGE_SOURCE_TARGET_SAME\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_MISSING\"] = \"EDGE_SOURCE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_ORPHANED\"] = \"EDGE_ORPHANED\";\n  ErrorCode2[\"USEVUEFLOW_OPTIONS\"] = \"USEVUEFLOW_OPTIONS\";\n  return ErrorCode2;\n})(ErrorCode || {});\nconst messages = {\n  [\n    \"MISSING_STYLES\"\n    /* MISSING_STYLES */\n  ]: () => `It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly`,\n  [\n    \"MISSING_VIEWPORT_DIMENSIONS\"\n    /* MISSING_VIEWPORT_DIMENSIONS */\n  ]: () => \"The Vue Flow parent container needs a width and a height to render the graph\",\n  [\n    \"NODE_INVALID\"\n    /* NODE_INVALID */\n  ]: (id2) => `Node is invalid\nNode: ${id2}`,\n  [\n    \"NODE_NOT_FOUND\"\n    /* NODE_NOT_FOUND */\n  ]: (id2) => `Node not found\nNode: ${id2}`,\n  [\n    \"NODE_MISSING_PARENT\"\n    /* NODE_MISSING_PARENT */\n  ]: (id2, parentId) => `Node is missing a parent\nNode: ${id2}\nParent: ${parentId}`,\n  [\n    \"NODE_TYPE_MISSING\"\n    /* NODE_TYPE_MISSING */\n  ]: (type) => `Node type is missing\nType: ${type}`,\n  [\n    \"NODE_EXTENT_INVALID\"\n    /* NODE_EXTENT_INVALID */\n  ]: (id2) => `Only child nodes can use a parent extent\nNode: ${id2}`,\n  [\n    \"EDGE_INVALID\"\n    /* EDGE_INVALID */\n  ]: (id2) => `An edge needs a source and a target\nEdge: ${id2}`,\n  [\n    \"EDGE_SOURCE_MISSING\"\n    /* EDGE_SOURCE_MISSING */\n  ]: (id2, source) => `Edge source is missing\nEdge: ${id2} \nSource: ${source}`,\n  [\n    \"EDGE_TARGET_MISSING\"\n    /* EDGE_TARGET_MISSING */\n  ]: (id2, target) => `Edge target is missing\nEdge: ${id2} \nTarget: ${target}`,\n  [\n    \"EDGE_TYPE_MISSING\"\n    /* EDGE_TYPE_MISSING */\n  ]: (type) => `Edge type is missing\nType: ${type}`,\n  [\n    \"EDGE_SOURCE_TARGET_SAME\"\n    /* EDGE_SOURCE_TARGET_SAME */\n  ]: (id2, source, target) => `Edge source and target are the same\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_SOURCE_TARGET_MISSING\"\n    /* EDGE_SOURCE_TARGET_MISSING */\n  ]: (id2, source, target) => `Edge source or target is missing\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_ORPHANED\"\n    /* EDGE_ORPHANED */\n  ]: (id2) => `Edge was orphaned (suddenly missing source or target) and has been removed\nEdge: ${id2}`,\n  [\n    \"EDGE_NOT_FOUND\"\n    /* EDGE_NOT_FOUND */\n  ]: (id2) => `Edge not found\nEdge: ${id2}`,\n  // deprecation errors\n  [\n    \"USEVUEFLOW_OPTIONS\"\n    /* USEVUEFLOW_OPTIONS */\n  ]: () => `The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead`\n};\nclass VueFlowError extends Error {\n  constructor(code, ...args) {\n    var _a;\n    super((_a = messages[code]) == null ? void 0 : _a.call(messages, ...args));\n    this.name = \"VueFlowError\";\n    this.code = code;\n    this.args = args;\n  }\n}\nfunction isErrorOfType(error, code) {\n  return error.code === code;\n}\nfunction isMouseEvent(event) {\n  return \"clientX\" in event;\n}\nfunction getEventPosition(event, bounds) {\n  var _a, _b;\n  const isMouseTriggered = isMouseEvent(event);\n  const evtX = isMouseTriggered ? event.clientX : (_a = event.touches) == null ? void 0 : _a[0].clientX;\n  const evtY = isMouseTriggered ? event.clientY : (_b = event.touches) == null ? void 0 : _b[0].clientY;\n  return {\n    x: evtX - ((bounds == null ? void 0 : bounds.left) ?? 0),\n    y: evtY - ((bounds == null ? void 0 : bounds.top) ?? 0)\n  };\n}\nconst isMacOs = () => {\n  var _a;\n  return typeof navigator !== \"undefined\" && ((_a = navigator == null ? void 0 : navigator.userAgent) == null ? void 0 : _a.indexOf(\"Mac\")) >= 0;\n};\nfunction getNodeDimensions(node) {\n  var _a, _b;\n  return {\n    width: ((_a = node.dimensions) == null ? void 0 : _a.width) ?? node.width ?? 0,\n    height: ((_b = node.dimensions) == null ? void 0 : _b.height) ?? node.height ?? 0\n  };\n}\nfunction defaultValidHandleResult() {\n  return {\n    handleDomNode: null,\n    isValid: false,\n    connection: { source: \"\", target: \"\", sourceHandle: null, targetHandle: null },\n    endHandle: null\n  };\n}\nfunction resetRecentHandle(handleDomNode) {\n  handleDomNode == null ? void 0 : handleDomNode.classList.remove(\"valid\", \"connecting\", \"vue-flow__handle-valid\", \"vue-flow__handle-connecting\");\n}\nfunction getHandles(node, handleBounds, type, currentHandle) {\n  const connectionHandles = [];\n  for (const handle of handleBounds[type] || []) {\n    if (`${node.id}-${handle.id}-${type}` !== currentHandle) {\n      const { x, y } = getHandlePosition(node, handle);\n      connectionHandles.push({\n        id: handle.id || null,\n        type,\n        nodeId: node.id,\n        x,\n        y\n      });\n    }\n  }\n  return connectionHandles;\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n  const { x, y } = getEventPosition(event);\n  const domNodes = doc.elementsFromPoint(x, y);\n  const handleBelow = domNodes.find((el) => el.classList.contains(\"vue-flow__handle\"));\n  if (handleBelow) {\n    const handleNodeId = handleBelow.getAttribute(\"data-nodeid\");\n    if (handleNodeId) {\n      const handleType = getHandleType(void 0, handleBelow);\n      const handleId = handleBelow.getAttribute(\"data-handleid\");\n      const validHandleResult = validator({ nodeId: handleNodeId, id: handleId, type: handleType });\n      if (validHandleResult) {\n        const handle = handles.find((h2) => h2.nodeId === handleNodeId && h2.type === handleType && h2.id === handleId);\n        return {\n          handle: {\n            id: handleId,\n            type: handleType,\n            nodeId: handleNodeId,\n            x: (handle == null ? void 0 : handle.x) || pos.x,\n            y: (handle == null ? void 0 : handle.y) || pos.y\n          },\n          validHandleResult\n        };\n      }\n    }\n  }\n  let closestHandles = [];\n  let minDistance = Number.POSITIVE_INFINITY;\n  for (const handle of handles) {\n    const distance2 = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);\n    if (distance2 <= connectionRadius) {\n      const validHandleResult = validator(handle);\n      if (distance2 <= minDistance) {\n        if (distance2 < minDistance) {\n          closestHandles = [{ handle, validHandleResult }];\n        } else if (distance2 === minDistance) {\n          closestHandles.push({\n            handle,\n            validHandleResult\n          });\n        }\n        minDistance = distance2;\n      }\n    }\n  }\n  if (!closestHandles.length) {\n    return { handle: null, validHandleResult: defaultValidHandleResult() };\n  }\n  if (closestHandles.length === 1) {\n    return closestHandles[0];\n  }\n  const hasValidHandle = closestHandles.some(({ validHandleResult }) => validHandleResult.isValid);\n  const hasTargetHandle = closestHandles.some(({ handle }) => handle.type === \"target\");\n  return closestHandles.find(\n    ({ handle, validHandleResult }) => hasTargetHandle ? handle.type === \"target\" : hasValidHandle ? validHandleResult.isValid : true\n  ) || closestHandles[0];\n}\nfunction isValidHandle(event, handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc, edges, nodes, findNode) {\n  const isTarget = fromType === \"target\";\n  const handleDomNode = doc.querySelector(`.vue-flow__handle[data-id=\"${handle == null ? void 0 : handle.nodeId}-${handle == null ? void 0 : handle.id}-${handle == null ? void 0 : handle.type}\"]`);\n  const { x, y } = getEventPosition(event);\n  const elementBelow = doc.elementFromPoint(x, y);\n  const handleToCheck = (elementBelow == null ? void 0 : elementBelow.classList.contains(\"vue-flow__handle\")) ? elementBelow : handleDomNode;\n  const result = defaultValidHandleResult();\n  if (handleToCheck) {\n    result.handleDomNode = handleToCheck;\n    const handleType = getHandleType(void 0, handleToCheck);\n    const handleNodeId = handleToCheck.getAttribute(\"data-nodeid\");\n    const handleId = handleToCheck.getAttribute(\"data-handleid\");\n    const connectable = handleToCheck.classList.contains(\"connectable\");\n    const connectableEnd = handleToCheck.classList.contains(\"connectableend\");\n    const connection = {\n      source: isTarget ? handleNodeId : fromNodeId,\n      sourceHandle: isTarget ? handleId : fromHandleId,\n      target: isTarget ? fromNodeId : handleNodeId,\n      targetHandle: isTarget ? fromHandleId : handleId\n    };\n    result.connection = connection;\n    const isConnectable = connectable && connectableEnd;\n    const isValid = isConnectable && (connectionMode === ConnectionMode.Strict ? isTarget && handleType === \"source\" || !isTarget && handleType === \"target\" : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n    if (isValid) {\n      result.isValid = isValidConnection(connection, {\n        edges,\n        nodes,\n        sourceNode: findNode(connection.source),\n        targetNode: findNode(connection.target)\n      });\n      result.endHandle = {\n        nodeId: handleNodeId,\n        handleId,\n        type: handleType,\n        position: result.isValid ? handleToCheck.getAttribute(\"data-handlepos\") : null\n      };\n    }\n  }\n  return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n  const handleLookup = [];\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    const { handleBounds } = node;\n    let sourceHandles = [];\n    let targetHandles = [];\n    if (handleBounds) {\n      sourceHandles = getHandles(node, handleBounds, \"source\", `${nodeId}-${handleId}-${handleType}`);\n      targetHandles = getHandles(node, handleBounds, \"target\", `${nodeId}-${handleId}-${handleType}`);\n    }\n    handleLookup.push(...sourceHandles, ...targetHandles);\n  }\n  return handleLookup;\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n  if (edgeUpdaterType) {\n    return edgeUpdaterType;\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"target\")) {\n    return \"target\";\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"source\")) {\n    return \"source\";\n  }\n  return null;\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n  let connectionStatus = null;\n  if (isHandleValid) {\n    connectionStatus = \"valid\";\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    connectionStatus = \"invalid\";\n  }\n  return connectionStatus;\n}\nconst productionEnvs = [\"production\", \"prod\"];\nfunction warn(message, ...args) {\n  if (isDev()) {\n    console.warn(`[Vue Flow]: ${message}`, ...args);\n  }\n}\nfunction isDev() {\n  return !productionEnvs.includes(process.env.NODE_ENV || \"\");\n}\nfunction getHandleBounds(selector2, nodeElement, nodeBounds, zoom2) {\n  const handles = nodeElement.querySelectorAll(`.vue-flow__handle${selector2}`);\n  const handlesArray = Array.from(handles);\n  return handlesArray.map((handle) => {\n    const handleBounds = handle.getBoundingClientRect();\n    return {\n      id: handle.getAttribute(\"data-handleid\"),\n      position: handle.getAttribute(\"data-handlepos\"),\n      x: (handleBounds.left - nodeBounds.left) / zoom2,\n      y: (handleBounds.top - nodeBounds.top) / zoom2,\n      ...getDimensions(handle)\n    };\n  });\n}\nfunction handleNodeClick(node, multiSelectionActive, addSelectedNodes, removeSelectedNodes, nodesSelectionActive, unselect = false, nodeEl) {\n  nodesSelectionActive.value = false;\n  if (!node.selected) {\n    addSelectedNodes([node]);\n  } else if (unselect || node.selected && multiSelectionActive) {\n    removeSelectedNodes([node]);\n    nextTick(() => {\n      nodeEl.blur();\n    });\n  }\n}\nfunction isDef(val) {\n  const unrefVal = unref(val);\n  return typeof unrefVal !== \"undefined\";\n}\nfunction addEdgeToStore(edgeParams, edges, triggerError, defaultEdgeOptions) {\n  if (!edgeParams || !edgeParams.source || !edgeParams.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, (edgeParams == null ? void 0 : edgeParams.id) ?? `[ID UNKNOWN]`));\n    return false;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = edgeParams;\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaultEdgeOptions);\n  if (connectionExists(edge, edges)) {\n    return false;\n  }\n  return edge;\n}\nfunction updateEdgeAction(edge, newConnection, edges, findEdge, shouldReplaceId, triggerError) {\n  if (!newConnection.source || !newConnection.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n    return false;\n  }\n  const foundEdge = findEdge(edge.id);\n  if (!foundEdge) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edge.id));\n    return false;\n  }\n  const { id: id2, ...rest } = edge;\n  const newEdge = {\n    ...rest,\n    id: shouldReplaceId ? getEdgeId(newConnection) : id2,\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  edges.splice(edges.indexOf(foundEdge), 1, newEdge);\n  return newEdge;\n}\nfunction createGraphNodes(nodes, findNode, triggerError) {\n  const parentNodes = {};\n  const nextNodes = [];\n  for (let i = 0; i < nodes.length; ++i) {\n    const node = nodes[i];\n    if (!isNode(node)) {\n      triggerError(\n        new VueFlowError(ErrorCode.NODE_INVALID, node == null ? void 0 : node.id) || `[ID UNKNOWN|INDEX ${i}]`\n      );\n      continue;\n    }\n    const parsed = parseNode(node, findNode(node.id), node.parentNode);\n    if (node.parentNode) {\n      parentNodes[node.parentNode] = true;\n    }\n    nextNodes[i] = parsed;\n  }\n  for (const node of nextNodes) {\n    const parentNode = findNode(node.parentNode) || nextNodes.find((n) => n.id === node.parentNode);\n    if (node.parentNode && !parentNode) {\n      triggerError(new VueFlowError(ErrorCode.NODE_MISSING_PARENT, node.id, node.parentNode));\n    }\n    if (node.parentNode || parentNodes[node.id]) {\n      if (parentNodes[node.id]) {\n        node.isParent = true;\n      }\n      if (parentNode) {\n        parentNode.isParent = true;\n      }\n    }\n  }\n  return nextNodes;\n}\nfunction updateConnectionLookup(connectionLookup, edges) {\n  connectionLookup.clear();\n  for (const edge of edges) {\n    const { id: edgeId, source, target, sourceHandle = null, targetHandle = null } = edge;\n    const sourceKey = `${source}-source-${sourceHandle}`;\n    const targetKey = `${target}-target-${targetHandle}`;\n    const prevSource = connectionLookup.get(sourceKey) || /* @__PURE__ */ new Map();\n    const prevTarget = connectionLookup.get(targetKey) || /* @__PURE__ */ new Map();\n    const connection = markRaw({ edgeId, source, target, sourceHandle, targetHandle });\n    connectionLookup.set(sourceKey, prevSource.set(`${target}-${targetHandle}`, connection));\n    connectionLookup.set(targetKey, prevTarget.set(`${source}-${sourceHandle}`, connection));\n  }\n}\nfunction handleConnectionChange(a, b, cb) {\n  if (!cb) {\n    return;\n  }\n  const diff = [];\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      diff.push(a.get(key));\n    }\n  }\n  if (diff.length) {\n    cb(diff);\n  }\n}\nfunction areConnectionMapsEqual(a, b) {\n  if (!a && !b) {\n    return true;\n  }\n  if (!a || !b || a.size !== b.size) {\n    return false;\n  }\n  if (!a.size && !b.size) {\n    return true;\n  }\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction createGraphEdges(nextEdges, isValidConnection, findNode, findEdge, onError, defaultEdgeOptions, nodes, edges) {\n  const validEdges = [];\n  for (const edgeOrConnection of nextEdges) {\n    const edge = isEdge(edgeOrConnection) ? edgeOrConnection : addEdgeToStore(edgeOrConnection, edges, onError, defaultEdgeOptions);\n    if (!edge) {\n      continue;\n    }\n    const sourceNode = findNode(edge.source);\n    const targetNode = findNode(edge.target);\n    if (!sourceNode || !targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.id, edge.source, edge.target));\n      continue;\n    }\n    if (!sourceNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.id, edge.source));\n      continue;\n    }\n    if (!targetNode) {\n      onError(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.id, edge.target));\n      continue;\n    }\n    if (isValidConnection) {\n      const isValid = isValidConnection(edge, {\n        edges,\n        nodes,\n        sourceNode,\n        targetNode\n      });\n      if (!isValid) {\n        onError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n        continue;\n      }\n    }\n    const existingEdge = findEdge(edge.id);\n    validEdges.push({\n      ...parseEdge(edge, existingEdge, defaultEdgeOptions),\n      sourceNode,\n      targetNode\n    });\n  }\n  return validEdges;\n}\nconst VueFlow = Symbol(\"vueFlow\");\nconst NodeId = Symbol(\"nodeId\");\nconst NodeRef = Symbol(\"nodeRef\");\nconst EdgeId = Symbol(\"edgeId\");\nconst EdgeRef = Symbol(\"edgeRef\");\nconst Slots = Symbol(\"slots\");\nfunction useDrag(params) {\n  const {\n    vueFlowRef,\n    snapToGrid,\n    snapGrid,\n    noDragClassName,\n    nodes,\n    nodeExtent,\n    nodeDragThreshold,\n    viewport,\n    autoPanOnNodeDrag,\n    autoPanSpeed,\n    nodesDraggable,\n    panBy,\n    findNode,\n    multiSelectionActive,\n    nodesSelectionActive,\n    selectNodesOnDrag,\n    removeSelectedElements,\n    addSelectedNodes,\n    updateNodePositions,\n    emits\n  } = useVueFlow();\n  const { onStart, onDrag, onStop, onClick, el, disabled, id: id2, selectable, dragHandle } = params;\n  const dragging = ref(false);\n  let dragItems = [];\n  let dragHandler;\n  let containerBounds = null;\n  let lastPos = { x: void 0, y: void 0 };\n  let mousePosition = { x: 0, y: 0 };\n  let dragEvent = null;\n  let dragStarted = false;\n  let autoPanId = 0;\n  let autoPanStarted = false;\n  const getPointerPosition = useGetPointerPosition();\n  const updateNodes = ({ x, y }) => {\n    lastPos = { x, y };\n    let hasChange = false;\n    dragItems = dragItems.map((n) => {\n      const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n      if (snapToGrid.value) {\n        nextPosition.x = snapGrid.value[0] * Math.round(nextPosition.x / snapGrid.value[0]);\n        nextPosition.y = snapGrid.value[1] * Math.round(nextPosition.y / snapGrid.value[1]);\n      }\n      const { computedPosition } = calcNextPosition(\n        n,\n        nextPosition,\n        emits.error,\n        nodeExtent.value,\n        n.parentNode ? findNode(n.parentNode) : void 0\n      );\n      hasChange = hasChange || n.position.x !== computedPosition.x || n.position.y !== computedPosition.y;\n      n.position = computedPosition;\n      return n;\n    });\n    if (!hasChange) {\n      return;\n    }\n    updateNodePositions(dragItems, true, true);\n    dragging.value = true;\n    if (dragEvent) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onDrag({ event: dragEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  const autoPan = () => {\n    if (!containerBounds) {\n      return;\n    }\n    const [xMovement, yMovement] = calcAutoPan(mousePosition, containerBounds, autoPanSpeed.value);\n    if (xMovement !== 0 || yMovement !== 0) {\n      const nextPos = {\n        x: (lastPos.x ?? 0) - xMovement / viewport.value.zoom,\n        y: (lastPos.y ?? 0) - yMovement / viewport.value.zoom\n      };\n      if (panBy({ x: xMovement, y: yMovement })) {\n        updateNodes(nextPos);\n      }\n    }\n    autoPanId = requestAnimationFrame(autoPan);\n  };\n  const startDrag = (event, nodeEl) => {\n    dragStarted = true;\n    const node = findNode(id2);\n    if (!selectNodesOnDrag.value && !multiSelectionActive.value && node) {\n      if (!node.selected) {\n        removeSelectedElements();\n      }\n    }\n    if (node && toValue$1(selectable) && selectNodesOnDrag.value) {\n      handleNodeClick(\n        node,\n        multiSelectionActive.value,\n        addSelectedNodes,\n        removeSelectedElements,\n        nodesSelectionActive,\n        false,\n        nodeEl\n      );\n    }\n    const pointerPos = getPointerPosition(event);\n    lastPos = pointerPos;\n    dragItems = getDragItems(nodes.value, nodesDraggable.value, pointerPos, findNode, id2);\n    if (dragItems.length) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStart({ event: event.sourceEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  const eventStart = (event, nodeEl) => {\n    var _a;\n    if (event.sourceEvent.type === \"touchmove\" && event.sourceEvent.touches.length > 1) {\n      return;\n    }\n    if (nodeDragThreshold.value === 0) {\n      startDrag(event, nodeEl);\n    }\n    lastPos = getPointerPosition(event);\n    containerBounds = ((_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect()) || null;\n    mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n  };\n  const eventDrag = (event, nodeEl) => {\n    const pointerPos = getPointerPosition(event);\n    if (!autoPanStarted && dragStarted && autoPanOnNodeDrag.value) {\n      autoPanStarted = true;\n      autoPan();\n    }\n    if (!dragStarted) {\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 > nodeDragThreshold.value) {\n        startDrag(event, nodeEl);\n      }\n    }\n    if ((lastPos.x !== pointerPos.xSnapped || lastPos.y !== pointerPos.ySnapped) && dragItems.length && dragStarted) {\n      dragEvent = event.sourceEvent;\n      mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n      updateNodes(pointerPos);\n    }\n  };\n  const eventEnd = (event) => {\n    if (!dragStarted) {\n      const pointerPos = getPointerPosition(event);\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 !== 0 && distance2 <= nodeDragThreshold.value) {\n        onClick == null ? void 0 : onClick(event.sourceEvent);\n      }\n      return;\n    }\n    dragging.value = false;\n    autoPanStarted = false;\n    dragStarted = false;\n    cancelAnimationFrame(autoPanId);\n    if (dragItems.length) {\n      updateNodePositions(dragItems, false, false);\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStop({ event: event.sourceEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  watch([() => toValue$1(disabled), el], ([isDisabled, nodeEl], _, onCleanup) => {\n    if (nodeEl) {\n      const selection2 = select(nodeEl);\n      if (!isDisabled) {\n        dragHandler = drag().on(\"start\", (event) => eventStart(event, nodeEl)).on(\"drag\", (event) => eventDrag(event, nodeEl)).on(\"end\", (event) => eventEnd(event)).filter((event) => {\n          const target = event.target;\n          const unrefDragHandle = toValue$1(dragHandle);\n          return !event.button && (!noDragClassName.value || !hasSelector(target, `.${noDragClassName.value}`, nodeEl) && (!unrefDragHandle || hasSelector(target, unrefDragHandle, nodeEl)));\n        });\n        selection2.call(dragHandler);\n      }\n      onCleanup(() => {\n        selection2.on(\".drag\", null);\n        if (dragHandler) {\n          dragHandler.on(\"start\", null);\n          dragHandler.on(\"drag\", null);\n          dragHandler.on(\"end\", null);\n        }\n      });\n    }\n  });\n  return dragging;\n}\nfunction useEdge(id2) {\n  const edgeId = id2 ?? inject(EdgeId, \"\");\n  const edgeEl = inject(EdgeRef, ref(null));\n  const { findEdge, emits } = useVueFlow();\n  const edge = findEdge(edgeId);\n  if (!edge) {\n    emits.error(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edgeId));\n  }\n  return {\n    id: edgeId,\n    edge,\n    edgeEl\n  };\n}\nfunction createEdgeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    updateStart: createExtendedEventHook(),\n    update: createExtendedEventHook(),\n    updateEnd: createExtendedEventHook()\n  };\n}\nfunction useEdgeHooks(edge, emits) {\n  const edgeHooks = createEdgeHooks();\n  edgeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.edgeDoubleClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.click.on((event) => {\n    var _a, _b;\n    emits.edgeClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.edgeMouseEnter(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.edgeMouseMove(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.edgeMouseLeave(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.edgeContextMenu(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateStart.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateStart(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateStart) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.update.on((event) => {\n    var _a, _b;\n    emits.edgeUpdate(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateEnd.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateEnd(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateEnd) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(edgeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useGetPointerPosition() {\n  const { viewport, snapGrid, snapToGrid } = useVueFlow();\n  return ({ sourceEvent: sourceEvent2 }) => {\n    const x = sourceEvent2.touches ? sourceEvent2.touches[0].clientX : sourceEvent2.clientX;\n    const y = sourceEvent2.touches ? sourceEvent2.touches[0].clientY : sourceEvent2.clientY;\n    const pointerPos = {\n      x: (x - viewport.value.x) / viewport.value.zoom,\n      y: (y - viewport.value.y) / viewport.value.zoom\n    };\n    return {\n      xSnapped: snapToGrid.value ? snapGrid.value[0] * Math.round(pointerPos.x / snapGrid.value[0]) : pointerPos.x,\n      ySnapped: snapToGrid.value ? snapGrid.value[1] * Math.round(pointerPos.y / snapGrid.value[1]) : pointerPos.y,\n      ...pointerPos\n    };\n  };\n}\nfunction alwaysValid() {\n  return true;\n}\nfunction useHandle({\n  handleId,\n  nodeId,\n  type,\n  isValidConnection,\n  edgeUpdaterType,\n  onEdgeUpdate,\n  onEdgeUpdateEnd\n}) {\n  const {\n    vueFlowRef,\n    connectionMode,\n    connectionRadius,\n    connectOnClick,\n    connectionClickStartHandle,\n    nodesConnectable,\n    autoPanOnConnect,\n    autoPanSpeed,\n    findNode,\n    panBy,\n    startConnection,\n    updateConnection,\n    endConnection,\n    emits,\n    viewport,\n    edges,\n    nodes,\n    isValidConnection: isValidConnectionProp\n  } = useVueFlow();\n  let connection = null;\n  let isValid = false;\n  let handleDomNode = null;\n  let previousConnection = null;\n  function handlePointerDown(event) {\n    var _a;\n    const isTarget = toValue$1(type) === \"target\";\n    const isMouseTriggered = isMouseEvent(event);\n    const doc = getHostForElement(event.target);\n    if (isMouseTriggered && event.button === 0 || !isMouseTriggered) {\n      let onPointerMove = function(event2) {\n        connectionPosition = getEventPosition(event2, containerBounds);\n        const { handle, validHandleResult } = getClosestHandle(\n          event2,\n          doc,\n          pointToRendererPoint(connectionPosition, viewport.value, false, [1, 1]),\n          connectionRadius.value,\n          handleLookup,\n          (handle2) => isValidHandle(\n            event2,\n            handle2,\n            connectionMode.value,\n            toValue$1(nodeId),\n            toValue$1(handleId),\n            isTarget ? \"target\" : \"source\",\n            isValidConnectionHandler,\n            doc,\n            edges.value,\n            nodes.value,\n            findNode\n          )\n        );\n        closestHandle = handle;\n        if (!autoPanStarted) {\n          autoPan();\n          autoPanStarted = true;\n        }\n        connection = validHandleResult.connection;\n        isValid = validHandleResult.isValid;\n        handleDomNode = validHandleResult.handleDomNode;\n        if (isValid && closestHandle && (previousConnection == null ? void 0 : previousConnection.endHandle) && validHandleResult.endHandle && previousConnection.endHandle.type === validHandleResult.endHandle.type && previousConnection.endHandle.nodeId === validHandleResult.endHandle.nodeId && previousConnection.endHandle.handleId === validHandleResult.endHandle.handleId) {\n          return;\n        }\n        updateConnection(\n          closestHandle && isValid ? rendererPointToPoint(\n            {\n              x: closestHandle.x,\n              y: closestHandle.y\n            },\n            viewport.value\n          ) : connectionPosition,\n          validHandleResult.endHandle,\n          getConnectionStatus(!!closestHandle, isValid)\n        );\n        previousConnection = validHandleResult;\n        if (!closestHandle && !isValid && !handleDomNode) {\n          return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection && connection.source !== connection.target && handleDomNode) {\n          resetRecentHandle(prevActiveHandle);\n          prevActiveHandle = handleDomNode;\n          handleDomNode.classList.add(\"connecting\", \"vue-flow__handle-connecting\");\n          handleDomNode.classList.toggle(\"valid\", isValid);\n          handleDomNode.classList.toggle(\"vue-flow__handle-valid\", isValid);\n        }\n      }, onPointerUp = function(event2) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n          if (!onEdgeUpdate) {\n            emits.connect(connection);\n          } else {\n            onEdgeUpdate(event2, connection);\n          }\n        }\n        emits.connectEnd(event2);\n        if (edgeUpdaterType) {\n          onEdgeUpdateEnd == null ? void 0 : onEdgeUpdateEnd(event2);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelAnimationFrame(autoPanId);\n        endConnection(event2);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener(\"mousemove\", onPointerMove);\n        doc.removeEventListener(\"mouseup\", onPointerUp);\n        doc.removeEventListener(\"touchmove\", onPointerMove);\n        doc.removeEventListener(\"touchend\", onPointerUp);\n      };\n      const node = findNode(toValue$1(nodeId));\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      let closestHandle;\n      let autoPanId = 0;\n      const { x, y } = getEventPosition(event);\n      const clickedHandle = doc == null ? void 0 : doc.elementFromPoint(x, y);\n      const handleType = getHandleType(toValue$1(edgeUpdaterType), clickedHandle);\n      const containerBounds = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!containerBounds || !handleType) {\n        return;\n      }\n      let prevActiveHandle;\n      let connectionPosition = getEventPosition(event, containerBounds);\n      let autoPanStarted = false;\n      const handleLookup = getHandleLookup({\n        nodes: nodes.value,\n        nodeId: toValue$1(nodeId),\n        handleId: toValue$1(handleId),\n        handleType\n      });\n      const autoPan = () => {\n        if (!autoPanOnConnect.value) {\n          return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds, autoPanSpeed.value);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n      };\n      startConnection(\n        {\n          nodeId: toValue$1(nodeId),\n          handleId: toValue$1(handleId),\n          type: handleType,\n          position: (clickedHandle == null ? void 0 : clickedHandle.getAttribute(\"data-handlepos\")) || Position.Top\n        },\n        {\n          x: x - containerBounds.left,\n          y: y - containerBounds.top\n        }\n      );\n      emits.connectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId), handleType });\n      doc.addEventListener(\"mousemove\", onPointerMove);\n      doc.addEventListener(\"mouseup\", onPointerUp);\n      doc.addEventListener(\"touchmove\", onPointerMove);\n      doc.addEventListener(\"touchend\", onPointerUp);\n    }\n  }\n  function handleClick(event) {\n    if (!connectOnClick.value) {\n      return;\n    }\n    const isTarget = toValue$1(type) === \"target\";\n    if (!connectionClickStartHandle.value) {\n      emits.clickConnectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId) });\n      startConnection({ nodeId: toValue$1(nodeId), type: toValue$1(type), handleId: toValue$1(handleId) }, void 0, true);\n    } else {\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      const node = findNode(toValue$1(nodeId));\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      if (node && (typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable) === false) {\n        return;\n      }\n      const doc = getHostForElement(event.target);\n      const { connection: connection2, isValid: isValid2 } = isValidHandle(\n        event,\n        {\n          nodeId: toValue$1(nodeId),\n          id: toValue$1(handleId),\n          type: toValue$1(type)\n        },\n        connectionMode.value,\n        connectionClickStartHandle.value.nodeId,\n        connectionClickStartHandle.value.handleId || null,\n        connectionClickStartHandle.value.type,\n        isValidConnectionHandler,\n        doc,\n        edges.value,\n        nodes.value,\n        findNode\n      );\n      const isOwnHandle = connection2.source === connection2.target;\n      if (isValid2 && !isOwnHandle) {\n        emits.connect(connection2);\n      }\n      emits.clickConnectEnd(event);\n      endConnection(event, true);\n    }\n  }\n  return {\n    handlePointerDown,\n    handleClick\n  };\n}\nfunction useNodeId() {\n  return inject(NodeId, \"\");\n}\nfunction useNode(id2) {\n  const nodeId = id2 ?? useNodeId() ?? \"\";\n  const nodeEl = inject(NodeRef, ref(null));\n  const { findNode, edges, emits } = useVueFlow();\n  const node = findNode(nodeId);\n  if (!node) {\n    emits.error(new VueFlowError(ErrorCode.NODE_NOT_FOUND, nodeId));\n  }\n  return {\n    id: nodeId,\n    nodeEl,\n    node,\n    parentNode: computed(() => findNode(node.parentNode)),\n    connectedEdges: computed(() => getConnectedEdges([node], edges.value))\n  };\n}\nfunction createNodeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    dragStart: createExtendedEventHook(),\n    drag: createExtendedEventHook(),\n    dragStop: createExtendedEventHook()\n  };\n}\nfunction useNodeHooks(node, emits) {\n  const nodeHooks = createNodeHooks();\n  nodeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.nodeDoubleClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.click.on((event) => {\n    var _a, _b;\n    emits.nodeClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.nodeMouseEnter(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.nodeMouseMove(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.nodeMouseLeave(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.nodeContextMenu(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStart.on((event) => {\n    var _a, _b;\n    emits.nodeDragStart(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStart) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.drag.on((event) => {\n    var _a, _b;\n    emits.nodeDrag(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.drag) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStop.on((event) => {\n    var _a, _b;\n    emits.nodeDragStop(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStop) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(nodeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useUpdateNodePositions() {\n  const { getSelectedNodes, nodeExtent, updateNodePositions, findNode, snapGrid, snapToGrid, nodesDraggable, emits } = useVueFlow();\n  return (positionDiff, isShiftPressed = false) => {\n    const xVelo = snapToGrid.value ? snapGrid.value[0] : 5;\n    const yVelo = snapToGrid.value ? snapGrid.value[1] : 5;\n    const factor = isShiftPressed ? 4 : 1;\n    const positionDiffX = positionDiff.x * xVelo * factor;\n    const positionDiffY = positionDiff.y * yVelo * factor;\n    const nodeUpdates = [];\n    for (const node of getSelectedNodes.value) {\n      if (node.draggable || nodesDraggable && typeof node.draggable === \"undefined\") {\n        const nextPosition = { x: node.computedPosition.x + positionDiffX, y: node.computedPosition.y + positionDiffY };\n        const { computedPosition } = calcNextPosition(\n          node,\n          nextPosition,\n          emits.error,\n          nodeExtent.value,\n          node.parentNode ? findNode(node.parentNode) : void 0\n        );\n        nodeUpdates.push({\n          id: node.id,\n          position: computedPosition,\n          from: node.position,\n          distance: { x: positionDiff.x, y: positionDiff.y },\n          dimensions: node.dimensions\n        });\n      }\n    }\n    updateNodePositions(nodeUpdates, true, false);\n  };\n}\nconst DEFAULT_PADDING = 0.1;\nfunction noop() {\n  warn(\"Viewport not initialized yet.\");\n  return Promise.resolve(false);\n}\nconst initialViewportHelper = {\n  zoomIn: noop,\n  zoomOut: noop,\n  zoomTo: noop,\n  fitView: noop,\n  setCenter: noop,\n  fitBounds: noop,\n  project: (position) => position,\n  screenToFlowCoordinate: (position) => position,\n  flowToScreenCoordinate: (position) => position,\n  setViewport: noop,\n  setTransform: noop,\n  getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n  getTransform: () => ({ x: 0, y: 0, zoom: 1 }),\n  viewportInitialized: false\n};\nfunction useViewportHelper(state) {\n  function zoom2(scale, duration) {\n    return new Promise((resolve) => {\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.scaleBy(\n          transition(state.d3Selection, duration, () => {\n            resolve(true);\n          }),\n          scale\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  function transformViewport(x, y, zoom22, duration) {\n    return new Promise((resolve) => {\n      const { x: clampedX, y: clampedY } = clampPosition({ x: -x, y: -y }, state.translateExtent);\n      const nextTransform = identity.translate(-clampedX, -clampedY).scale(zoom22);\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.transform(\n          transition(state.d3Selection, duration, () => {\n            resolve(true);\n          }),\n          nextTransform\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  return computed(() => {\n    const isInitialized = state.d3Zoom && state.d3Selection && state.dimensions.width && state.dimensions.height;\n    if (!isInitialized) {\n      return initialViewportHelper;\n    }\n    return {\n      viewportInitialized: true,\n      // todo: allow passing scale as option\n      zoomIn: (options) => {\n        return zoom2(1.2, options == null ? void 0 : options.duration);\n      },\n      zoomOut: (options) => {\n        return zoom2(1 / 1.2, options == null ? void 0 : options.duration);\n      },\n      zoomTo: (zoomLevel, options) => {\n        return new Promise((resolve) => {\n          if (state.d3Selection && state.d3Zoom) {\n            state.d3Zoom.scaleTo(\n              transition(state.d3Selection, options == null ? void 0 : options.duration, () => {\n                resolve(true);\n              }),\n              zoomLevel\n            );\n          } else {\n            resolve(false);\n          }\n        });\n      },\n      setViewport: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      setTransform: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      getViewport: () => ({\n        x: state.viewport.x,\n        y: state.viewport.y,\n        zoom: state.viewport.zoom\n      }),\n      getTransform: () => {\n        return {\n          x: state.viewport.x,\n          y: state.viewport.y,\n          zoom: state.viewport.zoom\n        };\n      },\n      fitView: (options = {\n        padding: DEFAULT_PADDING,\n        includeHiddenNodes: false,\n        duration: 0\n      }) => {\n        var _a, _b;\n        const nodesToFit = [];\n        for (const node of state.nodes) {\n          const isVisible = node.dimensions.width && node.dimensions.height && ((options == null ? void 0 : options.includeHiddenNodes) || !node.hidden);\n          if (isVisible) {\n            if (!((_a = options.nodes) == null ? void 0 : _a.length) || ((_b = options.nodes) == null ? void 0 : _b.length) && options.nodes.includes(node.id)) {\n              nodesToFit.push(node);\n            }\n          }\n        }\n        if (!nodesToFit.length) {\n          return Promise.resolve(false);\n        }\n        const bounds = getRectOfNodes(nodesToFit);\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          options.minZoom ?? state.minZoom,\n          options.maxZoom ?? state.maxZoom,\n          options.padding ?? DEFAULT_PADDING,\n          options.offset\n        );\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      setCenter: (x, y, options) => {\n        const nextZoom = typeof (options == null ? void 0 : options.zoom) !== \"undefined\" ? options.zoom : state.maxZoom;\n        const centerX = state.dimensions.width / 2 - x * nextZoom;\n        const centerY = state.dimensions.height / 2 - y * nextZoom;\n        return transformViewport(centerX, centerY, nextZoom, options == null ? void 0 : options.duration);\n      },\n      fitBounds: (bounds, options = { padding: DEFAULT_PADDING }) => {\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          state.minZoom,\n          state.maxZoom,\n          options.padding\n        );\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      project: (position) => pointToRendererPoint(position, state.viewport, state.snapToGrid, state.snapGrid),\n      screenToFlowCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x - domX,\n            y: position.y - domY\n          };\n          return pointToRendererPoint(correctedPosition, state.viewport, state.snapToGrid, state.snapGrid);\n        }\n        return { x: 0, y: 0 };\n      },\n      flowToScreenCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x + domX,\n            y: position.y + domY\n          };\n          return rendererPointToPoint(correctedPosition, state.viewport);\n        }\n        return { x: 0, y: 0 };\n      }\n    };\n  });\n}\nfunction transition(selection2, ms = 0, onEnd) {\n  return selection2.transition().duration(ms).on(\"end\", onEnd);\n}\nfunction useWatchProps(models, props, store) {\n  const scope = effectScope(true);\n  scope.run(() => {\n    const watchModelValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!(store.nodes.value.length || store.edges.value.length);\n        pauseModel = watchPausable([models.modelValue, () => {\n          var _a, _b;\n          return (_b = (_a = models.modelValue) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([elements]) => {\n          if (elements && Array.isArray(elements)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setElements(elements);\n            if (!pauseStore && !immediateStore && elements.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, store.edges, () => store.edges.value.length, () => store.nodes.value.length],\n          ([nodes, edges]) => {\n            var _a;\n            if (((_a = models.modelValue) == null ? void 0 : _a.value) && Array.isArray(models.modelValue.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.modelValue.value = [...nodes, ...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchNodesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.nodes.value.length;\n        pauseModel = watchPausable([models.nodes, () => {\n          var _a, _b;\n          return (_b = (_a = models.nodes) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([nodes]) => {\n          if (nodes && Array.isArray(nodes)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setNodes(nodes);\n            if (!pauseStore && !immediateStore && nodes.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, () => store.nodes.value.length],\n          ([nodes]) => {\n            var _a;\n            if (((_a = models.nodes) == null ? void 0 : _a.value) && Array.isArray(models.nodes.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.nodes.value = [...nodes];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchEdgesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.edges.value.length;\n        pauseModel = watchPausable([models.edges, () => {\n          var _a, _b;\n          return (_b = (_a = models.edges) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([edges]) => {\n          if (edges && Array.isArray(edges)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setEdges(edges);\n            if (!pauseStore && !immediateStore && edges.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.edges, () => store.edges.value.length],\n          ([edges]) => {\n            var _a;\n            if (((_a = models.edges) == null ? void 0 : _a.value) && Array.isArray(models.edges.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.edges.value = [...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchMaxZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.maxZoom,\n          () => {\n            if (props.maxZoom && isDef(props.maxZoom)) {\n              store.setMaxZoom(props.maxZoom);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchMinZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.minZoom,\n          () => {\n            if (props.minZoom && isDef(props.minZoom)) {\n              store.setMinZoom(props.minZoom);\n            }\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchTranslateExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.translateExtent,\n          () => {\n            if (props.translateExtent && isDef(props.translateExtent)) {\n              store.setTranslateExtent(props.translateExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchNodeExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.nodeExtent,\n          () => {\n            if (props.nodeExtent && isDef(props.nodeExtent)) {\n              store.setNodeExtent(props.nodeExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchApplyDefault = () => {\n      scope.run(() => {\n        watch(\n          () => props.applyDefault,\n          () => {\n            if (isDef(props.applyDefault)) {\n              store.applyDefault.value = props.applyDefault;\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchAutoConnect = () => {\n      scope.run(() => {\n        const autoConnector = async (params) => {\n          let connection = params;\n          if (typeof props.autoConnect === \"function\") {\n            connection = await props.autoConnect(params);\n          }\n          if (connection !== false) {\n            store.addEdges([connection]);\n          }\n        };\n        watch(\n          () => props.autoConnect,\n          () => {\n            if (isDef(props.autoConnect)) {\n              store.autoConnect.value = props.autoConnect;\n            }\n          },\n          { immediate: true }\n        );\n        watch(\n          store.autoConnect,\n          (autoConnectEnabled, _, onCleanup) => {\n            if (autoConnectEnabled) {\n              store.onConnect(autoConnector);\n            } else {\n              store.hooks.value.connect.off(autoConnector);\n            }\n            onCleanup(() => {\n              store.hooks.value.connect.off(autoConnector);\n            });\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchRest = () => {\n      const skip = [\n        \"id\",\n        \"modelValue\",\n        \"translateExtent\",\n        \"nodeExtent\",\n        \"edges\",\n        \"nodes\",\n        \"maxZoom\",\n        \"minZoom\",\n        \"applyDefault\",\n        \"autoConnect\"\n      ];\n      for (const key of Object.keys(props)) {\n        const propKey = key;\n        if (!skip.includes(propKey)) {\n          const propValue = toRef(() => props[propKey]);\n          const storeRef = store[propKey];\n          if (isRef(storeRef)) {\n            scope.run(() => {\n              watch(\n                propValue,\n                (nextValue) => {\n                  if (isDef(nextValue)) {\n                    storeRef.value = nextValue;\n                  }\n                },\n                { immediate: true }\n              );\n            });\n          }\n        }\n      }\n    };\n    const runAll = () => {\n      watchModelValue();\n      watchNodesValue();\n      watchEdgesValue();\n      watchMinZoom();\n      watchMaxZoom();\n      watchTranslateExtent();\n      watchNodeExtent();\n      watchApplyDefault();\n      watchAutoConnect();\n      watchRest();\n    };\n    runAll();\n  });\n  return () => scope.stop();\n}\nfunction useZoomPanHelper(vueFlowId) {\n  const state = useVueFlow({ id: vueFlowId });\n  const viewportHelper = useViewportHelper(toReactive(state));\n  return {\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params)\n  };\n}\nfunction createHooks() {\n  return {\n    edgesChange: createExtendedEventHook(),\n    nodesChange: createExtendedEventHook(),\n    nodeDoubleClick: createExtendedEventHook(),\n    nodeClick: createExtendedEventHook(),\n    nodeMouseEnter: createExtendedEventHook(),\n    nodeMouseMove: createExtendedEventHook(),\n    nodeMouseLeave: createExtendedEventHook(),\n    nodeContextMenu: createExtendedEventHook(),\n    nodeDragStart: createExtendedEventHook(),\n    nodeDrag: createExtendedEventHook(),\n    nodeDragStop: createExtendedEventHook(),\n    nodesInitialized: createExtendedEventHook(),\n    miniMapNodeClick: createExtendedEventHook(),\n    miniMapNodeDoubleClick: createExtendedEventHook(),\n    miniMapNodeMouseEnter: createExtendedEventHook(),\n    miniMapNodeMouseMove: createExtendedEventHook(),\n    miniMapNodeMouseLeave: createExtendedEventHook(),\n    connect: createExtendedEventHook(),\n    connectStart: createExtendedEventHook(),\n    connectEnd: createExtendedEventHook(),\n    clickConnectStart: createExtendedEventHook(),\n    clickConnectEnd: createExtendedEventHook(),\n    paneReady: createExtendedEventHook(),\n    init: createExtendedEventHook(),\n    move: createExtendedEventHook(),\n    moveStart: createExtendedEventHook(),\n    moveEnd: createExtendedEventHook(),\n    selectionDragStart: createExtendedEventHook(),\n    selectionDrag: createExtendedEventHook(),\n    selectionDragStop: createExtendedEventHook(),\n    selectionContextMenu: createExtendedEventHook(),\n    selectionStart: createExtendedEventHook(),\n    selectionEnd: createExtendedEventHook(),\n    viewportChangeStart: createExtendedEventHook(),\n    viewportChange: createExtendedEventHook(),\n    viewportChangeEnd: createExtendedEventHook(),\n    paneScroll: createExtendedEventHook(),\n    paneClick: createExtendedEventHook(),\n    paneContextMenu: createExtendedEventHook(),\n    paneMouseEnter: createExtendedEventHook(),\n    paneMouseMove: createExtendedEventHook(),\n    paneMouseLeave: createExtendedEventHook(),\n    edgeContextMenu: createExtendedEventHook(),\n    edgeMouseEnter: createExtendedEventHook(),\n    edgeMouseMove: createExtendedEventHook(),\n    edgeMouseLeave: createExtendedEventHook(),\n    edgeDoubleClick: createExtendedEventHook(),\n    edgeClick: createExtendedEventHook(),\n    edgeUpdateStart: createExtendedEventHook(),\n    edgeUpdate: createExtendedEventHook(),\n    edgeUpdateEnd: createExtendedEventHook(),\n    updateNodeInternals: createExtendedEventHook(),\n    error: createExtendedEventHook((err) => warn(err.message))\n  };\n}\nfunction useHooks(emit, hooks) {\n  onBeforeMount(() => {\n    for (const [key, value] of Object.entries(hooks.value)) {\n      const listener = (data) => {\n        emit(key, data);\n      };\n      value.fns.add(listener);\n      tryOnScopeDispose(() => {\n        value.off(listener);\n      });\n    }\n  });\n}\nfunction useState() {\n  return {\n    vueFlowRef: null,\n    viewportRef: null,\n    nodes: [],\n    edges: [],\n    connectionLookup: /* @__PURE__ */ new Map(),\n    nodeTypes: {},\n    edgeTypes: {},\n    initialized: false,\n    dimensions: {\n      width: 0,\n      height: 0\n    },\n    viewport: { x: 0, y: 0, zoom: 1 },\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: null,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    nodeExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    selectionMode: SelectionMode.Full,\n    paneDragging: false,\n    preventScrolling: true,\n    zoomOnScroll: true,\n    zoomOnPinch: true,\n    zoomOnDoubleClick: true,\n    panOnScroll: false,\n    panOnScrollSpeed: 0.5,\n    panOnScrollMode: PanOnScrollMode.Free,\n    paneClickDistance: 0,\n    panOnDrag: true,\n    edgeUpdaterRadius: 10,\n    onlyRenderVisibleElements: false,\n    defaultViewport: { x: 0, y: 0, zoom: 1 },\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    defaultMarkerColor: \"#b1b1b7\",\n    connectionLineStyle: {},\n    connectionLineType: null,\n    connectionLineOptions: {\n      type: ConnectionLineType.Bezier,\n      style: {}\n    },\n    connectionMode: ConnectionMode.Loose,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectionPosition: { x: Number.NaN, y: Number.NaN },\n    connectionRadius: 20,\n    connectOnClick: true,\n    connectionStatus: null,\n    isValidConnection: null,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    edgesUpdatable: false,\n    edgesFocusable: true,\n    nodesFocusable: true,\n    nodesConnectable: true,\n    nodesDraggable: true,\n    nodeDragThreshold: 1,\n    elementsSelectable: true,\n    selectNodesOnDrag: true,\n    multiSelectionActive: false,\n    selectionKeyCode: \"Shift\",\n    multiSelectionKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    zoomActivationKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    deleteKeyCode: \"Backspace\",\n    panActivationKeyCode: \"Space\",\n    hooks: createHooks(),\n    applyDefault: true,\n    autoConnect: false,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    noDragClassName: \"nodrag\",\n    noWheelClassName: \"nowheel\",\n    noPanClassName: \"nopan\",\n    defaultEdgeOptions: void 0,\n    elevateEdgesOnSelect: false,\n    elevateNodesOnSelect: true,\n    autoPanOnNodeDrag: true,\n    autoPanOnConnect: true,\n    autoPanSpeed: 15,\n    disableKeyboardA11y: false,\n    ariaLiveMessage: \"\"\n  };\n}\nconst storeOptionsToSkip = [\n  \"id\",\n  \"vueFlowRef\",\n  \"viewportRef\",\n  \"initialized\",\n  \"modelValue\",\n  \"nodes\",\n  \"edges\",\n  \"maxZoom\",\n  \"minZoom\",\n  \"translateExtent\",\n  \"hooks\",\n  \"defaultEdgeOptions\"\n];\nfunction useActions(state, nodeLookup, edgeLookup) {\n  const viewportHelper = useViewportHelper(state);\n  const updateNodeInternals = (ids) => {\n    const updateIds = ids ?? [];\n    state.hooks.updateNodeInternals.trigger(updateIds);\n  };\n  const getIncomers$1 = (nodeOrId) => {\n    return getIncomers(nodeOrId, state.nodes, state.edges);\n  };\n  const getOutgoers$1 = (nodeOrId) => {\n    return getOutgoers(nodeOrId, state.nodes, state.edges);\n  };\n  const getConnectedEdges$1 = (nodesOrId) => {\n    return getConnectedEdges(nodesOrId, state.edges);\n  };\n  const findNode = (id2) => {\n    if (!id2) {\n      return;\n    }\n    return nodeLookup.value.get(id2);\n  };\n  const findEdge = (id2) => {\n    if (!id2) {\n      return;\n    }\n    return edgeLookup.value.get(id2);\n  };\n  const updateNodePositions = (dragItems, changed, dragging) => {\n    var _a, _b;\n    const changes = [];\n    for (const node of dragItems) {\n      const change = {\n        id: node.id,\n        type: \"position\",\n        dragging,\n        from: node.from\n      };\n      if (changed) {\n        change.position = node.position;\n        if (node.parentNode) {\n          const parentNode = findNode(node.parentNode);\n          change.position = {\n            x: change.position.x - (((_a = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _a.x) ?? 0),\n            y: change.position.y - (((_b = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _b.y) ?? 0)\n          };\n        }\n      }\n      changes.push(change);\n    }\n    if (changes == null ? void 0 : changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const updateNodeDimensions = (updates) => {\n    if (!state.vueFlowRef) {\n      return;\n    }\n    const viewportNode = state.vueFlowRef.querySelector(\".vue-flow__transformationpane\");\n    if (!viewportNode) {\n      return;\n    }\n    const style = window.getComputedStyle(viewportNode);\n    const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n    const changes = [];\n    for (let i = 0; i < updates.length; ++i) {\n      const update = updates[i];\n      const node = findNode(update.id);\n      if (node) {\n        const dimensions = getDimensions(update.nodeElement);\n        const doUpdate = !!(dimensions.width && dimensions.height && (node.dimensions.width !== dimensions.width || node.dimensions.height !== dimensions.height || update.forceUpdate));\n        if (doUpdate) {\n          const nodeBounds = update.nodeElement.getBoundingClientRect();\n          node.dimensions = dimensions;\n          node.handleBounds.source = getHandleBounds(\".source\", update.nodeElement, nodeBounds, zoom2);\n          node.handleBounds.target = getHandleBounds(\".target\", update.nodeElement, nodeBounds, zoom2);\n          changes.push({\n            id: node.id,\n            type: \"dimensions\",\n            dimensions\n          });\n        }\n      }\n    }\n    if (!state.fitViewOnInitDone && state.fitViewOnInit) {\n      viewportHelper.value.fitView().then(() => {\n        state.fitViewOnInitDone = true;\n      });\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const elementSelectionHandler = (elements, selected) => {\n    const nodeIds = /* @__PURE__ */ new Set();\n    const edgeIds = /* @__PURE__ */ new Set();\n    for (const element of elements) {\n      if (isNode(element)) {\n        nodeIds.add(element.id);\n      } else if (isEdge(element)) {\n        edgeIds.add(element.id);\n      }\n    }\n    const changedNodes = getSelectionChanges(nodeLookup.value, nodeIds, true);\n    const changedEdges = getSelectionChanges(edgeLookup.value, edgeIds);\n    if (state.multiSelectionActive) {\n      for (const nodeId of nodeIds) {\n        changedNodes.push(createSelectionChange(nodeId, selected));\n      }\n      for (const edgeId of edgeIds) {\n        changedEdges.push(createSelectionChange(edgeId, selected));\n      }\n    }\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const addSelectedNodes = (nodes) => {\n    if (state.multiSelectionActive) {\n      const nodeChanges = nodes.map((node) => createSelectionChange(node.id, true));\n      state.hooks.nodesChange.trigger(nodeChanges);\n      return;\n    }\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, new Set(nodes.map((n) => n.id)), true));\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value));\n  };\n  const addSelectedEdges = (edges) => {\n    if (state.multiSelectionActive) {\n      const changedEdges = edges.map((edge) => createSelectionChange(edge.id, true));\n      state.hooks.edgesChange.trigger(changedEdges);\n      return;\n    }\n    state.hooks.edgesChange.trigger(getSelectionChanges(edgeLookup.value, new Set(edges.map((e) => e.id))));\n    state.hooks.nodesChange.trigger(getSelectionChanges(nodeLookup.value, /* @__PURE__ */ new Set(), true));\n  };\n  const addSelectedElements = (elements) => {\n    elementSelectionHandler(elements, true);\n  };\n  const removeSelectedNodes = (nodes) => {\n    const nodesToUnselect = nodes || state.nodes;\n    const nodeChanges = nodesToUnselect.map((n) => {\n      n.selected = false;\n      return createSelectionChange(n.id, false);\n    });\n    state.hooks.nodesChange.trigger(nodeChanges);\n  };\n  const removeSelectedEdges = (edges) => {\n    const edgesToUnselect = edges || state.edges;\n    const edgeChanges = edgesToUnselect.map((e) => {\n      e.selected = false;\n      return createSelectionChange(e.id, false);\n    });\n    state.hooks.edgesChange.trigger(edgeChanges);\n  };\n  const removeSelectedElements = (elements) => {\n    if (!elements || !elements.length) {\n      return elementSelectionHandler([], false);\n    }\n    const changes = elements.reduce(\n      (changes2, curr) => {\n        const selectionChange = createSelectionChange(curr.id, false);\n        if (isNode(curr)) {\n          changes2.nodes.push(selectionChange);\n        } else {\n          changes2.edges.push(selectionChange);\n        }\n        return changes2;\n      },\n      { nodes: [], edges: [] }\n    );\n    if (changes.nodes.length) {\n      state.hooks.nodesChange.trigger(changes.nodes);\n    }\n    if (changes.edges.length) {\n      state.hooks.edgesChange.trigger(changes.edges);\n    }\n  };\n  const setMinZoom = (minZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([minZoom, state.maxZoom]);\n    state.minZoom = minZoom;\n  };\n  const setMaxZoom = (maxZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([state.minZoom, maxZoom]);\n    state.maxZoom = maxZoom;\n  };\n  const setTranslateExtent = (translateExtent) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.translateExtent(translateExtent);\n    state.translateExtent = translateExtent;\n  };\n  const setNodeExtent = (nodeExtent) => {\n    state.nodeExtent = nodeExtent;\n    updateNodeInternals();\n  };\n  const setPaneClickDistance = (clickDistance) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.clickDistance(clickDistance);\n  };\n  const setInteractive = (isInteractive) => {\n    state.nodesDraggable = isInteractive;\n    state.nodesConnectable = isInteractive;\n    state.elementsSelectable = isInteractive;\n  };\n  const setNodes = (nodes) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    if (!state.initialized && !nextNodes.length) {\n      return;\n    }\n    state.nodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n  };\n  const setEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    if (!state.initialized && !nextEdges.length) {\n      return;\n    }\n    const validEdges = createGraphEdges(\n      nextEdges,\n      state.isValidConnection,\n      findNode,\n      findEdge,\n      state.hooks.error.trigger,\n      state.defaultEdgeOptions,\n      state.nodes,\n      state.edges\n    );\n    updateConnectionLookup(state.connectionLookup, validEdges);\n    state.edges = validEdges;\n  };\n  const setElements = (elements) => {\n    const nextElements = elements instanceof Function ? elements([...state.nodes, ...state.edges]) : elements;\n    if (!state.initialized && !nextElements.length) {\n      return;\n    }\n    setNodes(nextElements.filter(isNode));\n    setEdges(nextElements.filter(isEdge));\n  };\n  const addNodes = (nodes) => {\n    let nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    nextNodes = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const graphNodes = createGraphNodes(nextNodes, findNode, state.hooks.error.trigger);\n    const changes = [];\n    for (const node of graphNodes) {\n      changes.push(createAdditionChange(node));\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const addEdges = (params) => {\n    let nextEdges = params instanceof Function ? params(state.edges) : params;\n    nextEdges = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const validEdges = createGraphEdges(\n      nextEdges,\n      state.isValidConnection,\n      findNode,\n      findEdge,\n      state.hooks.error.trigger,\n      state.defaultEdgeOptions,\n      state.nodes,\n      state.edges\n    );\n    const changes = [];\n    for (const edge of validEdges) {\n      changes.push(createAdditionChange(edge));\n    }\n    if (changes.length) {\n      state.hooks.edgesChange.trigger(changes);\n    }\n  };\n  const removeNodes = (nodes, removeConnectedEdges = true, removeChildren = false) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    const nodesToRemove = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const nodeChanges = [];\n    const edgeChanges = [];\n    function createEdgeRemovalChanges(nodes2) {\n      const connectedEdges = getConnectedEdges$1(nodes2);\n      for (const edge of connectedEdges) {\n        if (isDef(edge.deletable) ? edge.deletable : true) {\n          edgeChanges.push(createEdgeRemoveChange(edge.id, edge.source, edge.target, edge.sourceHandle, edge.targetHandle));\n        }\n      }\n    }\n    function createChildrenRemovalChanges(id2) {\n      const children2 = [];\n      for (const node of state.nodes) {\n        if (node.parentNode === id2) {\n          children2.push(node);\n        }\n      }\n      if (children2.length) {\n        for (const child of children2) {\n          nodeChanges.push(createNodeRemoveChange(child.id));\n        }\n        if (removeConnectedEdges) {\n          createEdgeRemovalChanges(children2);\n        }\n        for (const child of children2) {\n          createChildrenRemovalChanges(child.id);\n        }\n      }\n    }\n    for (const item of nodesToRemove) {\n      const currNode = typeof item === \"string\" ? findNode(item) : item;\n      if (!currNode) {\n        continue;\n      }\n      if (isDef(currNode.deletable) && !currNode.deletable) {\n        continue;\n      }\n      nodeChanges.push(createNodeRemoveChange(currNode.id));\n      if (removeConnectedEdges) {\n        createEdgeRemovalChanges([currNode]);\n      }\n      if (removeChildren) {\n        createChildrenRemovalChanges(currNode.id);\n      }\n    }\n    if (edgeChanges.length) {\n      state.hooks.edgesChange.trigger(edgeChanges);\n    }\n    if (nodeChanges.length) {\n      state.hooks.nodesChange.trigger(nodeChanges);\n    }\n  };\n  const removeEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    const edgesToRemove = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const changes = [];\n    for (const item of edgesToRemove) {\n      const currEdge = typeof item === \"string\" ? findEdge(item) : item;\n      if (!currEdge) {\n        continue;\n      }\n      if (isDef(currEdge.deletable) && !currEdge.deletable) {\n        continue;\n      }\n      changes.push(\n        createEdgeRemoveChange(\n          typeof item === \"string\" ? item : item.id,\n          currEdge.source,\n          currEdge.target,\n          currEdge.sourceHandle,\n          currEdge.targetHandle\n        )\n      );\n    }\n    state.hooks.edgesChange.trigger(changes);\n  };\n  const updateEdge2 = (oldEdge, newConnection, shouldReplaceId = true) => {\n    return updateEdgeAction(oldEdge, newConnection, state.edges, findEdge, shouldReplaceId, state.hooks.error.trigger);\n  };\n  const updateEdgeData = (id2, dataUpdate, options = { replace: false }) => {\n    const edge = findEdge(id2);\n    if (!edge) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(edge) : dataUpdate;\n    edge.data = options.replace ? nextData : { ...edge.data, ...nextData };\n  };\n  const applyNodeChanges2 = (changes) => {\n    return applyChanges(changes, state.nodes);\n  };\n  const applyEdgeChanges2 = (changes) => {\n    const changedEdges = applyChanges(changes, state.edges);\n    updateConnectionLookup(state.connectionLookup, changedEdges);\n    return changedEdges;\n  };\n  const updateNode = (id2, nodeUpdate, options = { replace: false }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextNode = typeof nodeUpdate === \"function\" ? nodeUpdate(node) : nodeUpdate;\n    if (options.replace) {\n      state.nodes.splice(state.nodes.indexOf(node), 1, nextNode);\n    } else {\n      Object.assign(node, nextNode);\n    }\n  };\n  const updateNodeData = (id2, dataUpdate, options = { replace: false }) => {\n    const node = findNode(id2);\n    if (!node) {\n      return;\n    }\n    const nextData = typeof dataUpdate === \"function\" ? dataUpdate(node) : dataUpdate;\n    node.data = options.replace ? nextData : { ...node.data, ...nextData };\n  };\n  const startConnection = (startHandle, position, isClick = false) => {\n    if (isClick) {\n      state.connectionClickStartHandle = startHandle;\n    } else {\n      state.connectionStartHandle = startHandle;\n    }\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (position) {\n      state.connectionPosition = position;\n    }\n  };\n  const updateConnection = (position, result = null, status = null) => {\n    if (state.connectionStartHandle) {\n      state.connectionPosition = position;\n      state.connectionEndHandle = result;\n      state.connectionStatus = status;\n    }\n  };\n  const endConnection = (event, isClick) => {\n    state.connectionPosition = { x: Number.NaN, y: Number.NaN };\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (isClick) {\n      state.connectionClickStartHandle = null;\n    } else {\n      state.connectionStartHandle = null;\n    }\n  };\n  const getNodeRect = (nodeOrRect) => {\n    const isRectObj = isRect(nodeOrRect);\n    const node = isRectObj ? null : isGraphNode(nodeOrRect) ? nodeOrRect : findNode(nodeOrRect.id);\n    if (!isRectObj && !node) {\n      return [null, null, isRectObj];\n    }\n    const nodeRect = isRectObj ? nodeOrRect : nodeToRect(node);\n    return [nodeRect, node, isRectObj];\n  };\n  const getIntersectingNodes = (nodeOrRect, partially = true, nodes = state.nodes) => {\n    const [nodeRect, node, isRect2] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return [];\n    }\n    const intersections = [];\n    for (const n of nodes || state.nodes) {\n      if (!isRect2 && (n.id === node.id || !n.computedPosition)) {\n        continue;\n      }\n      const currNodeRect = nodeToRect(n);\n      const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n      const partiallyVisible = partially && overlappingArea > 0;\n      if (partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height)) {\n        intersections.push(n);\n      }\n    }\n    return intersections;\n  };\n  const isNodeIntersecting = (nodeOrRect, area, partially = true) => {\n    const [nodeRect] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return false;\n    }\n    const overlappingArea = getOverlappingArea(nodeRect, area);\n    const partiallyVisible = partially && overlappingArea > 0;\n    return partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height);\n  };\n  const panBy = (delta) => {\n    const { viewport, dimensions, d3Zoom, d3Selection, translateExtent } = state;\n    if (!d3Zoom || !d3Selection || !delta.x && !delta.y) {\n      return false;\n    }\n    const nextTransform = identity.translate(viewport.x + delta.x, viewport.y + delta.y).scale(viewport.zoom);\n    const extent = [\n      [0, 0],\n      [dimensions.width, dimensions.height]\n    ];\n    const constrainedTransform = d3Zoom.constrain()(nextTransform, extent, translateExtent);\n    const transformChanged = state.viewport.x !== constrainedTransform.x || state.viewport.y !== constrainedTransform.y || state.viewport.zoom !== constrainedTransform.k;\n    d3Zoom.transform(d3Selection, constrainedTransform);\n    return transformChanged;\n  };\n  const setState = (options) => {\n    const opts = options instanceof Function ? options(state) : options;\n    const exclude = [\n      \"d3Zoom\",\n      \"d3Selection\",\n      \"d3ZoomHandler\",\n      \"viewportRef\",\n      \"vueFlowRef\",\n      \"dimensions\",\n      \"hooks\"\n    ];\n    if (isDef(opts.defaultEdgeOptions)) {\n      state.defaultEdgeOptions = opts.defaultEdgeOptions;\n    }\n    const elements = opts.modelValue || opts.nodes || opts.edges ? [] : void 0;\n    if (elements) {\n      if (opts.modelValue) {\n        elements.push(...opts.modelValue);\n      }\n      if (opts.nodes) {\n        elements.push(...opts.nodes);\n      }\n      if (opts.edges) {\n        elements.push(...opts.edges);\n      }\n      setElements(elements);\n    }\n    const setSkippedOptions = () => {\n      if (isDef(opts.maxZoom)) {\n        setMaxZoom(opts.maxZoom);\n      }\n      if (isDef(opts.minZoom)) {\n        setMinZoom(opts.minZoom);\n      }\n      if (isDef(opts.translateExtent)) {\n        setTranslateExtent(opts.translateExtent);\n      }\n    };\n    for (const o of Object.keys(opts)) {\n      const key = o;\n      const option = opts[key];\n      if (![...storeOptionsToSkip, ...exclude].includes(key) && isDef(option)) {\n        state[key] = option;\n      }\n    }\n    until(() => state.d3Zoom).not.toBeNull().then(setSkippedOptions);\n    if (!state.initialized) {\n      state.initialized = true;\n    }\n  };\n  const toObject = () => {\n    const nodes = [];\n    const edges = [];\n    for (const node of state.nodes) {\n      const {\n        computedPosition: _,\n        handleBounds: __,\n        selected: ___,\n        dimensions: ____,\n        isParent: _____,\n        resizing: ______,\n        dragging: _______,\n        events: _________,\n        ...rest\n      } = node;\n      nodes.push(rest);\n    }\n    for (const edge of state.edges) {\n      const { selected: _, sourceNode: __, targetNode: ___, events: ____, ...rest } = edge;\n      edges.push(rest);\n    }\n    return JSON.parse(\n      JSON.stringify({\n        nodes,\n        edges,\n        position: [state.viewport.x, state.viewport.y],\n        zoom: state.viewport.zoom,\n        viewport: state.viewport\n      })\n    );\n  };\n  const fromObject = (obj) => {\n    return new Promise((resolve) => {\n      const { nodes, edges, position, zoom: zoom2, viewport } = obj;\n      if (nodes) {\n        setNodes(nodes);\n      }\n      if (edges) {\n        setEdges(edges);\n      }\n      if ((viewport == null ? void 0 : viewport.x) && (viewport == null ? void 0 : viewport.y) || position) {\n        const x = (viewport == null ? void 0 : viewport.x) || position[0];\n        const y = (viewport == null ? void 0 : viewport.y) || position[1];\n        const nextZoom = (viewport == null ? void 0 : viewport.zoom) || zoom2 || state.viewport.zoom;\n        return until(() => viewportHelper.value.viewportInitialized).toBe(true).then(() => {\n          viewportHelper.value.setViewport({\n            x,\n            y,\n            zoom: nextZoom\n          }).then(() => {\n            resolve(true);\n          });\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  };\n  const $reset = () => {\n    const resetState = useState();\n    state.edges = [];\n    state.nodes = [];\n    if (state.d3Zoom && state.d3Selection) {\n      const updatedTransform = identity.translate(resetState.defaultViewport.x ?? 0, resetState.defaultViewport.y ?? 0).scale(clamp(resetState.defaultViewport.zoom ?? 1, resetState.minZoom, resetState.maxZoom));\n      const bbox = state.viewportRef.getBoundingClientRect();\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = state.d3Zoom.constrain()(updatedTransform, extent, resetState.translateExtent);\n      state.d3Zoom.transform(state.d3Selection, constrainedTransform);\n    }\n    setState(resetState);\n  };\n  return {\n    updateNodePositions,\n    updateNodeDimensions,\n    setElements,\n    setNodes,\n    setEdges,\n    addNodes,\n    addEdges,\n    removeNodes,\n    removeEdges,\n    findNode,\n    findEdge,\n    updateEdge: updateEdge2,\n    updateEdgeData,\n    updateNode,\n    updateNodeData,\n    applyEdgeChanges: applyEdgeChanges2,\n    applyNodeChanges: applyNodeChanges2,\n    addSelectedElements,\n    addSelectedNodes,\n    addSelectedEdges,\n    setMinZoom,\n    setMaxZoom,\n    setTranslateExtent,\n    setNodeExtent,\n    setPaneClickDistance,\n    removeSelectedElements,\n    removeSelectedNodes,\n    removeSelectedEdges,\n    startConnection,\n    updateConnection,\n    endConnection,\n    setInteractive,\n    setState,\n    getIntersectingNodes,\n    getIncomers: getIncomers$1,\n    getOutgoers: getOutgoers$1,\n    getConnectedEdges: getConnectedEdges$1,\n    isNodeIntersecting,\n    panBy,\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params),\n    screenToFlowCoordinate: (params) => viewportHelper.value.screenToFlowCoordinate(params),\n    flowToScreenCoordinate: (params) => viewportHelper.value.flowToScreenCoordinate(params),\n    toObject,\n    fromObject,\n    updateNodeInternals,\n    viewportHelper,\n    $reset,\n    $destroy: () => {\n    }\n  };\n}\nconst _hoisted_1$9 = [\"data-id\", \"data-handleid\", \"data-nodeid\", \"data-handlepos\"];\nconst __default__$f = {\n  name: \"Handle\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$f = /* @__PURE__ */ defineComponent({\n  ...__default__$f,\n  props: {\n    id: { default: null },\n    type: {},\n    position: { default: () => Position.Top },\n    isValidConnection: { type: Function },\n    connectable: { type: [Boolean, Number, String, Function], default: void 0 },\n    connectableStart: { type: Boolean, default: true },\n    connectableEnd: { type: Boolean, default: true }\n  },\n  setup(__props, { expose: __expose }) {\n    const props = createPropsRestProxy(__props, [\"position\", \"connectable\", \"connectableStart\", \"connectableEnd\", \"id\"]);\n    const type = toRef(() => props.type ?? \"source\");\n    const isValidConnection = toRef(() => props.isValidConnection ?? null);\n    const {\n      connectionStartHandle,\n      connectionClickStartHandle,\n      connectionEndHandle,\n      vueFlowRef,\n      nodesConnectable,\n      noDragClassName,\n      noPanClassName\n    } = useVueFlow();\n    const { id: nodeId, node, nodeEl, connectedEdges } = useNode();\n    const handle = ref();\n    const isConnectableStart = toRef(() => typeof __props.connectableStart !== \"undefined\" ? __props.connectableStart : true);\n    const isConnectableEnd = toRef(() => typeof __props.connectableEnd !== \"undefined\" ? __props.connectableEnd : true);\n    const isConnecting = toRef(\n      () => {\n        var _a, _b, _c, _d, _e, _f;\n        return ((_a = connectionStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionStartHandle.value) == null ? void 0 : _b.handleId) === __props.id && ((_c = connectionStartHandle.value) == null ? void 0 : _c.type) === type.value || ((_d = connectionEndHandle.value) == null ? void 0 : _d.nodeId) === nodeId && ((_e = connectionEndHandle.value) == null ? void 0 : _e.handleId) === __props.id && ((_f = connectionEndHandle.value) == null ? void 0 : _f.type) === type.value;\n      }\n    );\n    const isClickConnecting = toRef(\n      () => {\n        var _a, _b, _c;\n        return ((_a = connectionClickStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionClickStartHandle.value) == null ? void 0 : _b.handleId) === __props.id && ((_c = connectionClickStartHandle.value) == null ? void 0 : _c.type) === type.value;\n      }\n    );\n    const { handlePointerDown, handleClick } = useHandle({\n      nodeId,\n      handleId: __props.id,\n      isValidConnection,\n      type\n    });\n    const isConnectable = computed(() => {\n      if (typeof __props.connectable === \"string\" && __props.connectable === \"single\") {\n        return !connectedEdges.value.some((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        });\n      }\n      if (typeof __props.connectable === \"number\") {\n        return connectedEdges.value.filter((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === __props.id : true;\n        }).length < __props.connectable;\n      }\n      if (typeof __props.connectable === \"function\") {\n        return __props.connectable(node, connectedEdges.value);\n      }\n      return isDef(__props.connectable) ? __props.connectable : nodesConnectable.value;\n    });\n    onMounted(() => {\n      var _a;\n      if (!node.dimensions.width || !node.dimensions.height) {\n        return;\n      }\n      const existingBounds = (_a = node.handleBounds[type.value]) == null ? void 0 : _a.find((b) => b.id === __props.id);\n      if (!vueFlowRef.value || existingBounds) {\n        return;\n      }\n      const viewportNode = vueFlowRef.value.querySelector(\".vue-flow__transformationpane\");\n      if (!nodeEl.value || !handle.value || !viewportNode || !__props.id) {\n        return;\n      }\n      const nodeBounds = nodeEl.value.getBoundingClientRect();\n      const handleBounds = handle.value.getBoundingClientRect();\n      const style = window.getComputedStyle(viewportNode);\n      const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n      const nextBounds = {\n        id: __props.id,\n        position: __props.position,\n        x: (handleBounds.left - nodeBounds.left) / zoom2,\n        y: (handleBounds.top - nodeBounds.top) / zoom2,\n        ...getDimensions(handle.value)\n      };\n      node.handleBounds[type.value] = [...node.handleBounds[type.value] ?? [], nextBounds];\n    });\n    onUnmounted(() => {\n      const handleBounds = node.handleBounds[type.value];\n      if (handleBounds) {\n        node.handleBounds[type.value] = handleBounds.filter((b) => b.id !== __props.id);\n      }\n    });\n    function onPointerDown(event) {\n      const isMouseTriggered = isMouseEvent(event);\n      if (isConnectable.value && isConnectableStart.value && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {\n        handlePointerDown(event);\n      }\n    }\n    function onClick(event) {\n      if (!nodeId || !connectionClickStartHandle.value && !isConnectableStart.value) {\n        return;\n      }\n      if (isConnectable.value) {\n        handleClick(event);\n      }\n    }\n    __expose({\n      handleClick,\n      handlePointerDown,\n      onClick,\n      onPointerDown\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"handle\",\n        ref: handle,\n        \"data-id\": `${unref(nodeId)}-${__props.id}-${type.value}`,\n        \"data-handleid\": __props.id,\n        \"data-nodeid\": unref(nodeId),\n        \"data-handlepos\": _ctx.position,\n        class: normalizeClass([\"vue-flow__handle\", [\n          `vue-flow__handle-${_ctx.position}`,\n          `vue-flow__handle-${__props.id}`,\n          unref(noDragClassName),\n          unref(noPanClassName),\n          type.value,\n          {\n            connectable: isConnectable.value,\n            connecting: isClickConnecting.value,\n            connectablestart: isConnectableStart.value,\n            connectableend: isConnectableEnd.value,\n            connectionindicator: isConnectable.value && (isConnectableStart.value && !isConnecting.value || isConnectableEnd.value && isConnecting.value)\n          }\n        ]]),\n        onMousedown: onPointerDown,\n        onTouchstartPassive: onPointerDown,\n        onClick\n      }, [\n        renderSlot(_ctx.$slots, \"default\", { id: _ctx.id })\n      ], 42, _hoisted_1$9);\n    };\n  }\n});\nconst DefaultNode = function({\n  sourcePosition = Position.Bottom,\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(\"div\", { innerHTML: label }),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nDefaultNode.props = [\"sourcePosition\", \"targetPosition\", \"label\", \"isValidTargetPos\", \"isValidSourcePos\", \"connectable\", \"data\"];\nDefaultNode.inheritAttrs = false;\nDefaultNode.compatConfig = { MODE: 3 };\nconst DefaultNode$1 = DefaultNode;\nconst OutputNode = function({\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(\"div\", { innerHTML: label })\n  ];\n};\nOutputNode.props = [\"targetPosition\", \"label\", \"isValidTargetPos\", \"connectable\", \"data\"];\nOutputNode.inheritAttrs = false;\nOutputNode.compatConfig = { MODE: 3 };\nconst OutputNode$1 = OutputNode;\nconst InputNode = function({\n  sourcePosition = Position.Bottom,\n  label: _label,\n  connectable = true,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    typeof label !== \"string\" && label ? h(label) : h(\"div\", { innerHTML: label }),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nInputNode.props = [\"sourcePosition\", \"label\", \"isValidSourcePos\", \"connectable\", \"data\"];\nInputNode.inheritAttrs = false;\nInputNode.compatConfig = { MODE: 3 };\nconst InputNode$1 = InputNode;\nconst _hoisted_1$8 = [\"transform\"];\nconst _hoisted_2$2 = [\"width\", \"height\", \"x\", \"y\", \"rx\", \"ry\"];\nconst _hoisted_3$1 = [\"y\"];\nconst __default__$e = {\n  name: \"EdgeText\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$e = /* @__PURE__ */ defineComponent({\n  ...__default__$e,\n  props: {\n    x: {},\n    y: {},\n    label: {},\n    labelStyle: { default: () => ({}) },\n    labelShowBg: { type: Boolean, default: true },\n    labelBgStyle: { default: () => ({}) },\n    labelBgPadding: { default: () => [2, 4] },\n    labelBgBorderRadius: { default: 2 }\n  },\n  setup(__props) {\n    const box = ref({ x: 0, y: 0, width: 0, height: 0 });\n    const el = ref(null);\n    const transform = computed(() => `translate(${__props.x - box.value.width / 2} ${__props.y - box.value.height / 2})`);\n    onMounted(getBox);\n    watch([() => __props.x, () => __props.y, el, () => __props.label], getBox);\n    function getBox() {\n      if (!el.value) {\n        return;\n      }\n      const nextBox = el.value.getBBox();\n      if (nextBox.width !== box.value.width || nextBox.height !== box.value.height) {\n        box.value = nextBox;\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"g\", {\n        transform: transform.value,\n        class: \"vue-flow__edge-textwrapper\"\n      }, [\n        _ctx.labelShowBg ? (openBlock(), createElementBlock(\"rect\", {\n          key: 0,\n          class: \"vue-flow__edge-textbg\",\n          width: `${box.value.width + 2 * _ctx.labelBgPadding[0]}px`,\n          height: `${box.value.height + 2 * _ctx.labelBgPadding[1]}px`,\n          x: -_ctx.labelBgPadding[0],\n          y: -_ctx.labelBgPadding[1],\n          style: normalizeStyle(_ctx.labelBgStyle),\n          rx: _ctx.labelBgBorderRadius,\n          ry: _ctx.labelBgBorderRadius\n        }, null, 12, _hoisted_2$2)) : createCommentVNode(\"\", true),\n        createElementVNode(\"text\", mergeProps(_ctx.$attrs, {\n          ref_key: \"el\",\n          ref: el,\n          class: \"vue-flow__edge-text\",\n          y: box.value.height / 2,\n          dy: \"0.3em\",\n          style: _ctx.labelStyle\n        }), [\n          renderSlot(_ctx.$slots, \"default\", {}, () => [\n            typeof _ctx.label !== \"string\" ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.label), { key: 0 })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n              createTextVNode(toDisplayString(_ctx.label), 1)\n            ], 64))\n          ])\n        ], 16, _hoisted_3$1)\n      ], 8, _hoisted_1$8);\n    };\n  }\n});\nconst _hoisted_1$7 = [\"id\", \"d\", \"marker-end\", \"marker-start\"];\nconst _hoisted_2$1 = [\"d\", \"stroke-width\"];\nconst __default__$d = {\n  name: \"BaseEdge\",\n  inheritAttrs: false,\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$d = /* @__PURE__ */ defineComponent({\n  ...__default__$d,\n  props: {\n    id: {},\n    labelX: {},\n    labelY: {},\n    path: {},\n    label: {},\n    markerStart: {},\n    markerEnd: {},\n    interactionWidth: { default: 20 },\n    style: {},\n    labelStyle: {},\n    labelShowBg: { type: Boolean, default: true },\n    labelBgStyle: {},\n    labelBgPadding: {},\n    labelBgBorderRadius: {}\n  },\n  setup(__props, { expose: __expose }) {\n    const props = createPropsRestProxy(__props, [\"interactionWidth\", \"labelShowBg\"]);\n    const pathEl = ref(null);\n    const interactionEl = ref(null);\n    const labelEl = ref(null);\n    const attrs = useAttrs();\n    __expose({\n      pathEl,\n      interactionEl,\n      labelEl\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"path\", {\n          id: _ctx.id,\n          ref_key: \"pathEl\",\n          ref: pathEl,\n          d: _ctx.path,\n          style: normalizeStyle(props.style),\n          class: normalizeClass([\"vue-flow__edge-path\", unref(attrs).class]),\n          \"marker-end\": _ctx.markerEnd,\n          \"marker-start\": _ctx.markerStart\n        }, null, 14, _hoisted_1$7),\n        _ctx.interactionWidth ? (openBlock(), createElementBlock(\"path\", {\n          key: 0,\n          ref_key: \"interactionEl\",\n          ref: interactionEl,\n          fill: \"none\",\n          d: _ctx.path,\n          \"stroke-width\": _ctx.interactionWidth,\n          \"stroke-opacity\": 0,\n          class: \"vue-flow__edge-interaction\"\n        }, null, 8, _hoisted_2$1)) : createCommentVNode(\"\", true),\n        _ctx.label && _ctx.labelX && _ctx.labelY ? (openBlock(), createBlock(_sfc_main$e, {\n          key: 1,\n          ref_key: \"labelEl\",\n          ref: labelEl,\n          x: _ctx.labelX,\n          y: _ctx.labelY,\n          label: _ctx.label,\n          \"label-show-bg\": _ctx.labelShowBg,\n          \"label-bg-style\": _ctx.labelBgStyle,\n          \"label-bg-padding\": _ctx.labelBgPadding,\n          \"label-bg-border-radius\": _ctx.labelBgBorderRadius,\n          \"label-style\": _ctx.labelStyle\n        }, null, 8, [\"x\", \"y\", \"label\", \"label-show-bg\", \"label-bg-style\", \"label-bg-padding\", \"label-bg-border-radius\", \"label-style\"])) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction getSimpleEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY\n}) {\n  const xOffset = Math.abs(targetX - sourceX) / 2;\n  const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  const yOffset = Math.abs(targetY - sourceY) / 2;\n  const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourceControlX,\n  sourceControlY,\n  targetControlX,\n  targetControlY\n}) {\n  const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  const offsetX = Math.abs(centerX - sourceX);\n  const offsetY = Math.abs(centerY - sourceY);\n  return [centerX, centerY, offsetX, offsetY];\n}\nfunction calculateControlOffset(distance2, curvature) {\n  if (distance2 >= 0) {\n    return 0.5 * distance2;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance2);\n  }\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n      ctX = x1 - calculateControlOffset(x1 - x2, c);\n      ctY = y1;\n      break;\n    case Position.Right:\n      ctX = x1 + calculateControlOffset(x2 - x1, c);\n      ctY = y1;\n      break;\n    case Position.Top:\n      ctX = x1;\n      ctY = y1 - calculateControlOffset(y1 - y2, c);\n      break;\n    case Position.Bottom:\n      ctX = x1;\n      ctY = y1 + calculateControlOffset(y2 - y1, c);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getBezierPath(bezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    curvature = 0.25\n  } = bezierPathParams;\n  const [sourceControlX, sourceControlY] = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  });\n  const [targetControlX, targetControlY] = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  });\n  const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    labelX,\n    labelY,\n    offsetX,\n    offsetY\n  ];\n}\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      ctX = 0.5 * (x1 + x2);\n      ctY = y1;\n      break;\n    case Position.Top:\n    case Position.Bottom:\n      ctX = x1;\n      ctY = 0.5 * (y1 + y2);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getSimpleBezierPath(simpleBezierPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top\n  } = simpleBezierPathParams;\n  const [sourceControlX, sourceControlY] = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  });\n  const [targetControlX, targetControlY] = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  });\n  const [centerX, centerY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    centerX,\n    centerY,\n    offsetX,\n    offsetY\n  ];\n}\nconst handleDirections = {\n  [Position.Left]: { x: -1, y: 0 },\n  [Position.Right]: { x: 1, y: 0 },\n  [Position.Top]: { x: 0, y: -1 },\n  [Position.Bottom]: { x: 0, y: 1 }\n};\nfunction getDirection({\n  source,\n  sourcePosition = Position.Bottom,\n  target\n}) {\n  if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n    return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n  }\n  return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n}\nfunction distance(a, b) {\n  return Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n}\nfunction getPoints({\n  source,\n  sourcePosition = Position.Bottom,\n  target,\n  targetPosition = Position.Top,\n  center,\n  offset\n}) {\n  const sourceDir = handleDirections[sourcePosition];\n  const targetDir = handleDirections[targetPosition];\n  const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n  const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n  const dir = getDirection({\n    source: sourceGapped,\n    sourcePosition,\n    target: targetGapped\n  });\n  const dirAccessor = dir.x !== 0 ? \"x\" : \"y\";\n  const currDir = dir[dirAccessor];\n  let points;\n  let centerX, centerY;\n  const sourceGapOffset = { x: 0, y: 0 };\n  const targetGapOffset = { x: 0, y: 0 };\n  const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getSimpleEdgeCenter({\n    sourceX: source.x,\n    sourceY: source.y,\n    targetX: target.x,\n    targetY: target.y\n  });\n  if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n    centerX = center.x ?? defaultCenterX;\n    centerY = center.y ?? defaultCenterY;\n    const verticalSplit = [\n      { x: centerX, y: sourceGapped.y },\n      { x: centerX, y: targetGapped.y }\n    ];\n    const horizontalSplit = [\n      { x: sourceGapped.x, y: centerY },\n      { x: targetGapped.x, y: centerY }\n    ];\n    if (sourceDir[dirAccessor] === currDir) {\n      points = dirAccessor === \"x\" ? verticalSplit : horizontalSplit;\n    } else {\n      points = dirAccessor === \"x\" ? horizontalSplit : verticalSplit;\n    }\n  } else {\n    const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n    const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n    if (dirAccessor === \"x\") {\n      points = sourceDir.x === currDir ? targetSource : sourceTarget;\n    } else {\n      points = sourceDir.y === currDir ? sourceTarget : targetSource;\n    }\n    if (sourcePosition === targetPosition) {\n      const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n      if (diff <= offset) {\n        const gapOffset = Math.min(offset - 1, offset - diff);\n        if (sourceDir[dirAccessor] === currDir) {\n          sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n        } else {\n          targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n        }\n      }\n    }\n    if (sourcePosition !== targetPosition) {\n      const dirAccessorOpposite = dirAccessor === \"x\" ? \"y\" : \"x\";\n      const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n      const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n      const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n      const flipSourceTarget = sourceDir[dirAccessor] === 1 && (!isSameDir && sourceGtTargetOppo || isSameDir && sourceLtTargetOppo) || sourceDir[dirAccessor] !== 1 && (!isSameDir && sourceLtTargetOppo || isSameDir && sourceGtTargetOppo);\n      if (flipSourceTarget) {\n        points = dirAccessor === \"x\" ? sourceTarget : targetSource;\n      }\n    }\n    const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n    const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n    const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n    const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n    if (maxXDistance >= maxYDistance) {\n      centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n      centerY = points[0].y;\n    } else {\n      centerX = points[0].x;\n      centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n    }\n  }\n  const pathPoints = [\n    source,\n    { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n    ...points,\n    { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n    target\n  ];\n  return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n  const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n  const { x, y } = b;\n  if (a.x === x && x === c.x || a.y === y && y === c.y) {\n    return `L${x} ${y}`;\n  }\n  if (a.y === y) {\n    const xDir2 = a.x < c.x ? -1 : 1;\n    const yDir2 = a.y < c.y ? 1 : -1;\n    return `L ${x + bendSize * xDir2},${y}Q ${x},${y} ${x},${y + bendSize * yDir2}`;\n  }\n  const xDir = a.x < c.x ? 1 : -1;\n  const yDir = a.y < c.y ? -1 : 1;\n  return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath(smoothStepPathParams) {\n  const {\n    sourceX,\n    sourceY,\n    sourcePosition = Position.Bottom,\n    targetX,\n    targetY,\n    targetPosition = Position.Top,\n    borderRadius = 5,\n    centerX,\n    centerY,\n    offset = 20\n  } = smoothStepPathParams;\n  const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n    source: { x: sourceX, y: sourceY },\n    sourcePosition,\n    target: { x: targetX, y: targetY },\n    targetPosition,\n    center: { x: centerX, y: centerY },\n    offset\n  });\n  const path = points.reduce((res, p, i) => {\n    let segment;\n    if (i > 0 && i < points.length - 1) {\n      segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n    } else {\n      segment = `${i === 0 ? \"M\" : \"L\"}${p.x} ${p.y}`;\n    }\n    res += segment;\n    return res;\n  }, \"\");\n  return [path, labelX, labelY, offsetX, offsetY];\n}\nfunction getStraightPath(straightEdgeParams) {\n  const { sourceX, sourceY, targetX, targetY } = straightEdgeParams;\n  const [centerX, centerY, offsetX, offsetY] = getSimpleEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY\n  });\n  return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, centerX, centerY, offsetX, offsetY];\n}\nconst StraightEdge = defineComponent({\n  name: \"StraightEdge\",\n  props: [\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getStraightPath(props);\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst StraightEdge$1 = StraightEdge;\nconst SmoothStepEdge = defineComponent({\n  name: \"SmoothStepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"borderRadius\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\",\n    \"offset\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSmoothStepPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SmoothStepEdge$1 = SmoothStepEdge;\nconst StepEdge = defineComponent({\n  name: \"StepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  setup(props, { attrs }) {\n    return () => h(SmoothStepEdge$1, { ...props, ...attrs, borderRadius: 0 });\n  }\n});\nconst StepEdge$1 = StepEdge;\nconst BezierEdge = defineComponent({\n  name: \"BezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"curvature\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst BezierEdge$1 = BezierEdge;\nconst SimpleBezierEdge = defineComponent({\n  name: \"SimpleBezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSimpleBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SimpleBezierEdge$1 = SimpleBezierEdge;\nconst defaultNodeTypes = {\n  input: InputNode$1,\n  default: DefaultNode$1,\n  output: OutputNode$1\n};\nconst defaultEdgeTypes = {\n  default: BezierEdge$1,\n  straight: StraightEdge$1,\n  step: StepEdge$1,\n  smoothstep: SmoothStepEdge$1,\n  simplebezier: SimpleBezierEdge$1\n};\nfunction useGetters(state, nodeLookup, edgeLookup) {\n  const getNode = computed(() => (id2) => nodeLookup.value.get(id2));\n  const getEdge = computed(() => (id2) => edgeLookup.value.get(id2));\n  const getEdgeTypes = computed(() => {\n    const edgeTypes = {\n      ...defaultEdgeTypes,\n      ...state.edgeTypes\n    };\n    const keys = Object.keys(edgeTypes);\n    for (const e of state.edges) {\n      e.type && !keys.includes(e.type) && (edgeTypes[e.type] = e.type);\n    }\n    return edgeTypes;\n  });\n  const getNodeTypes = computed(() => {\n    const nodeTypes = {\n      ...defaultNodeTypes,\n      ...state.nodeTypes\n    };\n    const keys = Object.keys(nodeTypes);\n    for (const n of state.nodes) {\n      n.type && !keys.includes(n.type) && (nodeTypes[n.type] = n.type);\n    }\n    return nodeTypes;\n  });\n  const getNodes = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      return getNodesInside(\n        state.nodes,\n        {\n          x: 0,\n          y: 0,\n          width: state.dimensions.width,\n          height: state.dimensions.height\n        },\n        state.viewport,\n        true\n      );\n    }\n    return state.nodes;\n  });\n  const getEdges = computed(() => {\n    if (state.onlyRenderVisibleElements) {\n      const visibleEdges = [];\n      for (const edge of state.edges) {\n        const source = nodeLookup.value.get(edge.source);\n        const target = nodeLookup.value.get(edge.target);\n        if (isEdgeVisible({\n          sourcePos: source.computedPosition || { x: 0, y: 0 },\n          targetPos: target.computedPosition || { x: 0, y: 0 },\n          sourceWidth: source.dimensions.width,\n          sourceHeight: source.dimensions.height,\n          targetWidth: target.dimensions.width,\n          targetHeight: target.dimensions.height,\n          width: state.dimensions.width,\n          height: state.dimensions.height,\n          viewport: state.viewport\n        })) {\n          visibleEdges.push(edge);\n        }\n      }\n      return visibleEdges;\n    }\n    return state.edges;\n  });\n  const getElements = computed(() => [...getNodes.value, ...getEdges.value]);\n  const getSelectedNodes = computed(() => {\n    const selectedNodes = [];\n    for (const node of state.nodes) {\n      if (node.selected) {\n        selectedNodes.push(node);\n      }\n    }\n    return selectedNodes;\n  });\n  const getSelectedEdges = computed(() => {\n    const selectedEdges = [];\n    for (const edge of state.edges) {\n      if (edge.selected) {\n        selectedEdges.push(edge);\n      }\n    }\n    return selectedEdges;\n  });\n  const getSelectedElements = computed(() => [\n    ...getSelectedNodes.value,\n    ...getSelectedEdges.value\n  ]);\n  const getNodesInitialized = computed(() => {\n    const initializedNodes = [];\n    for (const node of state.nodes) {\n      if (!!node.dimensions.width && !!node.dimensions.height && node.handleBounds !== void 0) {\n        initializedNodes.push(node);\n      }\n    }\n    return initializedNodes;\n  });\n  const areNodesInitialized = computed(\n    () => getNodes.value.length > 0 && getNodesInitialized.value.length === getNodes.value.length\n  );\n  return {\n    getNode,\n    getEdge,\n    getElements,\n    getEdgeTypes,\n    getNodeTypes,\n    getEdges,\n    getNodes,\n    getSelectedElements,\n    getSelectedNodes,\n    getSelectedEdges,\n    getNodesInitialized,\n    areNodesInitialized\n  };\n}\nclass Storage {\n  constructor() {\n    this.currentId = 0;\n    this.flows = /* @__PURE__ */ new Map();\n  }\n  static getInstance() {\n    var _a;\n    const vueApp = (_a = getCurrentInstance()) == null ? void 0 : _a.appContext.app;\n    const existingInstance = (vueApp == null ? void 0 : vueApp.config.globalProperties.$vueFlowStorage) ?? Storage.instance;\n    Storage.instance = existingInstance ?? new Storage();\n    if (vueApp) {\n      vueApp.config.globalProperties.$vueFlowStorage = Storage.instance;\n    }\n    return Storage.instance;\n  }\n  set(id2, flow) {\n    return this.flows.set(id2, flow);\n  }\n  get(id2) {\n    return this.flows.get(id2);\n  }\n  remove(id2) {\n    return this.flows.delete(id2);\n  }\n  create(id2, preloadedState) {\n    const state = useState();\n    const reactiveState = reactive(state);\n    const hooksOn = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      const name = `on${n.charAt(0).toUpperCase() + n.slice(1)}`;\n      hooksOn[name] = h2.on;\n    }\n    const emits = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      emits[n] = h2.trigger;\n    }\n    const nodeLookup = computed(() => {\n      const nodesMap = /* @__PURE__ */ new Map();\n      for (const node of reactiveState.nodes) {\n        nodesMap.set(node.id, node);\n      }\n      return nodesMap;\n    });\n    const edgeLookup = computed(() => {\n      const edgesMap = /* @__PURE__ */ new Map();\n      for (const edge of reactiveState.edges) {\n        edgesMap.set(edge.id, edge);\n      }\n      return edgesMap;\n    });\n    const getters = useGetters(reactiveState, nodeLookup, edgeLookup);\n    const actions = useActions(reactiveState, nodeLookup, edgeLookup);\n    actions.setState({ ...reactiveState, ...preloadedState });\n    const flow = {\n      ...hooksOn,\n      ...getters,\n      ...actions,\n      ...toRefs(reactiveState),\n      nodeLookup,\n      edgeLookup,\n      emits,\n      id: id2,\n      vueFlowVersion: \"1.39.3\",\n      $destroy: () => {\n        this.remove(id2);\n      }\n    };\n    this.set(id2, flow);\n    return flow;\n  }\n  getId() {\n    return `vue-flow-${this.currentId++}`;\n  }\n}\nfunction useVueFlow(idOrOpts) {\n  const storage = Storage.getInstance();\n  const scope = getCurrentScope();\n  const isOptsObj = typeof idOrOpts === \"object\";\n  const options = isOptsObj ? idOrOpts : { id: idOrOpts };\n  const id2 = options.id;\n  const vueFlowId = id2 ?? (scope == null ? void 0 : scope.vueFlowId);\n  let vueFlow;\n  if (scope) {\n    const injectedState = inject(VueFlow, null);\n    if (typeof injectedState !== \"undefined\" && injectedState !== null && (!vueFlowId || injectedState.id === vueFlowId)) {\n      vueFlow = injectedState;\n    }\n  }\n  if (!vueFlow) {\n    if (vueFlowId) {\n      vueFlow = storage.get(vueFlowId);\n    }\n  }\n  if (!vueFlow || vueFlowId && vueFlow.id !== vueFlowId) {\n    const name = id2 ?? storage.getId();\n    const state = storage.create(name, options);\n    vueFlow = state;\n    const vfScope = scope ?? effectScope(true);\n    vfScope.run(() => {\n      watch(\n        state.applyDefault,\n        (shouldApplyDefault, __, onCleanup) => {\n          const nodesChangeHandler = (changes) => {\n            state.applyNodeChanges(changes);\n          };\n          const edgesChangeHandler = (changes) => {\n            state.applyEdgeChanges(changes);\n          };\n          if (shouldApplyDefault) {\n            state.onNodesChange(nodesChangeHandler);\n            state.onEdgesChange(edgesChangeHandler);\n          } else {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          }\n          onCleanup(() => {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          });\n        },\n        { immediate: true }\n      );\n      tryOnScopeDispose(() => {\n        if (vueFlow) {\n          const storedInstance = storage.get(vueFlow.id);\n          if (storedInstance) {\n            storedInstance.$destroy();\n          } else {\n            warn(`No store instance found for id ${vueFlow.id} in storage.`);\n          }\n        }\n      });\n    });\n  } else {\n    if (isOptsObj) {\n      vueFlow.setState(options);\n    }\n  }\n  if (scope) {\n    provide(VueFlow, vueFlow);\n    scope.vueFlowId = vueFlow.id;\n  }\n  if (isOptsObj) {\n    const instance = getCurrentInstance();\n    if ((instance == null ? void 0 : instance.type.name) !== \"VueFlow\") {\n      vueFlow.emits.error(new VueFlowError(ErrorCode.USEVUEFLOW_OPTIONS));\n    }\n  }\n  return vueFlow;\n}\nfunction useResizeHandler(viewportEl) {\n  const { emits, dimensions } = useVueFlow();\n  let resizeObserver;\n  onMounted(() => {\n    const rendererNode = viewportEl.value;\n    const updateDimensions = () => {\n      if (!rendererNode) {\n        return;\n      }\n      const size = getDimensions(rendererNode);\n      if (size.width === 0 || size.height === 0) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_VIEWPORT_DIMENSIONS));\n      }\n      dimensions.value = { width: size.width || 500, height: size.height || 500 };\n    };\n    updateDimensions();\n    window.addEventListener(\"resize\", updateDimensions);\n    if (rendererNode) {\n      resizeObserver = new ResizeObserver(() => updateDimensions());\n      resizeObserver.observe(rendererNode);\n    }\n    onBeforeUnmount(() => {\n      window.removeEventListener(\"resize\", updateDimensions);\n      if (resizeObserver && rendererNode) {\n        resizeObserver.unobserve(rendererNode);\n      }\n    });\n  });\n}\nconst __default__$c = {\n  name: \"UserSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$c = /* @__PURE__ */ defineComponent({\n  ...__default__$c,\n  props: {\n    userSelectionRect: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__selection vue-flow__container\",\n        style: normalizeStyle({\n          width: `${_ctx.userSelectionRect.width}px`,\n          height: `${_ctx.userSelectionRect.height}px`,\n          transform: `translate(${_ctx.userSelectionRect.x}px, ${_ctx.userSelectionRect.y}px)`\n        })\n      }, null, 4);\n    };\n  }\n});\nconst _hoisted_1$6 = [\"tabIndex\"];\nconst __default__$b = {\n  name: \"NodesSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  ...__default__$b,\n  setup(__props) {\n    const { emits, viewport, getSelectedNodes, noPanClassName, disableKeyboardA11y, userSelectionActive } = useVueFlow();\n    const updatePositions = useUpdateNodePositions();\n    const el = ref(null);\n    const dragging = useDrag({\n      el,\n      onStart(args) {\n        emits.selectionDragStart(args);\n      },\n      onDrag(args) {\n        emits.selectionDrag(args);\n      },\n      onStop(args) {\n        emits.selectionDragStop(args);\n      }\n    });\n    onMounted(() => {\n      var _a;\n      if (!disableKeyboardA11y.value) {\n        (_a = el.value) == null ? void 0 : _a.focus({ preventScroll: true });\n      }\n    });\n    const selectedNodesBBox = computed(() => getRectOfNodes(getSelectedNodes.value));\n    const innerStyle = computed(() => ({\n      width: `${selectedNodesBBox.value.width}px`,\n      height: `${selectedNodesBBox.value.height}px`,\n      top: `${selectedNodesBBox.value.y}px`,\n      left: `${selectedNodesBBox.value.x}px`\n    }));\n    function onContextMenu(event) {\n      emits.selectionContextMenu({ event, nodes: getSelectedNodes.value });\n    }\n    function onKeyDown(event) {\n      if (disableKeyboardA11y) {\n        return;\n      }\n      if (arrowKeyDiffs[event.key]) {\n        updatePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n    return (_ctx, _cache) => {\n      return !unref(userSelectionActive) && selectedNodesBBox.value.width && selectedNodesBBox.value.height ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([\"vue-flow__nodesselection vue-flow__container\", unref(noPanClassName)]),\n        style: normalizeStyle({ transform: `translate(${unref(viewport).x}px,${unref(viewport).y}px) scale(${unref(viewport).zoom})` })\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"el\",\n          ref: el,\n          class: normalizeClass([{ dragging: unref(dragging) }, \"vue-flow__nodesselection-rect\"]),\n          style: normalizeStyle(innerStyle.value),\n          tabIndex: unref(disableKeyboardA11y) ? void 0 : -1,\n          onContextmenu: onContextMenu,\n          onKeydown: onKeyDown\n        }, null, 46, _hoisted_1$6)\n      ], 6)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\nconst __default__$a = {\n  name: \"Pane\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  ...__default__$a,\n  props: {\n    isSelecting: { type: Boolean },\n    selectionKeyPressed: { type: Boolean }\n  },\n  setup(__props) {\n    const {\n      vueFlowRef,\n      nodes,\n      viewport,\n      emits,\n      userSelectionActive,\n      removeSelectedElements,\n      panOnDrag,\n      userSelectionRect,\n      elementsSelectable,\n      nodesSelectionActive,\n      getSelectedEdges,\n      getSelectedNodes,\n      removeNodes,\n      removeEdges,\n      selectionMode,\n      deleteKeyCode,\n      multiSelectionKeyCode,\n      multiSelectionActive,\n      edgeLookup,\n      nodeLookup\n    } = useVueFlow();\n    const container = ref(null);\n    const prevSelectedNodesCount = ref(0);\n    const prevSelectedEdgesCount = ref(0);\n    const containerBounds = ref();\n    const edgeIdLookup = ref(/* @__PURE__ */ new Map());\n    const hasActiveSelection = toRef(() => elementsSelectable.value && (__props.isSelecting || userSelectionActive.value));\n    let selectionInProgress = false;\n    let selectionStarted = false;\n    const deleteKeyPressed = useKeyPress(deleteKeyCode, { actInsideInputWithModifier: false });\n    const multiSelectKeyPressed = useKeyPress(multiSelectionKeyCode);\n    watch(deleteKeyPressed, (isKeyPressed) => {\n      if (!isKeyPressed) {\n        return;\n      }\n      removeNodes(getSelectedNodes.value);\n      removeEdges(getSelectedEdges.value);\n      nodesSelectionActive.value = false;\n    });\n    watch(multiSelectKeyPressed, (isKeyPressed) => {\n      multiSelectionActive.value = isKeyPressed;\n    });\n    function wrapHandler(handler, containerRef) {\n      return (event) => {\n        if (event.target !== containerRef) {\n          return;\n        }\n        handler == null ? void 0 : handler(event);\n      };\n    }\n    function resetUserSelection() {\n      userSelectionActive.value = false;\n      userSelectionRect.value = null;\n      prevSelectedNodesCount.value = 0;\n      prevSelectedEdgesCount.value = 0;\n    }\n    function onClick(event) {\n      if (selectionInProgress) {\n        selectionInProgress = false;\n        return;\n      }\n      emits.paneClick(event);\n      removeSelectedElements();\n      nodesSelectionActive.value = false;\n    }\n    function onContextMenu(event) {\n      var _a;\n      if (Array.isArray(panOnDrag.value) && ((_a = panOnDrag.value) == null ? void 0 : _a.includes(2))) {\n        event.preventDefault();\n        return;\n      }\n      emits.paneContextMenu(event);\n    }\n    function onWheel(event) {\n      emits.paneScroll(event);\n    }\n    function onPointerDown(event) {\n      var _a, _b, _c, _d, _e;\n      containerBounds.value = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!elementsSelectable.value || !__props.isSelecting || event.button !== 0 || event.target !== container.value || !containerBounds.value) {\n        return;\n      }\n      (_c = (_b = event.target) == null ? void 0 : _b.setPointerCapture) == null ? void 0 : _c.call(_b, event.pointerId);\n      const { x, y } = getMousePosition(event, containerBounds.value);\n      selectionStarted = true;\n      selectionInProgress = false;\n      edgeIdLookup.value = /* @__PURE__ */ new Map();\n      for (const [id2, edge] of edgeLookup.value) {\n        edgeIdLookup.value.set(edge.source, ((_d = edgeIdLookup.value.get(edge.source)) == null ? void 0 : _d.add(id2)) || /* @__PURE__ */ new Set([id2]));\n        edgeIdLookup.value.set(edge.target, ((_e = edgeIdLookup.value.get(edge.target)) == null ? void 0 : _e.add(id2)) || /* @__PURE__ */ new Set([id2]));\n      }\n      removeSelectedElements();\n      userSelectionRect.value = {\n        width: 0,\n        height: 0,\n        startX: x,\n        startY: y,\n        x,\n        y\n      };\n      userSelectionActive.value = true;\n      nodesSelectionActive.value = false;\n      emits.selectionStart(event);\n    }\n    function onPointerMove(event) {\n      if (!containerBounds.value || !userSelectionRect.value) {\n        return;\n      }\n      selectionInProgress = true;\n      const { x: mouseX, y: mouseY } = getEventPosition(event, containerBounds.value);\n      const { startX = 0, startY = 0 } = userSelectionRect.value;\n      const nextUserSelectRect = {\n        startX,\n        startY,\n        x: mouseX < startX ? mouseX : startX,\n        y: mouseY < startY ? mouseY : startY,\n        width: Math.abs(mouseX - startX),\n        height: Math.abs(mouseY - startY)\n      };\n      const selectedNodes = getNodesInside(\n        nodes.value,\n        nextUserSelectRect,\n        viewport.value,\n        selectionMode.value === SelectionMode.Partial,\n        true\n      );\n      const selectedEdgeIds = /* @__PURE__ */ new Set();\n      const selectedNodeIds = /* @__PURE__ */ new Set();\n      for (const selectedNode of selectedNodes) {\n        selectedNodeIds.add(selectedNode.id);\n        const edgeIds = edgeIdLookup.value.get(selectedNode.id);\n        if (edgeIds) {\n          for (const edgeId of edgeIds) {\n            selectedEdgeIds.add(edgeId);\n          }\n        }\n      }\n      if (prevSelectedNodesCount.value !== selectedNodeIds.size) {\n        prevSelectedNodesCount.value = selectedNodeIds.size;\n        const changes = getSelectionChanges(nodeLookup.value, selectedNodeIds, true);\n        emits.nodesChange(changes);\n      }\n      if (prevSelectedEdgesCount.value !== selectedEdgeIds.size) {\n        prevSelectedEdgesCount.value = selectedEdgeIds.size;\n        const changes = getSelectionChanges(edgeLookup.value, selectedEdgeIds);\n        emits.edgesChange(changes);\n      }\n      userSelectionRect.value = nextUserSelectRect;\n      userSelectionActive.value = true;\n      nodesSelectionActive.value = false;\n    }\n    function onPointerUp(event) {\n      var _a;\n      if (event.button !== 0 || !selectionStarted) {\n        return;\n      }\n      (_a = event.target) == null ? void 0 : _a.releasePointerCapture(event.pointerId);\n      if (!userSelectionActive.value && userSelectionRect.value && event.target === container.value) {\n        onClick(event);\n      }\n      if (prevSelectedNodesCount.value > 0) {\n        nodesSelectionActive.value = true;\n      }\n      resetUserSelection();\n      emits.selectionEnd(event);\n      if (__props.selectionKeyPressed) {\n        selectionInProgress = false;\n      }\n      selectionStarted = false;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"container\",\n        ref: container,\n        class: normalizeClass([\"vue-flow__pane vue-flow__container\", { selection: _ctx.isSelecting }]),\n        onClick: _cache[0] || (_cache[0] = (event) => hasActiveSelection.value ? void 0 : wrapHandler(onClick, container.value)(event)),\n        onContextmenu: _cache[1] || (_cache[1] = ($event) => wrapHandler(onContextMenu, container.value)($event)),\n        onWheelPassive: _cache[2] || (_cache[2] = ($event) => wrapHandler(onWheel, container.value)($event)),\n        onPointerenter: _cache[3] || (_cache[3] = (event) => hasActiveSelection.value ? void 0 : unref(emits).paneMouseEnter(event)),\n        onPointerdown: _cache[4] || (_cache[4] = (event) => hasActiveSelection.value ? onPointerDown(event) : unref(emits).paneMouseMove(event)),\n        onPointermove: _cache[5] || (_cache[5] = (event) => hasActiveSelection.value ? onPointerMove(event) : unref(emits).paneMouseMove(event)),\n        onPointerup: _cache[6] || (_cache[6] = (event) => hasActiveSelection.value ? onPointerUp(event) : void 0),\n        onPointerleave: _cache[7] || (_cache[7] = ($event) => unref(emits).paneMouseLeave($event))\n      }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        unref(userSelectionActive) && unref(userSelectionRect) ? (openBlock(), createBlock(_sfc_main$c, {\n          key: 0,\n          \"user-selection-rect\": unref(userSelectionRect)\n        }, null, 8, [\"user-selection-rect\"])) : createCommentVNode(\"\", true),\n        unref(nodesSelectionActive) && unref(getSelectedNodes).length ? (openBlock(), createBlock(_sfc_main$b, { key: 1 })) : createCommentVNode(\"\", true)\n      ], 34);\n    };\n  }\n});\nconst __default__$9 = {\n  name: \"Transform\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$9,\n  setup(__props) {\n    const { viewport, fitViewOnInit, fitViewOnInitDone } = useVueFlow();\n    const isHidden = computed(() => {\n      if (fitViewOnInit.value) {\n        return !fitViewOnInitDone.value;\n      }\n      return false;\n    });\n    const transform = computed(() => `translate(${viewport.value.x}px,${viewport.value.y}px) scale(${viewport.value.zoom})`);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__transformationpane vue-flow__container\",\n        style: normalizeStyle({ transform: transform.value, opacity: isHidden.value ? 0 : void 0 })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 4);\n    };\n  }\n});\nconst __default__$8 = {\n  name: \"Viewport\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  ...__default__$8,\n  setup(__props) {\n    const {\n      minZoom,\n      maxZoom,\n      defaultViewport,\n      translateExtent,\n      zoomActivationKeyCode,\n      selectionKeyCode,\n      panActivationKeyCode,\n      panOnScroll,\n      panOnScrollMode,\n      panOnScrollSpeed,\n      panOnDrag,\n      zoomOnDoubleClick,\n      zoomOnPinch,\n      zoomOnScroll,\n      preventScrolling,\n      noWheelClassName,\n      noPanClassName,\n      emits,\n      connectionStartHandle,\n      userSelectionActive,\n      paneDragging,\n      d3Zoom: storeD3Zoom,\n      d3Selection: storeD3Selection,\n      d3ZoomHandler: storeD3ZoomHandler,\n      viewport,\n      viewportRef,\n      paneClickDistance\n    } = useVueFlow();\n    useResizeHandler(viewportRef);\n    const isZoomingOrPanning = ref(false);\n    const isPanScrolling = ref(false);\n    let panScrollTimeout = null;\n    let zoomedWithRightMouseButton = false;\n    let mouseButton = 0;\n    let prevTransform = {\n      x: 0,\n      y: 0,\n      zoom: 0\n    };\n    const panKeyPressed = useKeyPress(panActivationKeyCode);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const zoomKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const shouldPanOnDrag = toRef(() => panKeyPressed.value || panOnDrag.value);\n    const shouldPanOnScroll = toRef(() => panKeyPressed.value || panOnScroll.value);\n    const isSelecting = toRef(() => selectionKeyPressed.value || selectionKeyCode.value === true && shouldPanOnDrag.value !== true);\n    onMounted(() => {\n      if (!viewportRef.value) {\n        warn(\"Viewport element is missing\");\n        return;\n      }\n      const viewportElement = viewportRef.value;\n      const bbox = viewportElement.getBoundingClientRect();\n      const d3Zoom = zoom().clickDistance(paneClickDistance.value).scaleExtent([minZoom.value, maxZoom.value]).translateExtent(translateExtent.value);\n      const d3Selection = select(viewportElement).call(d3Zoom);\n      const d3ZoomHandler = d3Selection.on(\"wheel.zoom\");\n      const updatedTransform = identity.translate(defaultViewport.value.x ?? 0, defaultViewport.value.y ?? 0).scale(clamp(defaultViewport.value.zoom ?? 1, minZoom.value, maxZoom.value));\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = d3Zoom.constrain()(updatedTransform, extent, translateExtent.value);\n      d3Zoom.transform(d3Selection, constrainedTransform);\n      d3Zoom.wheelDelta(wheelDelta);\n      storeD3Zoom.value = d3Zoom;\n      storeD3Selection.value = d3Selection;\n      storeD3ZoomHandler.value = d3ZoomHandler;\n      viewport.value = { x: constrainedTransform.x, y: constrainedTransform.y, zoom: constrainedTransform.k };\n      d3Zoom.on(\"start\", (event) => {\n        var _a;\n        if (!event.sourceEvent) {\n          return null;\n        }\n        mouseButton = event.sourceEvent.button;\n        isZoomingOrPanning.value = true;\n        const flowTransform = eventToFlowTransform(event.transform);\n        if (((_a = event.sourceEvent) == null ? void 0 : _a.type) === \"mousedown\") {\n          paneDragging.value = true;\n        }\n        prevTransform = flowTransform;\n        emits.viewportChangeStart(flowTransform);\n        emits.moveStart({ event, flowTransform });\n      });\n      d3Zoom.on(\"end\", (event) => {\n        if (!event.sourceEvent) {\n          return null;\n        }\n        isZoomingOrPanning.value = false;\n        paneDragging.value = false;\n        if (isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0) && !zoomedWithRightMouseButton) {\n          emits.paneContextMenu(event.sourceEvent);\n        }\n        zoomedWithRightMouseButton = false;\n        if (viewChanged(prevTransform, event.transform)) {\n          const flowTransform = eventToFlowTransform(event.transform);\n          prevTransform = flowTransform;\n          emits.viewportChangeEnd(flowTransform);\n          emits.moveEnd({ event, flowTransform });\n        }\n      });\n      d3Zoom.filter((event) => {\n        var _a, _b, _c;\n        const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n        const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n        const eventButton = event.button;\n        if ((shouldPanOnDrag.value === true || Array.isArray(shouldPanOnDrag.value) && shouldPanOnDrag.value.includes(1)) && eventButton === 1 && event.type === \"mousedown\" && (((_a = event.target) == null ? void 0 : _a.closest(\".vue-flow__node\")) || ((_b = event.target) == null ? void 0 : _b.closest(\".vue-flow__edge\")))) {\n          return true;\n        }\n        if (!shouldPanOnDrag.value && !zoomScroll && !shouldPanOnScroll.value && !zoomOnDoubleClick.value && !zoomOnPinch.value) {\n          return false;\n        }\n        if (userSelectionActive.value) {\n          return false;\n        }\n        if (!zoomOnDoubleClick.value && event.type === \"dblclick\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noWheelClassName.value) && event.type === \"wheel\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noPanClassName.value) && (event.type !== \"wheel\" || shouldPanOnScroll.value && event.type === \"wheel\" && !zoomKeyPressed.value)) {\n          return false;\n        }\n        if (!zoomOnPinch.value && event.ctrlKey && event.type === \"wheel\") {\n          return false;\n        }\n        if (!zoomScroll && !shouldPanOnScroll.value && !pinchZoom && event.type === \"wheel\") {\n          return false;\n        }\n        if (!zoomOnPinch && event.type === \"touchstart\" && ((_c = event.touches) == null ? void 0 : _c.length) > 1) {\n          event.preventDefault();\n          return false;\n        }\n        if (!shouldPanOnDrag.value && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        if (Array.isArray(shouldPanOnDrag.value) && !shouldPanOnDrag.value.includes(eventButton) && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        const buttonAllowed = Array.isArray(shouldPanOnDrag.value) && shouldPanOnDrag.value.includes(eventButton) || !eventButton || eventButton <= 1;\n        return (!event.ctrlKey || event.type === \"wheel\") && buttonAllowed;\n      });\n      watch(\n        [userSelectionActive, shouldPanOnDrag],\n        () => {\n          if (userSelectionActive.value && !isZoomingOrPanning.value) {\n            d3Zoom.on(\"zoom\", null);\n          } else if (!userSelectionActive.value) {\n            d3Zoom.on(\"zoom\", (event) => {\n              viewport.value = { x: event.transform.x, y: event.transform.y, zoom: event.transform.k };\n              const flowTransform = eventToFlowTransform(event.transform);\n              zoomedWithRightMouseButton = isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0);\n              emits.viewportChange(flowTransform);\n              emits.move({ event, flowTransform });\n            });\n          }\n        },\n        { immediate: true }\n      );\n      watch(\n        [userSelectionActive, shouldPanOnScroll, panOnScrollMode, zoomKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName],\n        () => {\n          if (shouldPanOnScroll.value && !zoomKeyPressed.value && !userSelectionActive.value) {\n            d3Selection.on(\n              \"wheel.zoom\",\n              (event) => {\n                if (isWrappedWithClass(event, noWheelClassName.value)) {\n                  return false;\n                }\n                const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n                const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n                const scrollEventEnabled = !preventScrolling.value || shouldPanOnScroll.value || zoomScroll || pinchZoom;\n                if (!scrollEventEnabled) {\n                  return false;\n                }\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                const currentZoom = d3Selection.property(\"__zoom\").k || 1;\n                const _isMacOs = isMacOs();\n                if (event.ctrlKey && zoomOnPinch.value && _isMacOs) {\n                  const point = pointer(event);\n                  const pinchDelta = wheelDelta(event);\n                  const zoom2 = currentZoom * 2 ** pinchDelta;\n                  d3Zoom.scaleTo(d3Selection, zoom2, point, event);\n                  return;\n                }\n                const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                let deltaX = panOnScrollMode.value === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                let deltaY = panOnScrollMode.value === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                if (!_isMacOs && event.shiftKey && panOnScrollMode.value !== PanOnScrollMode.Vertical && !deltaX && deltaY) {\n                  deltaX = deltaY;\n                  deltaY = 0;\n                }\n                d3Zoom.translateBy(\n                  d3Selection,\n                  -(deltaX / currentZoom) * panOnScrollSpeed.value,\n                  -(deltaY / currentZoom) * panOnScrollSpeed.value\n                );\n                const nextViewport = eventToFlowTransform(d3Selection.property(\"__zoom\"));\n                if (panScrollTimeout) {\n                  clearTimeout(panScrollTimeout);\n                }\n                if (!isPanScrolling.value) {\n                  isPanScrolling.value = true;\n                  emits.moveStart({ event, flowTransform: nextViewport });\n                  emits.viewportChangeStart(nextViewport);\n                } else {\n                  emits.move({ event, flowTransform: nextViewport });\n                  emits.viewportChange(nextViewport);\n                  panScrollTimeout = setTimeout(() => {\n                    emits.moveEnd({ event, flowTransform: nextViewport });\n                    emits.viewportChangeEnd(nextViewport);\n                    isPanScrolling.value = false;\n                  }, 150);\n                }\n              },\n              { passive: false }\n            );\n          } else if (typeof d3ZoomHandler !== \"undefined\") {\n            d3Selection.on(\n              \"wheel.zoom\",\n              function(event, d) {\n                const invalidEvent = !preventScrolling.value && event.type === \"wheel\" && !event.ctrlKey;\n                const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n                const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n                const scrollEventsDisabled = !zoomScroll && !panOnScroll.value && !pinchZoom && event.type === \"wheel\";\n                if (scrollEventsDisabled || invalidEvent || isWrappedWithClass(event, noWheelClassName.value)) {\n                  return null;\n                }\n                event.preventDefault();\n                d3ZoomHandler.call(this, event, d);\n              },\n              { passive: false }\n            );\n          }\n        },\n        { immediate: true }\n      );\n    });\n    function isRightClickPan(pan, usedButton) {\n      return usedButton === 2 && Array.isArray(pan) && pan.includes(2);\n    }\n    function wheelDelta(event) {\n      const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n      return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * factor;\n    }\n    function viewChanged(prevViewport, eventTransform) {\n      return prevViewport.x !== eventTransform.x && !Number.isNaN(eventTransform.x) || prevViewport.y !== eventTransform.y && !Number.isNaN(eventTransform.y) || prevViewport.zoom !== eventTransform.k && !Number.isNaN(eventTransform.k);\n    }\n    function eventToFlowTransform(eventTransform) {\n      return {\n        x: eventTransform.x,\n        y: eventTransform.y,\n        zoom: eventTransform.k\n      };\n    }\n    function isWrappedWithClass(event, className) {\n      return event.target.closest(`.${className}`);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"viewportRef\",\n        ref: viewportRef,\n        class: \"vue-flow__viewport vue-flow__container\"\n      }, [\n        createVNode(_sfc_main$a, {\n          \"is-selecting\": isSelecting.value,\n          \"selection-key-pressed\": unref(selectionKeyPressed),\n          class: normalizeClass({ connecting: !!unref(connectionStartHandle), dragging: unref(paneDragging), draggable: shouldPanOnDrag.value })\n        }, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$9, null, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"default\")\n              ]),\n              _: 3\n            })\n          ]),\n          _: 3\n        }, 8, [\"is-selecting\", \"selection-key-pressed\", \"class\"])\n      ], 512);\n    };\n  }\n});\nconst _hoisted_1$5 = [\"id\"];\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = [\"id\"];\nconst __default__$7 = {\n  name: \"A11yDescriptions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  ...__default__$7,\n  setup(__props) {\n    const { id: id2, disableKeyboardA11y, ariaLiveMessage } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_NODE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select a node. \" + toDisplayString(!unref(disableKeyboardA11y) ? \"You can then use the arrow keys to move the node around.\" : \"\") + \" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. \", 9, _hoisted_1$5),\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_EDGE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. \", 8, _hoisted_2),\n        !unref(disableKeyboardA11y) ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          id: `${unref(ARIA_LIVE_MESSAGE)}-${unref(id2)}`,\n          \"aria-live\": \"assertive\",\n          \"aria-atomic\": \"true\",\n          style: { \"position\": \"absolute\", \"width\": \"1px\", \"height\": \"1px\", \"margin\": \"-1px\", \"border\": \"0\", \"padding\": \"0\", \"overflow\": \"hidden\", \"clip\": \"rect(0px, 0px, 0px, 0px)\", \"clip-path\": \"inset(100%)\" }\n        }, toDisplayString(unref(ariaLiveMessage)), 9, _hoisted_3)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction useOnInitHandler() {\n  const vfInstance = useVueFlow();\n  watch(\n    () => vfInstance.viewportHelper.value.viewportInitialized,\n    (isInitialized) => {\n      if (isInitialized) {\n        setTimeout(() => {\n          vfInstance.emits.init(vfInstance);\n          vfInstance.emits.paneReady(vfInstance);\n        }, 1);\n      }\n    }\n  );\n}\nfunction shiftX(x, shift, position) {\n  if (position === Position.Left) {\n    return x - shift;\n  }\n  if (position === Position.Right) {\n    return x + shift;\n  }\n  return x;\n}\nfunction shiftY(y, shift, position) {\n  if (position === Position.Top) {\n    return y - shift;\n  }\n  if (position === Position.Bottom) {\n    return y + shift;\n  }\n  return y;\n}\nconst EdgeAnchor = function({\n  radius = 10,\n  centerX = 0,\n  centerY = 0,\n  position = Position.Top,\n  type\n}) {\n  return h(\"circle\", {\n    class: `vue-flow__edgeupdater vue-flow__edgeupdater-${type}`,\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\nEdgeAnchor.props = [\"radius\", \"centerX\", \"centerY\", \"position\", \"type\"];\nEdgeAnchor.compatConfig = { MODE: 3 };\nconst EdgeAnchor$1 = EdgeAnchor;\nconst EdgeWrapper = defineComponent({\n  name: \"Edge\",\n  compatConfig: { MODE: 3 },\n  props: [\"id\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      addSelectedEdges,\n      connectionMode,\n      edgeUpdaterRadius,\n      emits,\n      nodesSelectionActive,\n      noPanClassName,\n      getEdgeTypes,\n      removeSelectedEdges,\n      findEdge,\n      findNode,\n      isValidConnection,\n      multiSelectionActive,\n      disableKeyboardA11y,\n      elementsSelectable,\n      edgesUpdatable,\n      edgesFocusable\n    } = useVueFlow();\n    const edge = computed(() => findEdge(props.id));\n    const hooks = useEdgeHooks(edge.value, emits);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const mouseOver = ref(false);\n    const updating = ref(false);\n    const nodeId = ref(\"\");\n    const handleId = ref(null);\n    const edgeUpdaterType = ref(\"source\");\n    const edgeEl = ref(null);\n    const isSelectable = toRef(\n      () => typeof edge.value.selectable === \"undefined\" ? elementsSelectable.value : edge.value.selectable\n    );\n    const isUpdatable = toRef(() => typeof edge.value.updatable === \"undefined\" ? edgesUpdatable.value : edge.value.updatable);\n    const isFocusable = toRef(() => typeof edge.value.focusable === \"undefined\" ? edgesFocusable.value : edge.value.focusable);\n    provide(EdgeId, props.id);\n    provide(EdgeRef, edgeEl);\n    const edgeClass = computed(() => edge.value.class instanceof Function ? edge.value.class(edge.value) : edge.value.class);\n    const edgeStyle = computed(() => edge.value.style instanceof Function ? edge.value.style(edge.value) : edge.value.style);\n    const edgeCmp = computed(() => {\n      const name = edge.value.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`edge-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let edgeType = edge.value.template ?? getEdgeTypes.value[name];\n      if (typeof edgeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            edgeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (edgeType && typeof edgeType !== \"string\") {\n        return edgeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.EDGE_TYPE_MISSING, edgeType));\n      return false;\n    });\n    const { handlePointerDown } = useHandle({\n      nodeId,\n      handleId,\n      type: edgeUpdaterType,\n      isValidConnection,\n      edgeUpdaterType,\n      onEdgeUpdate,\n      onEdgeUpdateEnd\n    });\n    return () => {\n      const sourceNode = findNode(edge.value.source);\n      const targetNode = findNode(edge.value.target);\n      const pathOptions = \"pathOptions\" in edge.value ? edge.value.pathOptions : {};\n      if (!sourceNode && !targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.value.id, edge.value.source, edge.value.target));\n        return null;\n      }\n      if (!sourceNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.value.id, edge.value.source));\n        return null;\n      }\n      if (!targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.value.id, edge.value.target));\n        return null;\n      }\n      if (!edge.value || edge.value.hidden || sourceNode.hidden || targetNode.hidden) {\n        return null;\n      }\n      let sourceNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        sourceNodeHandles = sourceNode.handleBounds.source;\n      } else {\n        sourceNodeHandles = [...sourceNode.handleBounds.source || [], ...sourceNode.handleBounds.target || []];\n      }\n      const sourceHandle = getHandle(sourceNodeHandles, edge.value.sourceHandle);\n      let targetNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        targetNodeHandles = targetNode.handleBounds.target;\n      } else {\n        targetNodeHandles = [...targetNode.handleBounds.target || [], ...targetNode.handleBounds.source || []];\n      }\n      const targetHandle = getHandle(targetNodeHandles, edge.value.targetHandle);\n      const sourcePosition = (sourceHandle == null ? void 0 : sourceHandle.position) || Position.Bottom;\n      const targetPosition = (targetHandle == null ? void 0 : targetHandle.position) || Position.Top;\n      const { x: sourceX, y: sourceY } = getHandlePosition(sourceNode, sourceHandle, sourcePosition);\n      const { x: targetX, y: targetY } = getHandlePosition(targetNode, targetHandle, targetPosition);\n      edge.value.sourceX = sourceX;\n      edge.value.sourceY = sourceY;\n      edge.value.targetX = targetX;\n      edge.value.targetY = targetY;\n      return h(\n        \"g\",\n        {\n          \"ref\": edgeEl,\n          \"key\": props.id,\n          \"data-id\": props.id,\n          \"class\": [\n            \"vue-flow__edge\",\n            `vue-flow__edge-${edgeCmp.value === false ? \"default\" : edge.value.type || \"default\"}`,\n            noPanClassName.value,\n            edgeClass.value,\n            {\n              updating: mouseOver.value,\n              selected: edge.value.selected,\n              animated: edge.value.animated,\n              inactive: !isSelectable.value\n            }\n          ],\n          \"onClick\": onEdgeClick,\n          \"onContextmenu\": onEdgeContextMenu,\n          \"onDblclick\": onDoubleClick,\n          \"onMouseenter\": onEdgeMouseEnter,\n          \"onMousemove\": onEdgeMouseMove,\n          \"onMouseleave\": onEdgeMouseLeave,\n          \"onKeyDown\": isFocusable.value ? onKeyDown : void 0,\n          \"tabIndex\": isFocusable.value ? 0 : void 0,\n          \"aria-label\": edge.value.ariaLabel === null ? void 0 : edge.value.ariaLabel || `Edge from ${edge.value.source} to ${edge.value.target}`,\n          \"aria-describedby\": isFocusable.value ? `${ARIA_EDGE_DESC_KEY}-${vueFlowId}` : void 0,\n          \"role\": isFocusable.value ? \"button\" : \"img\"\n        },\n        [\n          updating.value ? null : h(edgeCmp.value === false ? getEdgeTypes.value.default : edgeCmp.value, {\n            id: props.id,\n            sourceNode,\n            targetNode,\n            source: edge.value.source,\n            target: edge.value.target,\n            type: edge.value.type,\n            updatable: isUpdatable.value,\n            selected: edge.value.selected,\n            animated: edge.value.animated,\n            label: edge.value.label,\n            labelStyle: edge.value.labelStyle,\n            labelShowBg: edge.value.labelShowBg,\n            labelBgStyle: edge.value.labelBgStyle,\n            labelBgPadding: edge.value.labelBgPadding,\n            labelBgBorderRadius: edge.value.labelBgBorderRadius,\n            data: edge.value.data,\n            events: { ...edge.value.events, ...hooks.on },\n            style: edgeStyle.value,\n            markerStart: `url('#${getMarkerId(edge.value.markerStart, vueFlowId)}')`,\n            markerEnd: `url('#${getMarkerId(edge.value.markerEnd, vueFlowId)}')`,\n            sourcePosition,\n            targetPosition,\n            sourceX,\n            sourceY,\n            targetX,\n            targetY,\n            sourceHandleId: edge.value.sourceHandle,\n            targetHandleId: edge.value.targetHandle,\n            interactionWidth: edge.value.interactionWidth,\n            ...pathOptions\n          }),\n          [\n            isUpdatable.value === \"source\" || isUpdatable.value === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterSourceMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": sourcePosition,\n                  \"centerX\": sourceX,\n                  \"centerY\": sourceY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"source\",\n                  \"data-type\": \"source\"\n                })\n              )\n            ] : null,\n            isUpdatable.value === \"target\" || isUpdatable.value === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterTargetMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": targetPosition,\n                  \"centerX\": targetX,\n                  \"centerY\": targetY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"target\",\n                  \"data-type\": \"target\"\n                })\n              )\n            ] : null\n          ]\n        ]\n      );\n    };\n    function onEdgeUpdaterMouseEnter() {\n      mouseOver.value = true;\n    }\n    function onEdgeUpdaterMouseOut() {\n      mouseOver.value = false;\n    }\n    function onEdgeUpdate(event, connection) {\n      hooks.emit.update({ event, edge: edge.value, connection });\n    }\n    function onEdgeUpdateEnd(event) {\n      hooks.emit.updateEnd({ event, edge: edge.value });\n      updating.value = false;\n    }\n    function handleEdgeUpdater(event, isSourceHandle) {\n      if (event.button !== 0) {\n        return;\n      }\n      updating.value = true;\n      nodeId.value = isSourceHandle ? edge.value.target : edge.value.source;\n      handleId.value = (isSourceHandle ? edge.value.targetHandle : edge.value.sourceHandle) ?? \"\";\n      edgeUpdaterType.value = isSourceHandle ? \"target\" : \"source\";\n      hooks.emit.updateStart({ event, edge: edge.value });\n      handlePointerDown(event);\n    }\n    function onEdgeClick(event) {\n      var _a;\n      const data = { event, edge: edge.value };\n      if (isSelectable.value) {\n        nodesSelectionActive.value = false;\n        if (edge.value.selected && multiSelectionActive.value) {\n          removeSelectedEdges([edge.value]);\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n        } else {\n          addSelectedEdges([edge.value]);\n        }\n      }\n      hooks.emit.click(data);\n    }\n    function onEdgeContextMenu(event) {\n      hooks.emit.contextMenu({ event, edge: edge.value });\n    }\n    function onDoubleClick(event) {\n      hooks.emit.doubleClick({ event, edge: edge.value });\n    }\n    function onEdgeMouseEnter(event) {\n      hooks.emit.mouseEnter({ event, edge: edge.value });\n    }\n    function onEdgeMouseMove(event) {\n      hooks.emit.mouseMove({ event, edge: edge.value });\n    }\n    function onEdgeMouseLeave(event) {\n      hooks.emit.mouseLeave({ event, edge: edge.value });\n    }\n    function onEdgeUpdaterSourceMouseDown(event) {\n      handleEdgeUpdater(event, true);\n    }\n    function onEdgeUpdaterTargetMouseDown(event) {\n      handleEdgeUpdater(event, false);\n    }\n    function onKeyDown(event) {\n      var _a;\n      if (!disableKeyboardA11y.value && elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        if (unselect) {\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n          removeSelectedEdges([findEdge(props.id)]);\n        } else {\n          addSelectedEdges([findEdge(props.id)]);\n        }\n      }\n    }\n  }\n});\nconst EdgeWrapper$1 = EdgeWrapper;\nconst oppositePosition = {\n  [Position.Left]: Position.Right,\n  [Position.Right]: Position.Left,\n  [Position.Top]: Position.Bottom,\n  [Position.Bottom]: Position.Top\n};\nconst ConnectionLine = defineComponent({\n  name: \"ConnectionLine\",\n  compatConfig: { MODE: 3 },\n  setup() {\n    var _a;\n    const {\n      id: id2,\n      connectionMode,\n      connectionStartHandle,\n      connectionEndHandle,\n      connectionPosition,\n      connectionLineType,\n      connectionLineStyle,\n      connectionLineOptions,\n      connectionStatus,\n      viewport,\n      findNode\n    } = useVueFlow();\n    const connectionLineComponent = (_a = inject(Slots)) == null ? void 0 : _a[\"connection-line\"];\n    const fromNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionStartHandle.value) == null ? void 0 : _a2.nodeId);\n    });\n    const toNode = computed(() => {\n      var _a2;\n      return findNode((_a2 = connectionEndHandle.value) == null ? void 0 : _a2.nodeId) ?? null;\n    });\n    const toXY = computed(() => {\n      return {\n        x: (connectionPosition.value.x - viewport.value.x) / viewport.value.zoom,\n        y: (connectionPosition.value.y - viewport.value.y) / viewport.value.zoom\n      };\n    });\n    const markerStart = computed(\n      () => connectionLineOptions.value.markerStart ? `url(#${getMarkerId(connectionLineOptions.value.markerStart, id2)})` : \"\"\n    );\n    const markerEnd = computed(\n      () => connectionLineOptions.value.markerEnd ? `url(#${getMarkerId(connectionLineOptions.value.markerEnd, id2)})` : \"\"\n    );\n    return () => {\n      var _a2, _b, _c, _d;\n      if (!fromNode.value || !connectionStartHandle.value) {\n        return null;\n      }\n      const startHandleId = connectionStartHandle.value.handleId;\n      const handleType = connectionStartHandle.value.type;\n      const fromHandleBounds = fromNode.value.handleBounds;\n      let handleBounds = fromHandleBounds == null ? void 0 : fromHandleBounds[handleType];\n      if (connectionMode.value === ConnectionMode.Loose) {\n        handleBounds = handleBounds || (fromHandleBounds == null ? void 0 : fromHandleBounds[handleType === \"source\" ? \"target\" : \"source\"]);\n      }\n      if (!handleBounds) {\n        return null;\n      }\n      const fromHandle = (startHandleId ? handleBounds.find((d) => d.id === startHandleId) : handleBounds[0]) ?? null;\n      const fromPosition = (fromHandle == null ? void 0 : fromHandle.position) || Position.Top;\n      const { x: fromX, y: fromY } = getHandlePosition(fromNode.value, fromHandle, fromPosition);\n      let toHandle = null;\n      if (toNode.value && ((_a2 = connectionEndHandle.value) == null ? void 0 : _a2.handleId)) {\n        if (connectionMode.value === ConnectionMode.Strict) {\n          toHandle = ((_b = toNode.value.handleBounds[handleType === \"source\" ? \"target\" : \"source\"]) == null ? void 0 : _b.find(\n            (d) => {\n              var _a3;\n              return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.handleId);\n            }\n          )) || null;\n        } else {\n          toHandle = ((_c = [...toNode.value.handleBounds.source || [], ...toNode.value.handleBounds.target || []]) == null ? void 0 : _c.find(\n            (d) => {\n              var _a3;\n              return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.handleId);\n            }\n          )) || null;\n        }\n      }\n      const toPosition = ((_d = connectionEndHandle.value) == null ? void 0 : _d.position) ?? (fromPosition ? oppositePosition[fromPosition] : null);\n      if (!fromPosition || !toPosition) {\n        return null;\n      }\n      const type = connectionLineType.value ?? connectionLineOptions.value.type ?? ConnectionLineType.Bezier;\n      let dAttr = \"\";\n      const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toXY.value.x,\n        targetY: toXY.value.y,\n        targetPosition: toPosition\n      };\n      if (type === ConnectionLineType.Bezier) {\n        [dAttr] = getBezierPath(pathParams);\n      } else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n          ...pathParams,\n          borderRadius: 0\n        });\n      } else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n      } else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n      } else {\n        dAttr = `M${fromX},${fromY} ${toXY.value.x},${toXY.value.y}`;\n      }\n      return h(\n        \"svg\",\n        { class: \"vue-flow__edges vue-flow__connectionline vue-flow__container\" },\n        h(\n          \"g\",\n          { class: \"vue-flow__connection\" },\n          connectionLineComponent ? h(connectionLineComponent, {\n            sourceX: fromX,\n            sourceY: fromY,\n            sourcePosition: fromPosition,\n            targetX: toXY.value.x,\n            targetY: toXY.value.y,\n            targetPosition: toPosition,\n            sourceNode: fromNode.value,\n            sourceHandle: fromHandle,\n            targetNode: toNode.value,\n            targetHandle: toHandle,\n            markerEnd: markerEnd.value,\n            markerStart: markerStart.value,\n            connectionStatus: connectionStatus.value\n          }) : h(\"path\", {\n            \"d\": dAttr,\n            \"class\": [connectionLineOptions.value.class, connectionStatus, \"vue-flow__connection-path\"],\n            \"style\": {\n              ...connectionLineStyle.value,\n              ...connectionLineOptions.value.style\n            },\n            \"marker-end\": markerEnd.value,\n            \"marker-start\": markerStart.value\n          })\n        )\n      );\n    };\n  }\n});\nconst ConnectionLine$1 = ConnectionLine;\nconst _hoisted_1$4 = [\"id\", \"markerWidth\", \"markerHeight\", \"markerUnits\", \"orient\"];\nconst __default__$6 = {\n  name: \"MarkerType\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$6 = /* @__PURE__ */ defineComponent({\n  ...__default__$6,\n  props: {\n    id: {},\n    type: {},\n    color: { default: \"none\" },\n    width: { default: 12.5 },\n    height: { default: 12.5 },\n    markerUnits: { default: \"strokeWidth\" },\n    orient: { default: \"auto-start-reverse\" },\n    strokeWidth: { default: 1 }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"marker\", {\n        id: _ctx.id,\n        class: \"vue-flow__arrowhead\",\n        viewBox: \"-10 -10 20 20\",\n        refX: \"0\",\n        refY: \"0\",\n        markerWidth: `${_ctx.width}`,\n        markerHeight: `${_ctx.height}`,\n        markerUnits: _ctx.markerUnits,\n        orient: _ctx.orient\n      }, [\n        _ctx.type === unref(MarkerType).ArrowClosed ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 0,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            fill: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          points: \"-5,-4 0,0 -5,4 -5,-4\"\n        }, null, 4)) : createCommentVNode(\"\", true),\n        _ctx.type === unref(MarkerType).Arrow ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 1,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          fill: \"none\",\n          points: \"-5,-4 0,0 -5,4\"\n        }, null, 4)) : createCommentVNode(\"\", true)\n      ], 8, _hoisted_1$4);\n    };\n  }\n});\nconst _hoisted_1$3 = { class: \"vue-flow__marker vue-flow__container\" };\nconst __default__$5 = {\n  name: \"MarkerDefinitions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$5 = /* @__PURE__ */ defineComponent({\n  ...__default__$5,\n  setup(__props) {\n    const { id: vueFlowId, edges, connectionLineOptions, defaultMarkerColor: defaultColor } = useVueFlow();\n    const markers = computed(() => {\n      const ids = /* @__PURE__ */ new Set();\n      const markers2 = [];\n      const createMarkers = (marker) => {\n        if (marker) {\n          const markerId = getMarkerId(marker, vueFlowId);\n          if (!ids.has(markerId)) {\n            if (typeof marker === \"object\") {\n              markers2.push({ ...marker, id: markerId, color: marker.color || defaultColor.value });\n            } else {\n              markers2.push({ id: markerId, color: defaultColor.value, type: marker });\n            }\n            ids.add(markerId);\n          }\n        }\n      };\n      for (const marker of [connectionLineOptions.value.markerEnd, connectionLineOptions.value.markerStart]) {\n        createMarkers(marker);\n      }\n      for (const edge of edges.value) {\n        for (const marker of [edge.markerStart, edge.markerEnd]) {\n          createMarkers(marker);\n        }\n      }\n      return markers2.sort((a, b) => a.id.localeCompare(b.id));\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", _hoisted_1$3, [\n        createElementVNode(\"defs\", null, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(markers.value, (marker) => {\n            return openBlock(), createBlock(_sfc_main$6, {\n              id: marker.id,\n              key: marker.id,\n              type: marker.type,\n              color: marker.color,\n              width: marker.width,\n              height: marker.height,\n              markerUnits: marker.markerUnits,\n              \"stroke-width\": marker.strokeWidth,\n              orient: marker.orient\n            }, null, 8, [\"id\", \"type\", \"color\", \"width\", \"height\", \"markerUnits\", \"stroke-width\", \"orient\"]);\n          }), 128))\n        ])\n      ]);\n    };\n  }\n});\nconst __default__$4 = {\n  name: \"Edges\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  ...__default__$4,\n  setup(__props) {\n    const { findNode, getEdges, elevateEdgesOnSelect } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(_sfc_main$5),\n        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(getEdges), (edge) => {\n          return openBlock(), createElementBlock(\"svg\", {\n            key: edge.id,\n            class: \"vue-flow__edges vue-flow__container\",\n            style: normalizeStyle({ zIndex: unref(getEdgeZIndex)(edge, unref(findNode), unref(elevateEdgesOnSelect)) })\n          }, [\n            createVNode(unref(EdgeWrapper$1), {\n              id: edge.id\n            }, null, 8, [\"id\"])\n          ], 4);\n        }), 128)),\n        createVNode(unref(ConnectionLine$1))\n      ], 64);\n    };\n  }\n});\nconst NodeWrapper = defineComponent({\n  name: \"Node\",\n  compatConfig: { MODE: 3 },\n  props: [\"id\", \"resizeObserver\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      noPanClassName,\n      selectNodesOnDrag,\n      nodesSelectionActive,\n      multiSelectionActive,\n      emits,\n      removeSelectedNodes,\n      addSelectedNodes,\n      updateNodeDimensions,\n      onUpdateNodeInternals,\n      getNodeTypes,\n      nodeExtent,\n      elevateNodesOnSelect,\n      disableKeyboardA11y,\n      ariaLiveMessage,\n      snapToGrid,\n      snapGrid,\n      nodeDragThreshold,\n      nodesDraggable,\n      elementsSelectable,\n      nodesConnectable,\n      nodesFocusable\n    } = useVueFlow();\n    const nodeElement = ref(null);\n    provide(NodeRef, nodeElement);\n    provide(NodeId, props.id);\n    const slots = inject(Slots);\n    const instance = getCurrentInstance();\n    const updateNodePositions = useUpdateNodePositions();\n    const { node, parentNode } = useNode(props.id);\n    const isDraggable = toRef(() => typeof node.draggable === \"undefined\" ? nodesDraggable.value : node.draggable);\n    const isSelectable = toRef(() => typeof node.selectable === \"undefined\" ? elementsSelectable.value : node.selectable);\n    const isConnectable = toRef(() => typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable);\n    const isFocusable = toRef(() => typeof node.focusable === \"undefined\" ? nodesFocusable.value : node.focusable);\n    const isInit = toRef(() => !!node.dimensions.width && !!node.dimensions.height);\n    const nodeCmp = computed(() => {\n      const name = node.type || \"default\";\n      const slot = slots == null ? void 0 : slots[`node-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let nodeType = node.template || getNodeTypes.value[name];\n      if (typeof nodeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            nodeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (nodeType && typeof nodeType !== \"string\") {\n        return nodeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.NODE_TYPE_MISSING, nodeType));\n      return false;\n    });\n    const { emit, on } = useNodeHooks(node, emits);\n    const dragging = useDrag({\n      id: props.id,\n      el: nodeElement,\n      disabled: () => !isDraggable.value,\n      selectable: isSelectable,\n      dragHandle: () => node.dragHandle,\n      onStart(event) {\n        emit.dragStart(event);\n      },\n      onDrag(event) {\n        emit.drag(event);\n      },\n      onStop(event) {\n        emit.dragStop(event);\n      },\n      onClick(event) {\n        onSelectNode(event);\n      }\n    });\n    const getClass = computed(() => node.class instanceof Function ? node.class(node) : node.class);\n    const getStyle = computed(() => {\n      const styles = (node.style instanceof Function ? node.style(node) : node.style) || {};\n      const width = node.width instanceof Function ? node.width(node) : node.width;\n      const height = node.height instanceof Function ? node.height(node) : node.height;\n      if (width) {\n        styles.width = typeof width === \"string\" ? width : `${width}px`;\n      }\n      if (height) {\n        styles.height = typeof height === \"string\" ? height : `${height}px`;\n      }\n      return styles;\n    });\n    const zIndex = toRef(() => Number(node.zIndex ?? getStyle.value.zIndex ?? 0));\n    onUpdateNodeInternals((updateIds) => {\n      if (updateIds.includes(props.id) || !updateIds.length) {\n        updateInternals();\n      }\n    });\n    onMounted(() => {\n      watch(\n        () => node.hidden,\n        (isHidden = false, _, onCleanup) => {\n          if (!isHidden && nodeElement.value) {\n            props.resizeObserver.observe(nodeElement.value);\n            onCleanup(() => {\n              if (nodeElement.value) {\n                props.resizeObserver.unobserve(nodeElement.value);\n              }\n            });\n          }\n        },\n        { immediate: true, flush: \"post\" }\n      );\n    });\n    watch([() => node.type, () => node.sourcePosition, () => node.targetPosition], () => {\n      nextTick(() => {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      });\n    });\n    watch(\n      [\n        () => node.position.x,\n        () => node.position.y,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.x;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.y;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.z;\n        },\n        zIndex,\n        () => node.selected,\n        () => node.dimensions.height,\n        () => node.dimensions.width,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.height;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.width;\n        }\n      ],\n      ([newX, newY, parentX, parentY, parentZ, nodeZIndex]) => {\n        const xyzPos = {\n          x: newX,\n          y: newY,\n          z: nodeZIndex + (elevateNodesOnSelect.value ? node.selected ? 1e3 : 0 : 0)\n        };\n        if (typeof parentX !== \"undefined\" && typeof parentY !== \"undefined\") {\n          node.computedPosition = getXYZPos({ x: parentX, y: parentY, z: parentZ }, xyzPos);\n        } else {\n          node.computedPosition = xyzPos;\n        }\n      },\n      { flush: \"post\", immediate: true }\n    );\n    watch([() => node.extent, nodeExtent], ([nodeExtent2, globalExtent], [oldNodeExtent, oldGlobalExtent]) => {\n      if (nodeExtent2 !== oldNodeExtent || globalExtent !== oldGlobalExtent) {\n        clampPosition2();\n      }\n    });\n    if (node.extent === \"parent\" || typeof node.extent === \"object\" && \"range\" in node.extent && node.extent.range === \"parent\") {\n      until(() => isInit).toBe(true).then(clampPosition2);\n    } else {\n      clampPosition2();\n    }\n    return () => {\n      if (node.hidden) {\n        return null;\n      }\n      return h(\n        \"div\",\n        {\n          \"ref\": nodeElement,\n          \"data-id\": node.id,\n          \"class\": [\n            \"vue-flow__node\",\n            `vue-flow__node-${nodeCmp.value === false ? \"default\" : node.type || \"default\"}`,\n            {\n              [noPanClassName.value]: isDraggable.value,\n              dragging: dragging == null ? void 0 : dragging.value,\n              draggable: isDraggable.value,\n              selected: node.selected,\n              selectable: isSelectable.value,\n              parent: node.isParent\n            },\n            getClass.value\n          ],\n          \"style\": {\n            visibility: isInit.value ? \"visible\" : \"hidden\",\n            zIndex: node.computedPosition.z ?? zIndex.value,\n            transform: `translate(${node.computedPosition.x}px,${node.computedPosition.y}px)`,\n            pointerEvents: isSelectable.value || isDraggable.value ? \"all\" : \"none\",\n            ...getStyle.value\n          },\n          \"tabIndex\": isFocusable.value ? 0 : void 0,\n          \"role\": isFocusable.value ? \"button\" : void 0,\n          \"aria-describedby\": disableKeyboardA11y.value ? void 0 : `${ARIA_NODE_DESC_KEY}-${vueFlowId}`,\n          \"aria-label\": node.ariaLabel,\n          \"onMouseenter\": onMouseEnter,\n          \"onMousemove\": onMouseMove,\n          \"onMouseleave\": onMouseLeave,\n          \"onContextmenu\": onContextMenu,\n          \"onClick\": onSelectNode,\n          \"onDblclick\": onDoubleClick,\n          \"onKeydown\": onKeyDown\n        },\n        [\n          h(nodeCmp.value === false ? getNodeTypes.value.default : nodeCmp.value, {\n            id: node.id,\n            type: node.type,\n            data: node.data,\n            events: { ...node.events, ...on },\n            selected: node.selected,\n            resizing: node.resizing,\n            dragging: dragging.value,\n            connectable: isConnectable.value,\n            position: node.computedPosition,\n            dimensions: node.dimensions,\n            isValidTargetPos: node.isValidTargetPos,\n            isValidSourcePos: node.isValidSourcePos,\n            parent: node.parentNode,\n            parentNodeId: node.parentNode,\n            zIndex: node.computedPosition.z ?? zIndex.value,\n            targetPosition: node.targetPosition,\n            sourcePosition: node.sourcePosition,\n            label: node.label,\n            dragHandle: node.dragHandle,\n            onUpdateNodeInternals: updateInternals\n          })\n        ]\n      );\n    };\n    function clampPosition2() {\n      const nextPos = node.computedPosition;\n      if (snapToGrid.value) {\n        nextPos.x = snapGrid.value[0] * Math.round(nextPos.x / snapGrid.value[0]);\n        nextPos.y = snapGrid.value[1] * Math.round(nextPos.y / snapGrid.value[1]);\n      }\n      const { computedPosition, position } = calcNextPosition(node, nextPos, emits.error, nodeExtent.value, parentNode.value);\n      if (node.computedPosition.x !== computedPosition.x || node.computedPosition.y !== computedPosition.y) {\n        node.computedPosition = { ...node.computedPosition, ...computedPosition };\n      }\n      if (node.position.x !== position.x || node.position.y !== position.y) {\n        node.position = position;\n      }\n    }\n    function updateInternals() {\n      if (nodeElement.value) {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      }\n    }\n    function onMouseEnter(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseEnter({ event, node });\n      }\n    }\n    function onMouseMove(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseMove({ event, node });\n      }\n    }\n    function onMouseLeave(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseLeave({ event, node });\n      }\n    }\n    function onContextMenu(event) {\n      return emit.contextMenu({ event, node });\n    }\n    function onDoubleClick(event) {\n      return emit.doubleClick({ event, node });\n    }\n    function onSelectNode(event) {\n      if (isSelectable.value && (!selectNodesOnDrag.value || !isDraggable.value || nodeDragThreshold.value > 0)) {\n        handleNodeClick(\n          node,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          false,\n          nodeElement.value\n        );\n      }\n      emit.click({ event, node });\n    }\n    function onKeyDown(event) {\n      if (isInputDOMNode(event) || disableKeyboardA11y.value) {\n        return;\n      }\n      if (elementSelectionKeys.includes(event.key) && isSelectable.value) {\n        const unselect = event.key === \"Escape\";\n        handleNodeClick(\n          node,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          unselect,\n          nodeElement.value\n        );\n      } else if (isDraggable.value && node.selected && arrowKeyDiffs[event.key]) {\n        ariaLiveMessage.value = `Moved selected node ${event.key.replace(\"Arrow\", \"\").toLowerCase()}. New position, x: ${~~node.position.x}, y: ${~~node.position.y}`;\n        updateNodePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n  }\n});\nconst NodeWrapper$1 = NodeWrapper;\nconst _hoisted_1$2 = {\n  height: \"0\",\n  width: \"0\"\n};\nconst __default__$3 = {\n  name: \"EdgeLabelRenderer\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$3 = /* @__PURE__ */ defineComponent({\n  ...__default__$3,\n  setup(__props) {\n    const { viewportRef } = useVueFlow();\n    const teleportTarget = toRef(() => {\n      var _a;\n      return (_a = viewportRef.value) == null ? void 0 : _a.getElementsByClassName(\"vue-flow__edge-labels\")[0];\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", null, [\n        (openBlock(), createElementBlock(\"foreignObject\", _hoisted_1$2, [\n          (openBlock(), createBlock(Teleport, {\n            to: teleportTarget.value,\n            disabled: !teleportTarget.value\n          }, [\n            renderSlot(_ctx.$slots, \"default\")\n          ], 8, [\"to\", \"disabled\"]))\n        ]))\n      ]);\n    };\n  }\n});\nfunction useNodesInitialized(options = { includeHiddenNodes: false }) {\n  const { nodes } = useVueFlow();\n  return computed(() => {\n    if (nodes.value.length === 0) {\n      return false;\n    }\n    for (const node of nodes.value) {\n      if (options.includeHiddenNodes || !node.hidden) {\n        if ((node == null ? void 0 : node.handleBounds) === void 0 || node.dimensions.width === 0 || node.dimensions.height === 0) {\n          return false;\n        }\n      }\n    }\n    return true;\n  });\n}\nconst _hoisted_1$1 = { class: \"vue-flow__nodes vue-flow__container\" };\nconst __default__$2 = {\n  name: \"Nodes\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$2 = /* @__PURE__ */ defineComponent({\n  ...__default__$2,\n  setup(__props) {\n    const { getNodes, updateNodeDimensions, emits } = useVueFlow();\n    const nodesInitialized = useNodesInitialized();\n    const resizeObserver = ref();\n    watch(\n      nodesInitialized,\n      (isInit) => {\n        if (isInit) {\n          nextTick(() => {\n            emits.nodesInitialized(getNodes.value);\n          });\n        }\n      },\n      { immediate: true }\n    );\n    onMounted(() => {\n      resizeObserver.value = new ResizeObserver((entries) => {\n        const updates = entries.map((entry) => {\n          const id2 = entry.target.getAttribute(\"data-id\");\n          return {\n            id: id2,\n            nodeElement: entry.target,\n            forceUpdate: true\n          };\n        });\n        nextTick(() => updateNodeDimensions(updates));\n      });\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      return (_a = resizeObserver.value) == null ? void 0 : _a.disconnect();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n        resizeObserver.value ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(unref(getNodes), (node, __, ___, _cached) => {\n          const _memo = [node.id];\n          if (_cached && _cached.key === node.id && isMemoSame(_cached, _memo))\n            return _cached;\n          const _item = (openBlock(), createBlock(unref(NodeWrapper$1), {\n            id: node.id,\n            key: node.id,\n            \"resize-observer\": resizeObserver.value\n          }, null, 8, [\"id\", \"resize-observer\"]));\n          _item.memo = _memo;\n          return _item;\n        }, _cache, 0), 128)) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nfunction useStylesLoadedWarning() {\n  const { emits } = useVueFlow();\n  onMounted(() => {\n    if (isDev()) {\n      const pane = document.querySelector(\".vue-flow__pane\");\n      if (pane && !(window.getComputedStyle(pane).zIndex === \"1\")) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_STYLES));\n      }\n    }\n  });\n}\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"div\", { class: \"vue-flow__edge-labels\" }, null, -1);\nconst __default__$1 = {\n  name: \"VueFlow\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    id: {},\n    modelValue: {},\n    nodes: {},\n    edges: {},\n    edgeTypes: {},\n    nodeTypes: {},\n    connectionMode: {},\n    connectionLineType: {},\n    connectionLineStyle: { default: void 0 },\n    connectionLineOptions: { default: void 0 },\n    connectionRadius: {},\n    isValidConnection: { type: [Function, null], default: void 0 },\n    deleteKeyCode: { default: void 0 },\n    selectionKeyCode: { default: void 0 },\n    multiSelectionKeyCode: { default: void 0 },\n    zoomActivationKeyCode: { default: void 0 },\n    panActivationKeyCode: { default: void 0 },\n    snapToGrid: { type: Boolean, default: void 0 },\n    snapGrid: {},\n    onlyRenderVisibleElements: { type: Boolean, default: void 0 },\n    edgesUpdatable: { type: [Boolean, String], default: void 0 },\n    nodesDraggable: { type: Boolean, default: void 0 },\n    nodesConnectable: { type: Boolean, default: void 0 },\n    nodeDragThreshold: {},\n    elementsSelectable: { type: Boolean, default: void 0 },\n    selectNodesOnDrag: { type: Boolean, default: void 0 },\n    panOnDrag: { type: [Boolean, Array], default: void 0 },\n    minZoom: {},\n    maxZoom: {},\n    defaultViewport: {},\n    translateExtent: {},\n    nodeExtent: {},\n    defaultMarkerColor: {},\n    zoomOnScroll: { type: Boolean, default: void 0 },\n    zoomOnPinch: { type: Boolean, default: void 0 },\n    panOnScroll: { type: Boolean, default: void 0 },\n    panOnScrollSpeed: {},\n    panOnScrollMode: {},\n    paneClickDistance: {},\n    zoomOnDoubleClick: { type: Boolean, default: void 0 },\n    preventScrolling: { type: Boolean, default: void 0 },\n    selectionMode: {},\n    edgeUpdaterRadius: {},\n    fitViewOnInit: { type: Boolean, default: void 0 },\n    connectOnClick: { type: Boolean, default: void 0 },\n    applyDefault: { type: Boolean, default: void 0 },\n    autoConnect: { type: [Boolean, Function], default: void 0 },\n    noDragClassName: {},\n    noWheelClassName: {},\n    noPanClassName: {},\n    defaultEdgeOptions: {},\n    elevateEdgesOnSelect: { type: Boolean, default: void 0 },\n    elevateNodesOnSelect: { type: Boolean, default: void 0 },\n    disableKeyboardA11y: { type: Boolean, default: void 0 },\n    edgesFocusable: { type: Boolean, default: void 0 },\n    nodesFocusable: { type: Boolean, default: void 0 },\n    autoPanOnConnect: { type: Boolean, default: void 0 },\n    autoPanOnNodeDrag: { type: Boolean, default: void 0 },\n    autoPanSpeed: {}\n  },\n  emits: [\"nodesChange\", \"edgesChange\", \"nodesInitialized\", \"miniMapNodeClick\", \"miniMapNodeDoubleClick\", \"miniMapNodeMouseEnter\", \"miniMapNodeMouseMove\", \"miniMapNodeMouseLeave\", \"connect\", \"connectStart\", \"connectEnd\", \"clickConnectStart\", \"clickConnectEnd\", \"moveStart\", \"move\", \"moveEnd\", \"selectionDragStart\", \"selectionDrag\", \"selectionDragStop\", \"selectionContextMenu\", \"selectionStart\", \"selectionEnd\", \"viewportChangeStart\", \"viewportChange\", \"viewportChangeEnd\", \"paneReady\", \"init\", \"paneScroll\", \"paneClick\", \"paneContextMenu\", \"paneMouseEnter\", \"paneMouseMove\", \"paneMouseLeave\", \"updateNodeInternals\", \"error\", \"edgeContextMenu\", \"edgeMouseEnter\", \"edgeMouseMove\", \"edgeMouseLeave\", \"edgeDoubleClick\", \"edgeClick\", \"edgeUpdateStart\", \"edgeUpdate\", \"edgeUpdateEnd\", \"nodeDoubleClick\", \"nodeClick\", \"nodeMouseEnter\", \"nodeMouseMove\", \"nodeMouseLeave\", \"nodeContextMenu\", \"nodeDragStart\", \"nodeDrag\", \"nodeDragStop\", \"update:modelValue\", \"update:nodes\", \"update:edges\"],\n  setup(__props, { expose: __expose, emit }) {\n    const props = __props;\n    const slots = useSlots();\n    const modelValue = useVModel(props, \"modelValue\", emit);\n    const modelNodes = useVModel(props, \"nodes\", emit);\n    const modelEdges = useVModel(props, \"edges\", emit);\n    const instance = useVueFlow(props);\n    const dispose = useWatchProps({ modelValue, nodes: modelNodes, edges: modelEdges }, props, instance);\n    useHooks(emit, instance.hooks);\n    useOnInitHandler();\n    useStylesLoadedWarning();\n    provide(Slots, slots);\n    onUnmounted(() => {\n      dispose();\n    });\n    __expose(instance);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: unref(instance).vueFlowRef,\n        class: \"vue-flow\"\n      }, [\n        createVNode(_sfc_main$8, null, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$4),\n            _hoisted_1,\n            createVNode(_sfc_main$2),\n            renderSlot(_ctx.$slots, \"zoom-pane\")\n          ]),\n          _: 3\n        }),\n        renderSlot(_ctx.$slots, \"default\"),\n        createVNode(_sfc_main$7)\n      ], 512);\n    };\n  }\n});\nconst __default__ = {\n  name: \"Panel\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    position: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const { userSelectionActive } = useVueFlow();\n    const positionClasses = computed(() => `${props.position}`.split(\"-\"));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\"vue-flow__panel\", positionClasses.value]),\n        style: normalizeStyle({ pointerEvents: unref(userSelectionActive) ? \"none\" : \"all\" })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 6);\n    };\n  }\n});\nfunction useConnection() {\n  const {\n    connectionStartHandle: startHandle,\n    connectionEndHandle: endHandle,\n    connectionStatus: status,\n    connectionPosition: position\n  } = useVueFlow();\n  return {\n    startHandle,\n    endHandle,\n    status,\n    position\n  };\n}\nfunction useHandleConnections(params) {\n  const { type, id: id2, nodeId, onConnect, onDisconnect } = params;\n  const { connectionLookup } = useVueFlow();\n  const _nodeId = useNodeId();\n  const currentNodeId = toRef(() => toValue$1(nodeId) ?? _nodeId);\n  const handleType = toRef(() => toValue$1(type));\n  const handleId = toRef(() => toValue$1(id2) ?? null);\n  const prevConnections = ref(null);\n  const connections = ref();\n  watch(\n    () => connectionLookup.value.get(`${currentNodeId.value}-${handleType.value}-${handleId.value}`),\n    (nextConnections) => {\n      if (areConnectionMapsEqual(connections.value, nextConnections)) {\n        return;\n      }\n      connections.value = nextConnections;\n    },\n    { immediate: true }\n  );\n  watch(\n    [connections, () => typeof onConnect !== \"undefined\", () => typeof onDisconnect !== \"undefined\"],\n    ([currentConnections = /* @__PURE__ */ new Map()]) => {\n      if (prevConnections.value && prevConnections.value !== currentConnections) {\n        handleConnectionChange(prevConnections.value, currentConnections, onDisconnect);\n        handleConnectionChange(currentConnections, prevConnections.value, onConnect);\n      }\n      prevConnections.value = currentConnections;\n    },\n    { immediate: true }\n  );\n  return computed(() => {\n    if (!connections.value) {\n      return [];\n    }\n    return Array.from(connections.value.values());\n  });\n}\nfunction useNodesData(_nodeIds) {\n  const { findNode } = useVueFlow();\n  return computed({\n    get() {\n      const nodeIds = toValue$1(_nodeIds);\n      if (!Array.isArray(nodeIds)) {\n        const node = findNode(nodeIds);\n        if (node) {\n          return {\n            id: node.id,\n            type: node.type,\n            data: node.data ?? null\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const nodeId of nodeIds) {\n        const node = findNode(nodeId);\n        if (node) {\n          data.push({\n            id: node.id,\n            type: node.type,\n            data: node.data ?? null\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set node data via useNodesData. This is not supported.\");\n    }\n  });\n}\nfunction useEdgesData(_edgeIds) {\n  const { findEdge } = useVueFlow();\n  return computed({\n    get() {\n      const edgeIds = toValue$1(_edgeIds);\n      if (!Array.isArray(edgeIds)) {\n        const edge = findEdge(edgeIds);\n        if (edge) {\n          return {\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const edgeId of edgeIds) {\n        const edge = findEdge(edgeId);\n        if (edge) {\n          data.push({\n            id: edge.id,\n            type: edge.type,\n            data: edge.data ?? null\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set edge data via useEdgesData. This is not supported.\");\n    }\n  });\n}\nexport {\n  _sfc_main$d as BaseEdge,\n  BezierEdge$1 as BezierEdge,\n  ConnectionLineType,\n  ConnectionMode,\n  _sfc_main$3 as EdgeLabelRenderer,\n  _sfc_main$e as EdgeText,\n  ErrorCode,\n  _sfc_main$f as Handle,\n  MarkerType,\n  NodeId as NodeIdInjection,\n  PanOnScrollMode,\n  _sfc_main as Panel,\n  PanelPosition,\n  Position,\n  SelectionMode,\n  SimpleBezierEdge$1 as SimpleBezierEdge,\n  SmoothStepEdge$1 as SmoothStepEdge,\n  StepEdge$1 as StepEdge,\n  StraightEdge$1 as StraightEdge,\n  _sfc_main$1 as VueFlow,\n  VueFlowError,\n  VueFlow as VueFlowInjection,\n  addEdge,\n  applyChanges,\n  applyEdgeChanges,\n  applyNodeChanges,\n  clamp,\n  connectionExists,\n  defaultEdgeTypes,\n  defaultNodeTypes,\n  getBezierEdgeCenter,\n  getBezierPath,\n  getBoundsofRects,\n  getConnectedEdges,\n  getIncomers,\n  getMarkerId,\n  getNodesInside,\n  getOutgoers,\n  getRectOfNodes,\n  getSimpleBezierPath,\n  getSimpleEdgeCenter,\n  getSmoothStepPath,\n  getStraightPath,\n  getTransformForBounds,\n  rendererPointToPoint as graphPosToZoomedPos,\n  isEdge,\n  isErrorOfType,\n  isGraphEdge,\n  isGraphNode,\n  isNode,\n  pointToRendererPoint,\n  rendererPointToPoint,\n  updateEdge,\n  useConnection,\n  useEdge,\n  useEdgesData,\n  useGetPointerPosition,\n  useHandle,\n  useHandleConnections,\n  useKeyPress,\n  useNode,\n  useNodeId,\n  useNodesData,\n  useNodesInitialized,\n  useVueFlow,\n  useZoomPanHelper\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}